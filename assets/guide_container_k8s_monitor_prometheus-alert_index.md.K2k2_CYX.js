import{_ as t,o as e,c as r,R as a}from"./chunks/framework.zUbWieqp.js";const g=JSON.parse('{"title":"1. PrometheusAlert简介","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/monitor/prometheus-alert/index.md","filePath":"guide/container/k8s/monitor/prometheus-alert/index.md","lastUpdated":1720533756000}'),o={name:"guide/container/k8s/monitor/prometheus-alert/index.md"},l=a('<table><thead><tr><th>组件</th><th>说明</th><th>官当</th></tr></thead><tbody><tr><td>Prometheus</td><td>很火的独立开源监控告警项目</td><td><a href="https://prometheus.io/" target="_blank" rel="noreferrer">https://prometheus.io/</a></td></tr><tr><td>AlertManager</td><td>AlertManager管理报警信息</td><td><a href="https://prometheus.io/docs/alerting/latest/alertmanager/" target="_blank" rel="noreferrer">https://prometheus.io/docs/alerting/latest/alertmanager/</a></td></tr><tr><td>pushgateway</td><td>信息收集中转站进行数据上报采集</td><td><a href="https://github.com/prometheus/pushgateway" target="_blank" rel="noreferrer">https://github.com/prometheus/pushgateway</a></td></tr><tr><td>prometheusAlert</td><td>开源运维告警中心消息转发系统</td><td><a href="https://github.com/feiyu563/PrometheusAlert" target="_blank" rel="noreferrer">https://github.com/feiyu563/PrometheusAlert</a></td></tr><tr><td>告警媒介</td><td>钉钉/企微/飞书...</td><td></td></tr></tbody></table><ul><li>流程</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407041632338.png" alt="image-20240704163211594"></p><h1 id="_1-prometheusalert简介" tabindex="-1">1. PrometheusAlert简介 <a class="header-anchor" href="#_1-prometheusalert简介" aria-label="Permalink to &quot;1. PrometheusAlert简介&quot;">​</a></h1><p>PrometheusAlert 是开源的运维告警中心消息转发系统，支持主流的监控系统 Prometheus、Zabbix，日志系统 Graylog2，Graylog3、数据可视化系统 Grafana、SonarQube，阿里云-云监控，以及所有支持 WebHook接口的系统发出的预警消息，支持将收到的这些消息发送到钉钉，微信，email，飞书，腾讯短信，腾讯电话，阿里云短信，阿里云电话，华为短信，百度云短信，容联云电话，七陌短信，七陌语音，TeleGram，百度 Hi(如流)等。</p><h2 id="_1-1-为什么使用prometheusalert" tabindex="-1">1.1 为什么使用PrometheusAlert? <a class="header-anchor" href="#_1-1-为什么使用prometheusalert" aria-label="Permalink to &quot;1.1 为什么使用PrometheusAlert?&quot;">​</a></h2><ul><li>部分快消息告警媒介需要额外部署webhook做转发；比如钉钉,还需要单独部署webhook</li><li>通过configmap配置文件维护性太差</li><li>alertmanager 是告警处理模块，但是告警消息的发送方法并不丰富。如果需要将告警接入飞书，钉钉，微信等，还需要有相应的SDK适配。prometheusAlert就是这样的SDK，可以将告警消息发送到各种终端上.</li></ul><h2 id="_1-2-架构原理" tabindex="-1">1.2 架构原理 <a class="header-anchor" href="#_1-2-架构原理" aria-label="Permalink to &quot;1.2 架构原理&quot;">​</a></h2><p>Exports --&gt; Prometheus --&gt; Prometheus Rules --&gt; Alertmanager --&gt; webhook --&gt; PrometheusAlert --&gt; Routes --&gt; 企业微/钉钉/飞书...</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407041624261.png" alt="image-20240704161339111"></p><h2 id="_1-3-优点" tabindex="-1">1.3 优点 <a class="header-anchor" href="#_1-3-优点" aria-label="Permalink to &quot;1.3 优点&quot;">​</a></h2><ul><li><p><code>配置灵活</code>：通过web UI界面配置操作，相较于configmap较灵活</p></li><li><p><code>功能强大</code>：支持在线修改告警模版，告警路由，告警记录，测试等</p></li></ul><ol><li>针对Prometheus增加了告警级别，并且支持按照不同级别发送消息到不同目标 对象。</li><li>简化Prometheus分组配置，支持按照具体消息发送到单个或多个接收方</li><li>增加Dashboard，提供配置测试，告警消息模版自定义，告警模版测试等功能</li></ol><ul><li><code>自定义强度高</code>：通过路由匹配规则触发更多的告警媒介（企微，钉钉，飞书，公有云电话/短消息接口）</li></ul><ol><li>增加手机号码配置项和号码自动轮询配置，可固定发送给单一个人告警信息，也可以通过自动轮询的方式发送到多个人员且支持按照不同日期发送到不同人员</li></ol><ul><li><code>开源免费</code>：PrometheusAlert 是一款完全开源的软件，可以免费使用和定制，而且有广泛的社区支持。</li></ul>',16),s=[l];function h(i,d,n,u,m,p){return e(),r("div",null,s)}const _=t(o,[["render",h]]);export{g as __pageData,_ as default};
