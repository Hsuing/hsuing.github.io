import{_ as s,o as n,c as a,R as l}from"./chunks/framework.zUbWieqp.js";const F=JSON.parse('{"title":"Linux","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/Monitor/Prometheus/8-rules_node_exporter.md","filePath":"guide/Linux/Monitor/Prometheus/8-rules_node_exporter.md","lastUpdated":1739960402000}'),o={name:"guide/Linux/Monitor/Prometheus/8-rules_node_exporter.md"},p=l(`<h1 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;Linux&quot;">​</a></h1><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">groups</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node-alert</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">rules</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDown</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">up{job=&quot;node&quot;} == 0</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">critical</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} down&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Instance: {{ $labels.instance }} 已经宕机 5分钟&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeCpuHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - avg by (instance) (irate(node_cpu_seconds_total{job=&quot;node&quot;,mode=&quot;idle&quot;}[5m]))) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} cpu使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;CPU 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeCpuIowaitHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">avg by (instance) (irate(node_cpu_seconds_total{job=&quot;node&quot;,mode=&quot;iowait&quot;}[5m])) * 100 &gt; 50</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} cpu iowait 使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;CPU iowait 使用率超过 50%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeLoad5High</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node_load5 &gt; (count by (instance) (node_cpu_seconds_total{job=&quot;node&quot;,mode=&#39;system&#39;})) * 1.2</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} load(5m) 过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Load(5m) 过高，超出cpu核数 1.2倍&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeMemoryHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - node_memory_MemAvailable_bytes{job=&quot;node&quot;} / node_memory_MemTotal_bytes{job=&quot;node&quot;}) * 100 &gt; 90</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} memory 使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Memory 使用率超过 90%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDiskRootHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - node_filesystem_avail_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/&quot;} / node_filesystem_size_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/&quot;}) * 100 &gt; 90</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">10m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk(/ 分区) 使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk(/ 分区) 使用率超过 90%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDiskBootHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - node_filesystem_avail_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/boot&quot;} / node_filesystem_size_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/boot&quot;}) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">10m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk(/boot 分区) 使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk(/boot 分区) 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDiskReadHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">irate(node_disk_read_bytes_total{job=&quot;node&quot;}[5m]) &gt; 20 * (1024 ^ 2)</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk 读取字节数 速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk 读取字节数 速率超过 20 MB/s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDiskWriteHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">irate(node_disk_written_bytes_total{job=&quot;node&quot;}[5m]) &gt; 20 * (1024 ^ 2)</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk 写入字节数 速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk 写入字节数 速率超过 20 MB/s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDiskReadRateCountHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">irate(node_disk_reads_completed_total{job=&quot;node&quot;}[5m]) &gt; 3000</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk iops 每秒读取速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk iops 每秒读取速率超过 3000 iops&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeDiskWriteRateCountHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">irate(node_disk_writes_completed_total{job=&quot;node&quot;}[5m]) &gt; 3000</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk iops 每秒写入速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk iops 每秒写入速率超过 3000 iops&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeInodeRootUsedPercentHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - node_filesystem_files_free{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/&quot;} / node_filesystem_files{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/&quot;}) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">10m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk(/ 分区) inode 使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk (/ 分区) inode 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeInodeBootUsedPercentHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - node_filesystem_files_free{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/boot&quot;} / node_filesystem_files{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/boot&quot;}) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">10m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} disk(/boot 分区) inode 使用率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Disk (/boot 分区) inode 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeFilefdAllocatedPercentHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node_filefd_allocated{job=&quot;node&quot;} / node_filefd_maximum{job=&quot;node&quot;} * 100 &gt; 80</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">10m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} filefd 打开百分比过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Filefd 打开百分比 超过 80%&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeNetworkNetinBitRateHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">avg by (instance) (irate(node_network_receive_bytes_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m]) * 8) &gt; 20 * (1024 ^ 2) * 8</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">3m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} network 接收比特数 速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Network 接收比特数 速率超过 20MB/s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeNetworkNetoutBitRateHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">avg by (instance) (irate(node_network_transmit_bytes_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m]) * 8) &gt; 20 * (1024 ^ 2) * 8</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">3m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} network 发送比特数 速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Network 发送比特数 速率超过 20MB/s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeNetworkNetinPacketErrorRateHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">avg by (instance) (irate(node_network_receive_errs_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m])) &gt; 15</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">3m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 接收错误包 速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Network 接收错误包 速率超过 15个/秒&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeNetworkNetoutPacketErrorRateHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">avg by (instance) (irate(node_network_transmit_packets_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m])) &gt; 15</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">3m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 发送错误包 速率过高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Network 发送错误包 速率超过 15个/秒&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeProcessBlockedHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node_procs_blocked{job=&quot;node&quot;} &gt; 10</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">10m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 当前被阻塞的任务的数量过多&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Process 当前被阻塞的任务的数量超过 10个&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">NodeTimeOffsetHigh</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">abs(node_timex_offset_seconds{job=&quot;node&quot;}) &gt; 3 * 60</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">2m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">info</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 时间偏差过大&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Time 节点的时间偏差超过 3m&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">groups</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  - </span><span style="color:#22863A;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">node-alert</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">rules</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDown</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">up{job=&quot;node&quot;} == 0</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">critical</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} down&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Instance: {{ $labels.instance }} 已经宕机 5分钟&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeCpuHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - avg by (instance) (irate(node_cpu_seconds_total{job=&quot;node&quot;,mode=&quot;idle&quot;}[5m]))) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} cpu使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;CPU 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeCpuIowaitHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">avg by (instance) (irate(node_cpu_seconds_total{job=&quot;node&quot;,mode=&quot;iowait&quot;}[5m])) * 100 &gt; 50</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} cpu iowait 使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;CPU iowait 使用率超过 50%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeLoad5High</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">node_load5 &gt; (count by (instance) (node_cpu_seconds_total{job=&quot;node&quot;,mode=&#39;system&#39;})) * 1.2</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} load(5m) 过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Load(5m) 过高，超出cpu核数 1.2倍&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeMemoryHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - node_memory_MemAvailable_bytes{job=&quot;node&quot;} / node_memory_MemTotal_bytes{job=&quot;node&quot;}) * 100 &gt; 90</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} memory 使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Memory 使用率超过 90%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDiskRootHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - node_filesystem_avail_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/&quot;} / node_filesystem_size_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/&quot;}) * 100 &gt; 90</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">10m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk(/ 分区) 使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk(/ 分区) 使用率超过 90%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDiskBootHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - node_filesystem_avail_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/boot&quot;} / node_filesystem_size_bytes{job=&quot;node&quot;,fstype=~&quot;ext.*|xfs&quot;,mountpoint =&quot;/boot&quot;}) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">10m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk(/boot 分区) 使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk(/boot 分区) 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDiskReadHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">irate(node_disk_read_bytes_total{job=&quot;node&quot;}[5m]) &gt; 20 * (1024 ^ 2)</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk 读取字节数 速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk 读取字节数 速率超过 20 MB/s&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDiskWriteHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">irate(node_disk_written_bytes_total{job=&quot;node&quot;}[5m]) &gt; 20 * (1024 ^ 2)</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk 写入字节数 速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk 写入字节数 速率超过 20 MB/s&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDiskReadRateCountHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">irate(node_disk_reads_completed_total{job=&quot;node&quot;}[5m]) &gt; 3000</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk iops 每秒读取速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk iops 每秒读取速率超过 3000 iops&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeDiskWriteRateCountHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">irate(node_disk_writes_completed_total{job=&quot;node&quot;}[5m]) &gt; 3000</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk iops 每秒写入速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk iops 每秒写入速率超过 3000 iops&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeInodeRootUsedPercentHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - node_filesystem_files_free{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/&quot;} / node_filesystem_files{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/&quot;}) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">10m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk(/ 分区) inode 使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk (/ 分区) inode 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeInodeBootUsedPercentHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - node_filesystem_files_free{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/boot&quot;} / node_filesystem_files{job=&quot;node&quot;,fstype=~&quot;ext4|xfs&quot;,mountpoint=&quot;/boot&quot;}) * 100 &gt; 80</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">10m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} disk(/boot 分区) inode 使用率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Disk (/boot 分区) inode 使用率超过 80%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeFilefdAllocatedPercentHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">node_filefd_allocated{job=&quot;node&quot;} / node_filefd_maximum{job=&quot;node&quot;} * 100 &gt; 80</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">10m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} filefd 打开百分比过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Filefd 打开百分比 超过 80%&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeNetworkNetinBitRateHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">avg by (instance) (irate(node_network_receive_bytes_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m]) * 8) &gt; 20 * (1024 ^ 2) * 8</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">3m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} network 接收比特数 速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Network 接收比特数 速率超过 20MB/s&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeNetworkNetoutBitRateHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">avg by (instance) (irate(node_network_transmit_bytes_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m]) * 8) &gt; 20 * (1024 ^ 2) * 8</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">3m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} network 发送比特数 速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Network 发送比特数 速率超过 20MB/s&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeNetworkNetinPacketErrorRateHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">avg by (instance) (irate(node_network_receive_errs_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m])) &gt; 15</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">3m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 接收错误包 速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Network 接收错误包 速率超过 15个/秒&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeNetworkNetoutPacketErrorRateHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">avg by (instance) (irate(node_network_transmit_packets_total{device=~&quot;eth0|eth1|ens33|ens37&quot;}[1m])) &gt; 15</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">3m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 发送错误包 速率过高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Network 发送错误包 速率超过 15个/秒&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeProcessBlockedHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">node_procs_blocked{job=&quot;node&quot;} &gt; 10</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">10m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 当前被阻塞的任务的数量过多&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Process 当前被阻塞的任务的数量超过 10个&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">NodeTimeOffsetHigh</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">abs(node_timex_offset_seconds{job=&quot;node&quot;}) &gt; 3 * 60</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">2m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">info</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 时间偏差过大&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Time 节点的时间偏差超过 3m&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span></code></pre></div><h1 id="windos" tabindex="-1">Windos <a class="header-anchor" href="#windos" aria-label="Permalink to &quot;Windos&quot;">​</a></h1><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">groups</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">windows-alert</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">rules</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">节点WODN状态</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">up{job=&quot;windows&quot;} == 0</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">emergency</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} down&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;告警节点: {{ $labels.instance }} 告警内容:已经宕机5分钟&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">CPU使用率高</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">100 - (avg by (instance) (irate(windows_cpu_time_total{job=&quot;windows&quot;,mode=&quot;idle&quot;}[2m])) * 100) &gt; 80</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} CPU使用率高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;告警节点: {{ $labels.instance }} 告警内容: CUP使用率超过80%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">内存使用率高</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">100.0 - 100 * windows_os_physical_memory_free_bytes{job=&quot;windows&quot;} / windows_cs_physical_memory_bytes{job=&quot;windows&quot;} &gt; 40</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 内存使用率高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;告警节点: {{ $labels.instance }} 告警内容:内存使用率超过70%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">C盘使用率高</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(1 - (windows_logical_disk_free_bytes{job=&quot;windows&quot;,volume=~&quot;C:&quot;}/windows_logical_disk_size_bytes{job=&quot;windows&quot;,volume=~&quot;C:&quot;}))*100 &gt; 85</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">critical</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} C盘使用率高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;告警节点: {{ $labels.instance }} 告警内容:C盘使用率超过85%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">磁盘使用率高</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(max by (instance) (1-windows_logical_disk_free_bytes{job=&quot;windows&quot;}/windows_logical_disk_size_bytes{job=&quot;windows&quot;}))*100 &gt; 85</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">critical</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 磁盘使用率高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;告警节点: {{ $labels.instance }} 告警内容:磁盘使用率超过85%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#85E89D;">alert</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">网络使用率高</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">expr</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">(irate(windows_net_bytes_total{job=&quot;windows&quot;,nic!~&#39;isatap.*|VPN.*&#39;}[5m]) * 8 / windows_net_current_bandwidth{job=&quot;windows&quot;,nic!~&#39;isatap.*|VPN.*&#39;}) * 100 &gt; 0.5</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">for</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">5m</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">labels</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">severity</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">warning</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">instance</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">annotations</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;instance: {{ $labels.instance }} 网络使用率高&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;告警节点: {{ $labels.instance }} 告警内容:网络使用率超过50%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;{{ $value }}&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">groups</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  - </span><span style="color:#22863A;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">windows-alert</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">rules</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">节点WODN状态</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">up{job=&quot;windows&quot;} == 0</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">emergency</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} down&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;告警节点: {{ $labels.instance }} 告警内容:已经宕机5分钟&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">CPU使用率高</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">100 - (avg by (instance) (irate(windows_cpu_time_total{job=&quot;windows&quot;,mode=&quot;idle&quot;}[2m])) * 100) &gt; 80</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} CPU使用率高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;告警节点: {{ $labels.instance }} 告警内容: CUP使用率超过80%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">内存使用率高</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">100.0 - 100 * windows_os_physical_memory_free_bytes{job=&quot;windows&quot;} / windows_cs_physical_memory_bytes{job=&quot;windows&quot;} &gt; 40</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 内存使用率高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;告警节点: {{ $labels.instance }} 告警内容:内存使用率超过70%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">C盘使用率高</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(1 - (windows_logical_disk_free_bytes{job=&quot;windows&quot;,volume=~&quot;C:&quot;}/windows_logical_disk_size_bytes{job=&quot;windows&quot;,volume=~&quot;C:&quot;}))*100 &gt; 85</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">critical</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} C盘使用率高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;告警节点: {{ $labels.instance }} 告警内容:C盘使用率超过85%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">磁盘使用率高</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(max by (instance) (1-windows_logical_disk_free_bytes{job=&quot;windows&quot;}/windows_logical_disk_size_bytes{job=&quot;windows&quot;}))*100 &gt; 85</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">critical</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 磁盘使用率高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;告警节点: {{ $labels.instance }} 告警内容:磁盘使用率超过85%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    - </span><span style="color:#22863A;">alert</span><span style="color:#24292E;">: </span><span style="color:#032F62;">网络使用率高</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">expr</span><span style="color:#24292E;">: </span><span style="color:#032F62;">(irate(windows_net_bytes_total{job=&quot;windows&quot;,nic!~&#39;isatap.*|VPN.*&#39;}[5m]) * 8 / windows_net_current_bandwidth{job=&quot;windows&quot;,nic!~&#39;isatap.*|VPN.*&#39;}) * 100 &gt; 0.5</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">for</span><span style="color:#24292E;">: </span><span style="color:#032F62;">5m</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">labels</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">severity</span><span style="color:#24292E;">: </span><span style="color:#032F62;">warning</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">instance</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $labels.instance }}&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">annotations</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">summary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;instance: {{ $labels.instance }} 网络使用率高&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;告警节点: {{ $labels.instance }} 告警内容:网络使用率超过50%(当前值:{{ $value}})&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">value</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;{{ $value }}&quot;</span></span></code></pre></div>`,4),e=[p];function t(c,E,r,y,i,u){return n(),a("div",null,e)}const d=s(o,[["render",t]]);export{F as __pageData,d as default};
