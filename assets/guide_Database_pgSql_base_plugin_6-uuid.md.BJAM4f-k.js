import{_ as s,o as e,c as a,R as n}from"./chunks/framework.zUbWieqp.js";const y=JSON.parse('{"title":"postgresql12下安装uuid-ossp","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Database/pgSql/base/plugin/6-uuid.md","filePath":"guide/Database/pgSql/base/plugin/6-uuid.md","lastUpdated":1711706009000}'),l={name:"guide/Database/pgSql/base/plugin/6-uuid.md"},p=n(`<p><a href="https://blog.csdn.net/ai2000ai/article/details/55253953?utm_source=blogxgwz0" target="_blank" rel="noreferrer">https://blog.csdn.net/ai2000ai/article/details/55253953?utm_source=blogxgwz0</a></p><p><a href="https://www.cnblogs.com/kuang17/p/10084605.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/kuang17/p/10084605.html</a></p><p><a href="https://centos.pkgs.org/8/centos-powertools-x86_64/uuid-devel-1.6.2-43.el8.x86_64.rpm.html" target="_blank" rel="noreferrer">https://centos.pkgs.org/8/centos-powertools-x86_64/uuid-devel-1.6.2-43.el8.x86_64.rpm.html</a></p><h1 id="postgresql12下安装uuid-ossp" tabindex="-1">postgresql12下安装uuid-ossp <a class="header-anchor" href="#postgresql12下安装uuid-ossp" aria-label="Permalink to &quot;postgresql12下安装uuid-ossp&quot;">​</a></h1><h2 id="一-检查是否已安装扩展uuid-ossp" tabindex="-1">一）检查是否已安装扩展uuid-ossp： <a class="header-anchor" href="#一-检查是否已安装扩展uuid-ossp" aria-label="Permalink to &quot;一）检查是否已安装扩展uuid-ossp：&quot;">​</a></h2><p>我们可以通过以下命令查看已有的扩展：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres=# select * from pg_extension;</span></span>
<span class="line"><span style="color:#e1e4e8;">  oid  | extname | extowner | extnamespace | extrelocatable | extversion | extconfig | extcondition </span></span>
<span class="line"><span style="color:#e1e4e8;">-------+---------+----------+--------------+----------------+------------+-----------+--------------</span></span>
<span class="line"><span style="color:#e1e4e8;"> 13579 | plpgsql |       10 |           11 | f              | 1.0        |           | </span></span>
<span class="line"><span style="color:#e1e4e8;"> </span></span>
<span class="line"><span style="color:#e1e4e8;"> 或者</span></span>
<span class="line"><span style="color:#e1e4e8;">postgres=# \\dx</span></span>
<span class="line"><span style="color:#e1e4e8;">                 List of installed extensions</span></span>
<span class="line"><span style="color:#e1e4e8;">  Name   | Version |   Schema   |         Description          </span></span>
<span class="line"><span style="color:#e1e4e8;">---------+---------+------------+------------------------------</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpgsql | 1.0     | pg_catalog | PL/pgSQL procedural language</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres=# select * from pg_extension;</span></span>
<span class="line"><span style="color:#24292e;">  oid  | extname | extowner | extnamespace | extrelocatable | extversion | extconfig | extcondition </span></span>
<span class="line"><span style="color:#24292e;">-------+---------+----------+--------------+----------------+------------+-----------+--------------</span></span>
<span class="line"><span style="color:#24292e;"> 13579 | plpgsql |       10 |           11 | f              | 1.0        |           | </span></span>
<span class="line"><span style="color:#24292e;"> </span></span>
<span class="line"><span style="color:#24292e;"> 或者</span></span>
<span class="line"><span style="color:#24292e;">postgres=# \\dx</span></span>
<span class="line"><span style="color:#24292e;">                 List of installed extensions</span></span>
<span class="line"><span style="color:#24292e;">  Name   | Version |   Schema   |         Description          </span></span>
<span class="line"><span style="color:#24292e;">---------+---------+------------+------------------------------</span></span>
<span class="line"><span style="color:#24292e;"> plpgsql | 1.0     | pg_catalog | PL/pgSQL procedural language</span></span></code></pre></div><h1 id="二-检查是否有可用来安装的扩展uuid-ossp" tabindex="-1">二）检查是否有可用来安装的扩展uuid-ossp <a class="header-anchor" href="#二-检查是否有可用来安装的扩展uuid-ossp" aria-label="Permalink to &quot;二）检查是否有可用来安装的扩展uuid-ossp&quot;">​</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres=# select * from pg_available_extensions;</span></span>
<span class="line"><span style="color:#e1e4e8;">    name    | default_version | installed_version |                  comment                  </span></span>
<span class="line"><span style="color:#e1e4e8;">------------+-----------------+-------------------+-------------------------------------------</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpgsql    | 1.0             | 1.0               | PL/pgSQL procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plperl     | 1.0             |                   | PL/Perl procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plperlu    | 1.0             |                   | PL/PerlU untrusted procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpython2u | 1.0             |                   | PL/Python2U untrusted procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpythonu  | 1.0             |                   | PL/PythonU untrusted procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;">(5 rows)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres=# select * from pg_available_extensions;</span></span>
<span class="line"><span style="color:#24292e;">    name    | default_version | installed_version |                  comment                  </span></span>
<span class="line"><span style="color:#24292e;">------------+-----------------+-------------------+-------------------------------------------</span></span>
<span class="line"><span style="color:#24292e;"> plpgsql    | 1.0             | 1.0               | PL/pgSQL procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plperl     | 1.0             |                   | PL/Perl procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plperlu    | 1.0             |                   | PL/PerlU untrusted procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plpython2u | 1.0             |                   | PL/Python2U untrusted procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plpythonu  | 1.0             |                   | PL/PythonU untrusted procedural language</span></span>
<span class="line"><span style="color:#24292e;">(5 rows)</span></span></code></pre></div><p><strong>注意：</strong> 要用双引号将uuid-ossp引起来，因为有个中划线“-”。否则</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres=# create extension uuid-ossp;</span></span>
<span class="line"><span style="color:#e1e4e8;">ERROR:  syntax error at or near &quot;-&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">LINE 1: create extension uuid-ossp;</span></span>
<span class="line"><span style="color:#e1e4e8;">                             ^</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres=# create extension uuid-ossp;</span></span>
<span class="line"><span style="color:#24292e;">ERROR:  syntax error at or near &quot;-&quot;</span></span>
<span class="line"><span style="color:#24292e;">LINE 1: create extension uuid-ossp;</span></span>
<span class="line"><span style="color:#24292e;">                             ^</span></span></code></pre></div><h1 id="三-pg源码文件下编译安装扩展" tabindex="-1">（三）PG源码文件下编译安装扩展 <a class="header-anchor" href="#三-pg源码文件下编译安装扩展" aria-label="Permalink to &quot;（三）PG源码文件下编译安装扩展&quot;">​</a></h1><h2 id="安装uuid依赖包" tabindex="-1"><strong>安装uuid依赖包：</strong> <a class="header-anchor" href="#安装uuid依赖包" aria-label="Permalink to &quot;**安装uuid依赖包：**&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">yum -y install e2fsprogs-devel uuid uuid-devel libuuid-devel</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">yum -y install e2fsprogs-devel uuid uuid-devel libuuid-devel</span></span></code></pre></div><h2 id="执行编译配置" tabindex="-1"><strong>执行编译配置：</strong> <a class="header-anchor" href="#执行编译配置" aria-label="Permalink to &quot;**执行编译配置：**&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@Location-01 ~]# cd /usr/local/src/postgresql-12.2/</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@Location-01 postgresql-12.2]# pwd</span></span>
<span class="line"><span style="color:#e1e4e8;">/usr/local/src/postgresql-12.2</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@Location-01 postgresql-12.2]# ./configure --prefix=/opt/pgsql12.2 --with-uuid=ossp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@Location-01 ~]# cd /usr/local/src/postgresql-12.2/</span></span>
<span class="line"><span style="color:#24292e;">[root@Location-01 postgresql-12.2]# pwd</span></span>
<span class="line"><span style="color:#24292e;">/usr/local/src/postgresql-12.2</span></span>
<span class="line"><span style="color:#24292e;">[root@Location-01 postgresql-12.2]# ./configure --prefix=/opt/pgsql12.2 --with-uuid=ossp</span></span></code></pre></div><h2 id="编译安装uuid-ossp" tabindex="-1"><strong>编译安装uuid-ossp</strong> <a class="header-anchor" href="#编译安装uuid-ossp" aria-label="Permalink to &quot;**编译安装uuid-ossp**&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@Location-01 ~]# cd /usr/local/src/postgresql-12.2/contrib/uuid-ossp/</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@Location-01 uuid-ossp]# pwd</span></span>
<span class="line"><span style="color:#e1e4e8;">/usr/local/src/postgresql-12.2/contrib/uuid-ossp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@Location-01 ~]# cd /usr/local/src/postgresql-12.2/contrib/uuid-ossp/</span></span>
<span class="line"><span style="color:#24292e;">[root@Location-01 uuid-ossp]# pwd</span></span>
<span class="line"><span style="color:#24292e;">/usr/local/src/postgresql-12.2/contrib/uuid-ossp</span></span></code></pre></div><p><strong>执行编译安装：</strong></p><p>make &amp;&amp; make install</p><h1 id="四-创建扩展" tabindex="-1">（四）创建扩展： <a class="header-anchor" href="#四-创建扩展" aria-label="Permalink to &quot;（四）创建扩展：&quot;">​</a></h1><h2 id="查看可用扩展" tabindex="-1">查看可用扩展： <a class="header-anchor" href="#查看可用扩展" aria-label="Permalink to &quot;查看可用扩展：&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres=# select * from pg_available_extensions;</span></span>
<span class="line"><span style="color:#e1e4e8;">    name    | default_version | installed_version |                     comment                     </span></span>
<span class="line"><span style="color:#e1e4e8;">------------+-----------------+-------------------+-------------------------------------------------</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpgsql    | 1.0             | 1.0               | PL/pgSQL procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plperl     | 1.0             |                   | PL/Perl procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plperlu    | 1.0             |                   | PL/PerlU untrusted procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpython2u | 1.0             |                   | PL/Python2U untrusted procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> plpythonu  | 1.0             |                   | PL/PythonU untrusted procedural language</span></span>
<span class="line"><span style="color:#e1e4e8;"> uuid-ossp  | 1.1             |                   | generate universally unique identifiers (UUIDs)</span></span>
<span class="line"><span style="color:#e1e4e8;">(6 rows)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres=# select * from pg_available_extensions;</span></span>
<span class="line"><span style="color:#24292e;">    name    | default_version | installed_version |                     comment                     </span></span>
<span class="line"><span style="color:#24292e;">------------+-----------------+-------------------+-------------------------------------------------</span></span>
<span class="line"><span style="color:#24292e;"> plpgsql    | 1.0             | 1.0               | PL/pgSQL procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plperl     | 1.0             |                   | PL/Perl procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plperlu    | 1.0             |                   | PL/PerlU untrusted procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plpython2u | 1.0             |                   | PL/Python2U untrusted procedural language</span></span>
<span class="line"><span style="color:#24292e;"> plpythonu  | 1.0             |                   | PL/PythonU untrusted procedural language</span></span>
<span class="line"><span style="color:#24292e;"> uuid-ossp  | 1.1             |                   | generate universally unique identifiers (UUIDs)</span></span>
<span class="line"><span style="color:#24292e;">(6 rows)</span></span></code></pre></div><h2 id="创建扩展" tabindex="-1">创建扩展： <a class="header-anchor" href="#创建扩展" aria-label="Permalink to &quot;创建扩展：&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres=# create extension &quot;uuid-ossp&quot;;</span></span>
<span class="line"><span style="color:#e1e4e8;">CREATE EXTENSION</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres=# create extension &quot;uuid-ossp&quot;;</span></span>
<span class="line"><span style="color:#24292e;">CREATE EXTENSION</span></span></code></pre></div><h1 id="五-使用扩展" tabindex="-1">（五）使用扩展： <a class="header-anchor" href="#五-使用扩展" aria-label="Permalink to &quot;（五）使用扩展：&quot;">​</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres=# select uuid_generate_v4();</span></span>
<span class="line"><span style="color:#e1e4e8;">           uuid_generate_v4           </span></span>
<span class="line"><span style="color:#e1e4e8;">--------------------------------------</span></span>
<span class="line"><span style="color:#e1e4e8;"> cba03532-aa87-40be-b4e2-cf2e13b71c6e</span></span>
<span class="line"><span style="color:#e1e4e8;">(1 row)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres=# select uuid_generate_v4();</span></span>
<span class="line"><span style="color:#24292e;">           uuid_generate_v4           </span></span>
<span class="line"><span style="color:#24292e;">--------------------------------------</span></span>
<span class="line"><span style="color:#24292e;"> cba03532-aa87-40be-b4e2-cf2e13b71c6e</span></span>
<span class="line"><span style="color:#24292e;">(1 row)</span></span></code></pre></div>`,27),o=[p];function t(r,c,i,u,d,g){return e(),a("div",null,o)}const b=s(l,[["render",t]]);export{y as __pageData,b as default};
