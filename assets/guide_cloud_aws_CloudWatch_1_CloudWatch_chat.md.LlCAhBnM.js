import{_ as a,o as t,c as e,R as o}from"./chunks/framework.zUbWieqp.js";const u=JSON.parse('{"title":"监控数据流向图","description":"","frontmatter":{},"headers":[],"relativePath":"guide/cloud/aws/CloudWatch/1_CloudWatch_chat.md","filePath":"guide/cloud/aws/CloudWatch/1_CloudWatch_chat.md","lastUpdated":1701330715000}'),s={name:"guide/cloud/aws/CloudWatch/1_CloudWatch_chat.md"},n=o('<p>介绍如何通过<code>Amazon SNS</code>和<code>AWS Lambda</code>来实现将<code>AWS CloudWatch</code>告警信息发送到飞书</p><h1 id="监控数据流向图" tabindex="-1">监控数据流向图 <a class="header-anchor" href="#监控数据流向图" aria-label="Permalink to &quot;监控数据流向图&quot;">​</a></h1><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301522313.jpg" alt=""></p><h1 id="方案架构" tabindex="-1">方案架构 <a class="header-anchor" href="#方案架构" aria-label="Permalink to &quot;方案架构&quot;">​</a></h1><p>本方案中 CloudWatch 接收 EC2 运行指标并进行监控。当 EC2 指标超出设定阈值后，CloudWatch 触发告警事件，并将事件消息通过 SNS 发送到 Lambda 函数。Lambda函数执行用户自定义的代码，包括：解析告警消息并发送到飞书、企业微信、钉钉机器人、或者 Prometheus 等平台</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301522715.jpg" alt=""></p><h2 id="aws-lambda" tabindex="-1">AWS Lambda <a class="header-anchor" href="#aws-lambda" aria-label="Permalink to &quot;AWS Lambda&quot;">​</a></h2><p>AWS Lambda 是无服务器的函数计算服务。通过 AWS Lambda ，无需预置或管理服务器即可运行代码。借助 Lambda ，您几乎可以为任何类型的应用程序或后端服务运行代码，而且完全无需管理。您可以将您的代码设置为自动从其他 AWS 服务如： CloudWatch 、 SNS 等触发，或者直接从任何 Web 或移动应用程序调用。</p><h2 id="amazon-sns" tabindex="-1">Amazon SNS <a class="header-anchor" href="#amazon-sns" aria-label="Permalink to &quot;Amazon SNS&quot;">​</a></h2><p>Amazon SNS 是一项用于应用与应用之间以及应用与人之间通信的完全托管型消息收发服务</p><h1 id="微信设置" tabindex="-1">微信设置 <a class="header-anchor" href="#微信设置" aria-label="Permalink to &quot;微信设置&quot;">​</a></h1><h2 id="创建-amazon-sns" tabindex="-1">创建 Amazon SNS <a class="header-anchor" href="#创建-amazon-sns" aria-label="Permalink to &quot;创建 Amazon SNS&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301522623.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301522555.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301522527.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301522805.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301523297.jpg" alt=""></p><p>确认已订阅</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311301523202.jpg" alt=""></p><h2 id="创建aws-lambda-函数" tabindex="-1">创建AWS Lambda 函数 <a class="header-anchor" href="#创建aws-lambda-函数" aria-label="Permalink to &quot;创建AWS Lambda 函数&quot;">​</a></h2><p>进入 lambda 服务，路径：服务-&gt;搜索，通过 lambda 关键字可以查找到</p><p><a href="https://lework.github.io/2019/09/20/aws-alert-lambda-wechat/" target="_blank" rel="noreferrer">https://lework.github.io/2019/09/20/aws-alert-lambda-wechat/</a></p><p><a href="https://aws.amazon.com/cn/blogs/china/enterprise-wechat-and-dingtalk-receiving-amazon-cloudwatch-alarms/" target="_blank" rel="noreferrer">https://aws.amazon.com/cn/blogs/china/enterprise-wechat-and-dingtalk-receiving-amazon-cloudwatch-alarms/</a></p><p><a href="https://aws.amazon.com/cn/blogs/china/enterprise-wechat-and-dingtalk-receiving-amazon-cloudwatch-alarms/?nc1=b_rp" target="_blank" rel="noreferrer">https://aws.amazon.com/cn/blogs/china/enterprise-wechat-and-dingtalk-receiving-amazon-cloudwatch-alarms/?nc1=b_rp</a></p><p><a href="https://blog.csdn.net/qq_35031937/article/details/126619004" target="_blank" rel="noreferrer">https://blog.csdn.net/qq_35031937/article/details/126619004</a></p><p><a href="https://blog.51cto.com/wutengfei/4361109" target="_blank" rel="noreferrer">https://blog.51cto.com/wutengfei/4361109</a></p><p><a href="https://blog.51cto.com/wutengfei/4556905" target="_blank" rel="noreferrer">https://blog.51cto.com/wutengfei/4556905</a></p><p><a href="https://docs.awspaas.com/apps/com.actionsoft.apps.feishu.open/webpage/README.html" target="_blank" rel="noreferrer">https://docs.awspaas.com/apps/com.actionsoft.apps.feishu.open/webpage/README.html</a></p>',28),c=[n];function r(h,l,i,p,d,m){return t(),e("div",null,c)}const b=a(s,[["render",r]]);export{u as __pageData,b as default};
