import{_ as s,o as a,c as t,R as l}from"./chunks/framework.zUbWieqp.js";const u=JSON.parse('{"title":"1. Helm部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/Helm/2-Helm安装.md","filePath":"guide/container/k8s/Helm/2-Helm安装.md","lastUpdated":1730456937000}'),n={name:"guide/container/k8s/Helm/2-Helm安装.md"},e=l(`<p><code>基于v3</code></p><h1 id="_1-helm部署" tabindex="-1">1. Helm部署 <a class="header-anchor" href="#_1-helm部署" aria-label="Permalink to &quot;1. Helm部署&quot;">​</a></h1><h2 id="_1-0-集群兼容" tabindex="-1">1.0 集群兼容 <a class="header-anchor" href="#_1-0-集群兼容" aria-label="Permalink to &quot;1.0 集群兼容&quot;">​</a></h2><p><a href="https://helm.sh/zh/docs/topics/version_skew/" target="_blank" rel="noreferrer">版本兼容</a></p><table><thead><tr><th style="text-align:left;">Helm 版本</th><th style="text-align:left;">支持 Kubernetes 版本</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="https://helm.sh/docs/topics/version_skew/" target="_blank" rel="noreferrer">3.16.x</a></td><td style="text-align:left;">1.31.x - 1.28.x</td></tr><tr><td style="text-align:left;">3.15.x</td><td style="text-align:left;">1.30.x - 1.27.x</td></tr><tr><td style="text-align:left;">3.14.x</td><td style="text-align:left;">1.29.x - 1.26.x</td></tr><tr><td style="text-align:left;">3.13.x</td><td style="text-align:left;">1.28.x - 1.25.x</td></tr><tr><td style="text-align:left;">3.12.x</td><td style="text-align:left;">1.27.x - 1.24.x</td></tr><tr><td style="text-align:left;">3.11.x</td><td style="text-align:left;">1.26.x - 1.23.x</td></tr><tr><td style="text-align:left;">3.10.x</td><td style="text-align:left;">1.25.x - 1.22.x</td></tr><tr><td style="text-align:left;">3.9.x</td><td style="text-align:left;">1.24.x - 1.21.x</td></tr><tr><td style="text-align:left;">3.8.x</td><td style="text-align:left;">1.23.x - 1.20.x</td></tr><tr><td style="text-align:left;">3.7.x</td><td style="text-align:left;">1.22.x - 1.19.x</td></tr><tr><td style="text-align:left;">3.6.x</td><td style="text-align:left;">1.21.x - 1.18.x</td></tr><tr><td style="text-align:left;">3.5.x</td><td style="text-align:left;">1.20.x - 1.17.x</td></tr><tr><td style="text-align:left;">3.4.x</td><td style="text-align:left;">1.19.x - 1.16.x</td></tr><tr><td style="text-align:left;">3.3.x</td><td style="text-align:left;">1.18.x - 1.15.x</td></tr><tr><td style="text-align:left;">3.2.x</td><td style="text-align:left;">1.18.x - 1.15.x</td></tr><tr><td style="text-align:left;">3.1.x</td><td style="text-align:left;">1.17.x - 1.14.x</td></tr><tr><td style="text-align:left;">3.0.x</td><td style="text-align:left;">1.16.x - 1.13.x</td></tr><tr><td style="text-align:left;">2.16.x</td><td style="text-align:left;">1.16.x - 1.15.x</td></tr><tr><td style="text-align:left;">...</td><td style="text-align:left;">...</td></tr></tbody></table><h2 id="_1-1-下载" tabindex="-1">1.1 下载 <a class="header-anchor" href="#_1-1-下载" aria-label="Permalink to &quot;1.1 下载&quot;">​</a></h2><p><a href="https://helm.sh/zh/docs/" target="_blank" rel="noreferrer">官当</a></p><p><a href="https://github.com/helm/helm/releases" target="_blank" rel="noreferrer">最新版本</a></p><p><a href="https://github.com/helm/helm" target="_blank" rel="noreferrer">官方github</a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">curl -LO https://get.helm.sh/helm-v3.15.2-linux-amd64.tar.gz</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">curl -LO https://get.helm.sh/helm-v3.15.2-linux-amd64.tar.gz</span></span></code></pre></div><h2 id="_1-2-安装" tabindex="-1">1.2 安装 <a class="header-anchor" href="#_1-2-安装" aria-label="Permalink to &quot;1.2 安装&quot;">​</a></h2><ul><li>解压</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#由于是二进制,直接解压到/usr/local/bin下就可以使用</span></span>
<span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zxvf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">helm-v3.15.2-linux-amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">mv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">linux-amd64/helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/helm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看版本</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# helm version</span></span>
<span class="line"><span style="color:#B392F0;">version.BuildInfo</span><span style="color:#E1E4E8;">{Version:</span><span style="color:#B392F0;">&quot;v3.15.2&quot;</span><span style="color:#B392F0;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GitCommit:&quot;1a500d5625419a524fdae4b33de351cc4f58ec35&quot;,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GitTreeState:&quot;clean&quot;,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GoVersion:&quot;go1.22.4&quot;}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#由于是二进制,直接解压到/usr/local/bin下就可以使用</span></span>
<span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zxvf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">helm-v3.15.2-linux-amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">mv</span><span style="color:#24292E;"> </span><span style="color:#032F62;">linux-amd64/helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/helm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看版本</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# helm version</span></span>
<span class="line"><span style="color:#6F42C1;">version.BuildInfo</span><span style="color:#24292E;">{Version:</span><span style="color:#6F42C1;">&quot;v3.15.2&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GitCommit:&quot;1a500d5625419a524fdae4b33de351cc4f58ec35&quot;,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GitTreeState:&quot;clean&quot;,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GoVersion:&quot;go1.22.4&quot;}</span></span></code></pre></div><p>其他方式参考,具体内容可参考官方 <a href="https://helm.sh/zh/docs/intro/install/" target="_blank" rel="noreferrer">安装文档</a></p><h2 id="_1-3-win下安装" tabindex="-1">1.3 win下安装 <a class="header-anchor" href="#_1-3-win下安装" aria-label="Permalink to &quot;1.3 win下安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">winget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Helm.Helm</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">winget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Helm.Helm</span></span></code></pre></div><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407091438842.png" alt="image-20240709143829022"></p><ul><li>查看版本</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407091439525.png" alt="image-20240709143858584"></p><h1 id="_2-添加国内仓库" tabindex="-1">2. 添加国内仓库 <a class="header-anchor" href="#_2-添加国内仓库" aria-label="Permalink to &quot;2. 添加国内仓库&quot;">​</a></h1><ul><li>微软仓库（<a href="http://mirror.azure.cn/kubernetes/charts/%EF%BC%89%E8%BF%99%E4%B8%AA%E4%BB%93%E5%BA%93%E6%8E%A8%E8%8D%90%EF%BC%8C%E5%9F%BA%E6%9C%AC%E4%B8%8A%E5%AE%98%E7%BD%91%E6%9C%89%E7%9A%84chart%E8%BF%99%E9%87%8C%E9%83%BD%E6%9C%89" target="_blank" rel="noreferrer">http://mirror.azure.cn/kubernetes/charts/）这个仓库推荐，基本上官网有的chart这里都有</a></li><li>阿里云仓库（<a href="https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts%EF%BC%89" target="_blank" rel="noreferrer">https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts）</a></li><li>官方仓库（<a href="https://hub.kubeapps.com/charts/incubator%EF%BC%89%E5%AE%98%E6%96%B9chart%E4%BB%93%E5%BA%93%EF%BC%8C%E5%9B%BD%E5%86%85%E5%8D%A1" target="_blank" rel="noreferrer">https://hub.kubeapps.com/charts/incubator）官方chart仓库，国内卡</a></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#添加阿里云</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#添加微软</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://mirror.azure.cn/kubernetes/charts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#更新</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">search</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stable</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#添加阿里云</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#添加微软</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://mirror.azure.cn/kubernetes/charts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#更新</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">search</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stable</span></span></code></pre></div><h1 id="_3-artifacthub-使用" tabindex="-1">3. ArtifactHub 使用 <a class="header-anchor" href="#_3-artifacthub-使用" aria-label="Permalink to &quot;3. ArtifactHub 使用&quot;">​</a></h1><p>比如我们想要部署 Nginx，首先在 <a href="https://artifacthub.io/" target="_blank" rel="noreferrer">ArtifactHub</a> 上进行搜索：</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407081742790.png" alt="image-20240708174226334"></p><p><a href="https://bitnami.com/" target="_blank" rel="noreferrer">Bitnami</a> 是 Helm 中最常用的仓库之一，它内置了很多常用的 Kubernetes 应用,点击nginx,进入主界面,之后点击右侧的install, 可以看到如何进行部署</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407081745476.png" alt="image-20240708174533408"></p>`,27),p=[e];function o(r,c,i,y,d,h){return a(),t("div",null,p)}const g=s(n,[["render",o]]);export{u as __pageData,g as default};
