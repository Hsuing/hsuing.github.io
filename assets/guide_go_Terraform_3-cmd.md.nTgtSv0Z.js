import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const d=JSON.parse('{"title":"1. Terraform CLI","description":"","frontmatter":{},"headers":[],"relativePath":"guide/go/Terraform/3-cmd.md","filePath":"guide/go/Terraform/3-cmd.md","lastUpdated":1754397935000}'),p={name:"guide/go/Terraform/3-cmd.md"},o=l(`<h1 id="_1-terraform-cli" tabindex="-1">1. Terraform <a href="https://developer.hashicorp.com/terraform/cli/commands" target="_blank" rel="noreferrer">CLI</a> <a class="header-anchor" href="#_1-terraform-cli" aria-label="Permalink to &quot;1. Terraform [CLI](https://developer.hashicorp.com/terraform/cli/commands)&quot;">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-help</span></span>
<span class="line"><span style="color:#B392F0;">Usage:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">terraform</span><span style="color:#E1E4E8;"> [global </span><span style="color:#9ECBFF;">options]</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">subcomman</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> [args]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">available</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">execution</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">are</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">listed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">below.</span></span>
<span class="line"><span style="color:#B392F0;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">primary</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">workflow</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">are</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">given</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">first,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">followed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">by</span></span>
<span class="line"><span style="color:#B392F0;">less</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">common</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">more</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">advanced</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Main</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">init</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">Prepare</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">working</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">directory</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">other</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">validate</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">Check</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">whether</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configuration</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">valid</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">plan</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">changes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">required</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">by</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">current</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configuration</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">apply</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">infrastructure</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">destroy</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Destroy</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">previously-created</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">infrastructure</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">All</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">other</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">console</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Try</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">expressions</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">at</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">an</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">interactive</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">command</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">prompt</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">fmt</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">Reformat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configuration</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">standard</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">style</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">force-unlock</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Release</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stuck</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lock</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">current</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">workspace</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">Install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">upgrade</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">modules</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">graph</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Generate</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Graphviz</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">graph</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">steps</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">an</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">operation</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">Associate</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">existing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">infrastructure</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">with</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">resource</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">login</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Obtain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">save</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">credentials</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">host</span></span>
<span class="line"><span style="color:#E1E4E8;">  logout        Remove locally-stored credentials </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> a remote host</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">metadata</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">Metadata</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">related</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">modules</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">all</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">declared</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">modules</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">working</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">directory</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">output</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">output</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">values</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">root</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">providers</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">providers</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">required</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">this</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configuration</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">refresh</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">match</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systems</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">current</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">saved</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plan</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">state</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Advanced</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">management</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">taint</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Mark</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">resource</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">instance</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">not</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">functional</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">test</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">Execute</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">integration</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tests</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">modules</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">untaint</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Remove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;tainted&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">resource</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">instance</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">version</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">current</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">workspace</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Workspace</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">management</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Global</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">options</span><span style="color:#E1E4E8;"> (use </span><span style="color:#9ECBFF;">these</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">before</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">subcommand,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">if</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">any</span><span style="color:#E1E4E8;">):</span></span>
<span class="line"><span style="color:#E1E4E8;">  -chdir</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">DIR</span><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Switch</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">different</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">working</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">directory</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">before</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">executing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">given</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">subcommand.</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-help</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">this</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">help</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">output,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">help</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">specified</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">subcommand.</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-version</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">An</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">alias</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;version&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">subcommand.</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">terraform</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-help</span></span>
<span class="line"><span style="color:#6F42C1;">Usage:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">terraform</span><span style="color:#24292E;"> [global </span><span style="color:#032F62;">options]</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">subcomman</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> [args]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">available</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">execution</span><span style="color:#24292E;"> </span><span style="color:#032F62;">are</span><span style="color:#24292E;"> </span><span style="color:#032F62;">listed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">below.</span></span>
<span class="line"><span style="color:#6F42C1;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">primary</span><span style="color:#24292E;"> </span><span style="color:#032F62;">workflow</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands</span><span style="color:#24292E;"> </span><span style="color:#032F62;">are</span><span style="color:#24292E;"> </span><span style="color:#032F62;">given</span><span style="color:#24292E;"> </span><span style="color:#032F62;">first,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">followed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">by</span></span>
<span class="line"><span style="color:#6F42C1;">less</span><span style="color:#24292E;"> </span><span style="color:#032F62;">common</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">more</span><span style="color:#24292E;"> </span><span style="color:#032F62;">advanced</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Main</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">init</span><span style="color:#24292E;">          </span><span style="color:#032F62;">Prepare</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">working</span><span style="color:#24292E;"> </span><span style="color:#032F62;">directory</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">other</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">validate</span><span style="color:#24292E;">      </span><span style="color:#032F62;">Check</span><span style="color:#24292E;"> </span><span style="color:#032F62;">whether</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configuration</span><span style="color:#24292E;"> </span><span style="color:#032F62;">is</span><span style="color:#24292E;"> </span><span style="color:#032F62;">valid</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">plan</span><span style="color:#24292E;">          </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">changes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">required</span><span style="color:#24292E;"> </span><span style="color:#032F62;">by</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">current</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configuration</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">apply</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">infrastructure</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">destroy</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Destroy</span><span style="color:#24292E;"> </span><span style="color:#032F62;">previously-created</span><span style="color:#24292E;"> </span><span style="color:#032F62;">infrastructure</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">All</span><span style="color:#24292E;"> </span><span style="color:#032F62;">other</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">console</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Try</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">expressions</span><span style="color:#24292E;"> </span><span style="color:#032F62;">at</span><span style="color:#24292E;"> </span><span style="color:#032F62;">an</span><span style="color:#24292E;"> </span><span style="color:#032F62;">interactive</span><span style="color:#24292E;"> </span><span style="color:#032F62;">command</span><span style="color:#24292E;"> </span><span style="color:#032F62;">prompt</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">fmt</span><span style="color:#24292E;">           </span><span style="color:#032F62;">Reformat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configuration</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">standard</span><span style="color:#24292E;"> </span><span style="color:#032F62;">style</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">force-unlock</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Release</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stuck</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lock</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">current</span><span style="color:#24292E;"> </span><span style="color:#032F62;">workspace</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">           </span><span style="color:#032F62;">Install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">upgrade</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">modules</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">graph</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Generate</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Graphviz</span><span style="color:#24292E;"> </span><span style="color:#032F62;">graph</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">steps</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">an</span><span style="color:#24292E;"> </span><span style="color:#032F62;">operation</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">        </span><span style="color:#032F62;">Associate</span><span style="color:#24292E;"> </span><span style="color:#032F62;">existing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">infrastructure</span><span style="color:#24292E;"> </span><span style="color:#032F62;">with</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">resource</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">login</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Obtain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">save</span><span style="color:#24292E;"> </span><span style="color:#032F62;">credentials</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">host</span></span>
<span class="line"><span style="color:#24292E;">  logout        Remove locally-stored credentials </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> a remote host</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">metadata</span><span style="color:#24292E;">      </span><span style="color:#032F62;">Metadata</span><span style="color:#24292E;"> </span><span style="color:#032F62;">related</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">modules</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">all</span><span style="color:#24292E;"> </span><span style="color:#032F62;">declared</span><span style="color:#24292E;"> </span><span style="color:#032F62;">modules</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">working</span><span style="color:#24292E;"> </span><span style="color:#032F62;">directory</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">output</span><span style="color:#24292E;">        </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">output</span><span style="color:#24292E;"> </span><span style="color:#032F62;">values</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">root</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">providers</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">providers</span><span style="color:#24292E;"> </span><span style="color:#032F62;">required</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">this</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configuration</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">refresh</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">match</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systems</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">          </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">current</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">saved</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plan</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">state</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Advanced</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">management</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">taint</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Mark</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">resource</span><span style="color:#24292E;"> </span><span style="color:#032F62;">instance</span><span style="color:#24292E;"> </span><span style="color:#032F62;">as</span><span style="color:#24292E;"> </span><span style="color:#032F62;">not</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">functional</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">test</span><span style="color:#24292E;">          </span><span style="color:#032F62;">Execute</span><span style="color:#24292E;"> </span><span style="color:#032F62;">integration</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tests</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">modules</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">untaint</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Remove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;tainted&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">resource</span><span style="color:#24292E;"> </span><span style="color:#032F62;">instance</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">version</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">current</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">workspace</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Workspace</span><span style="color:#24292E;"> </span><span style="color:#032F62;">management</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Global</span><span style="color:#24292E;"> </span><span style="color:#032F62;">options</span><span style="color:#24292E;"> (use </span><span style="color:#032F62;">these</span><span style="color:#24292E;"> </span><span style="color:#032F62;">before</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">subcommand,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">if</span><span style="color:#24292E;"> </span><span style="color:#032F62;">any</span><span style="color:#24292E;">):</span></span>
<span class="line"><span style="color:#24292E;">  -chdir</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">DIR</span><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Switch</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">different</span><span style="color:#24292E;"> </span><span style="color:#032F62;">working</span><span style="color:#24292E;"> </span><span style="color:#032F62;">directory</span><span style="color:#24292E;"> </span><span style="color:#032F62;">before</span><span style="color:#24292E;"> </span><span style="color:#032F62;">executing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">given</span><span style="color:#24292E;"> </span><span style="color:#032F62;">subcommand.</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-help</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">this</span><span style="color:#24292E;"> </span><span style="color:#032F62;">help</span><span style="color:#24292E;"> </span><span style="color:#032F62;">output,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">help</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">specified</span><span style="color:#24292E;"> </span><span style="color:#032F62;">subcommand.</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-version</span><span style="color:#24292E;">      </span><span style="color:#032F62;">An</span><span style="color:#24292E;"> </span><span style="color:#032F62;">alias</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;version&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">subcommand.</span></span></code></pre></div><h2 id="_1-1-基本命令" tabindex="-1">1.1 基本命令 <a class="header-anchor" href="#_1-1-基本命令" aria-label="Permalink to &quot;1.1 基本命令&quot;">​</a></h2><h3 id="init✅" tabindex="-1">init✅ <a class="header-anchor" href="#init✅" aria-label="Permalink to &quot;init✅&quot;">​</a></h3><p><code>terraform init</code>：初始化一个包含Terraform代码的工作目录。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-al</span></span>
<span class="line"><span style="color:#B392F0;">total</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">28</span></span>
<span class="line"><span style="color:#B392F0;">drwxr-xr-x</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Hsuin</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">197609</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Jul</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:49</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.</span></span>
<span class="line"><span style="color:#B392F0;">drwxr-xr-x</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Hsuin</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">197609</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Jul</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">17</span><span style="color:#9ECBFF;">:39</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">..</span></span>
<span class="line"><span style="color:#B392F0;">drwxr-xr-x</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Hsuin</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">197609</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Jul</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:26</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.terraform</span></span>
<span class="line"><span style="color:#B392F0;">-rw-r--r--</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Hsuin</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">197609</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">1083</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Jul</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:26</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.terraform.lock.hcl</span></span>
<span class="line"><span style="color:#B392F0;">-rw-r--r--</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Hsuin</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">197609</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">1856</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Jul</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:45</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">main.tf</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-al</span></span>
<span class="line"><span style="color:#6F42C1;">total</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">28</span></span>
<span class="line"><span style="color:#6F42C1;">drwxr-xr-x</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Hsuin</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">197609</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Jul</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:49</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.</span></span>
<span class="line"><span style="color:#6F42C1;">drwxr-xr-x</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Hsuin</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">197609</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Jul</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">17</span><span style="color:#032F62;">:39</span><span style="color:#24292E;"> </span><span style="color:#032F62;">..</span></span>
<span class="line"><span style="color:#6F42C1;">drwxr-xr-x</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Hsuin</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">197609</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Jul</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:26</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.terraform</span></span>
<span class="line"><span style="color:#6F42C1;">-rw-r--r--</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Hsuin</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">197609</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">1083</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Jul</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:26</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.terraform.lock.hcl</span></span>
<span class="line"><span style="color:#6F42C1;">-rw-r--r--</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Hsuin</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">197609</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">1856</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Jul</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:45</span><span style="color:#24292E;"> </span><span style="color:#032F62;">main.tf</span></span></code></pre></div><blockquote><p>执行init会产生这两个文件 .terraform .terraform.lock.hcl</p></blockquote><ul><li>.terraform 里面内容</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tree</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-L</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">7</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.terraform</span></span>
<span class="line"><span style="color:#B392F0;">.terraform</span></span>
<span class="line"><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">--</span><span style="color:#9ECBFF;"> providers</span></span>
<span class="line"><span style="color:#9ECBFF;">    \`</span><span style="color:#B392F0;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">registry.terraform.io</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">--</span><span style="color:#9ECBFF;"> hashicorp</span></span>
<span class="line"><span style="color:#9ECBFF;">            \`</span><span style="color:#B392F0;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">alicloud</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">--</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">1.253</span><span style="color:#9ECBFF;">.0</span></span>
<span class="line"><span style="color:#9ECBFF;">                    \`</span><span style="color:#B392F0;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">windows_amd64</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">--</span><span style="color:#9ECBFF;"> terraform-provider-alicloud_v1.253.0.exe</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tree</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-L</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">7</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.terraform</span></span>
<span class="line"><span style="color:#6F42C1;">.terraform</span></span>
<span class="line"><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">--</span><span style="color:#032F62;"> providers</span></span>
<span class="line"><span style="color:#032F62;">    \`</span><span style="color:#6F42C1;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">registry.terraform.io</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">--</span><span style="color:#032F62;"> hashicorp</span></span>
<span class="line"><span style="color:#032F62;">            \`</span><span style="color:#6F42C1;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">alicloud</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">--</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">1.253</span><span style="color:#032F62;">.0</span></span>
<span class="line"><span style="color:#032F62;">                    \`</span><span style="color:#6F42C1;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">windows_amd64</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">--</span><span style="color:#032F62;"> terraform-provider-alicloud_v1.253.0.exe</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#升级providers，查看帮助terraform init -help</span></span>
<span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-upgrade</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#升级providers，查看帮助terraform init -help</span></span>
<span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-upgrade</span></span></code></pre></div><h3 id="plan✅" tabindex="-1">plan✅ <a class="header-anchor" href="#plan✅" aria-label="Permalink to &quot;plan✅&quot;">​</a></h3><p><code>terraform plan</code>：查看并创建变更计划。</p><h3 id="apply✅" tabindex="-1">apply✅ <a class="header-anchor" href="#apply✅" aria-label="Permalink to &quot;apply✅&quot;">​</a></h3><p><code>terraform apply</code>：生成并执行计划（重要）。</p><h3 id="show✅" tabindex="-1">show✅ <a class="header-anchor" href="#show✅" aria-label="Permalink to &quot;show✅&quot;">​</a></h3><p><code>terraform show</code>：展示(Read)当前所有归Terraform控制的资源的状态信息。</p><h3 id="destroy✅" tabindex="-1">destroy✅ <a class="header-anchor" href="#destroy✅" aria-label="Permalink to &quot;destroy✅&quot;">​</a></h3><p><code>terraform destroy</code>：销毁并回收所有Terraform管理的基础设施资源。</p><h2 id="_1-2-高级命令" tabindex="-1">1.2 高级命令 <a class="header-anchor" href="#_1-2-高级命令" aria-label="Permalink to &quot;1.2 高级命令&quot;">​</a></h2><h3 id="非交互模式✅" tabindex="-1">非交互模式✅ <a class="header-anchor" href="#非交互模式✅" aria-label="Permalink to &quot;非交互模式✅&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#创建</span></span>
<span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apply</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-auto-approve</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#删除</span></span>
<span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destroy</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-auto-approve</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#创建</span></span>
<span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apply</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-auto-approve</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#删除</span></span>
<span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destroy</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-auto-approve</span></span></code></pre></div><h3 id="格式化输出代码✅" tabindex="-1">格式化输出代码✅ <a class="header-anchor" href="#格式化输出代码✅" aria-label="Permalink to &quot;格式化输出代码✅&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">terraform fmt</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">terraform fmt</span></span></code></pre></div><h3 id="导入已有资源✅" tabindex="-1">导入已有资源✅ <a class="header-anchor" href="#导入已有资源✅" aria-label="Permalink to &quot;导入已有资源✅&quot;">​</a></h3><p>不建议导入</p><h3 id="验证语法✅" tabindex="-1">验证语法✅ <a class="header-anchor" href="#验证语法✅" aria-label="Permalink to &quot;验证语法✅&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">validate</span></span>
<span class="line"><span style="color:#B392F0;">Success!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configuration</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">valid.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">validate</span></span>
<span class="line"><span style="color:#6F42C1;">Success!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configuration</span><span style="color:#24292E;"> </span><span style="color:#032F62;">is</span><span style="color:#24292E;"> </span><span style="color:#032F62;">valid.</span></span></code></pre></div><h3 id="列出当前state中的所有资源✅" tabindex="-1">列出当前state中的所有资源✅ <a class="header-anchor" href="#列出当前state中的所有资源✅" aria-label="Permalink to &quot;列出当前state中的所有资源✅&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span></span>
<span class="line"><span style="color:#B392F0;">alicloud_instance.instance</span></span>
<span class="line"><span style="color:#B392F0;">alicloud_security_group.nsg1</span></span>
<span class="line"><span style="color:#B392F0;">alicloud_security_group_rule.nsg_rule1</span></span>
<span class="line"><span style="color:#B392F0;">alicloud_vpc.vpc</span></span>
<span class="line"><span style="color:#B392F0;">alicloud_vswitch.vsw_1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span></span>
<span class="line"><span style="color:#6F42C1;">alicloud_instance.instance</span></span>
<span class="line"><span style="color:#6F42C1;">alicloud_security_group.nsg1</span></span>
<span class="line"><span style="color:#6F42C1;">alicloud_security_group_rule.nsg_rule1</span></span>
<span class="line"><span style="color:#6F42C1;">alicloud_vpc.vpc</span></span>
<span class="line"><span style="color:#6F42C1;">alicloud_vswitch.vsw_1</span></span></code></pre></div><h3 id="展示某一个资源的属性✅" tabindex="-1">展示某一个资源的属性✅ <a class="header-anchor" href="#展示某一个资源的属性✅" aria-label="Permalink to &quot;展示某一个资源的属性✅&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">alicloud_vpc.vpc</span></span>
<span class="line"><span style="color:#6A737D;"># alicloud_vpc.vpc:</span></span>
<span class="line"><span style="color:#B392F0;">resource</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;alicloud_vpc&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vpc&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">cidr_block</span><span style="color:#E1E4E8;">                                  </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;10.0.0.0/16&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">classic_link_enabled</span><span style="color:#E1E4E8;">                        </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">create_time</span><span style="color:#E1E4E8;">                                 </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;2025-07-09T08:09:59Z&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">description</span><span style="color:#E1E4E8;">                                 </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">dns_hostname_status</span><span style="color:#E1E4E8;">                         </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;DISABLED&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">enable_ipv6</span><span style="color:#E1E4E8;">                                 </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">                                          </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vpc-uf6bixk1cerh0wle6lenl&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">ipv6_cidr_block</span><span style="color:#E1E4E8;">                             </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">ipv6_cidr_blocks</span><span style="color:#E1E4E8;">                            </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">                                        </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vpc_1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">region_id</span><span style="color:#E1E4E8;">                                   </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;cn-shanghai&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">resource_group_id</span><span style="color:#E1E4E8;">                           </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;rg-acfm2qdjwer4h7y&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">route_table_id</span><span style="color:#E1E4E8;">                              </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vtb-uf6bfqpwqarlqt1zne6ib&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">router_id</span><span style="color:#E1E4E8;">                                   </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vrt-uf6hmffff01b4wojxi2r6&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">router_table_id</span><span style="color:#E1E4E8;">                             </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vtb-uf6bfqpwqarlqt1zne6ib&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">secondary_cidr_blocks</span><span style="color:#E1E4E8;">                       </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">status</span><span style="color:#E1E4E8;">                                      </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Available&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">system_route_table_description</span><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">system_route_table_name</span><span style="color:#E1E4E8;">                     </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">system_route_table_route_propagation_enable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">user_cidrs</span><span style="color:#E1E4E8;">                                  </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">vpc_name</span><span style="color:#E1E4E8;">                                    </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vpc_1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">alicloud_vpc.vpc</span></span>
<span class="line"><span style="color:#6A737D;"># alicloud_vpc.vpc:</span></span>
<span class="line"><span style="color:#6F42C1;">resource</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;alicloud_vpc&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vpc&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">cidr_block</span><span style="color:#24292E;">                                  </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;10.0.0.0/16&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">classic_link_enabled</span><span style="color:#24292E;">                        </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">create_time</span><span style="color:#24292E;">                                 </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;2025-07-09T08:09:59Z&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">description</span><span style="color:#24292E;">                                 </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">null</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">dns_hostname_status</span><span style="color:#24292E;">                         </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;DISABLED&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">enable_ipv6</span><span style="color:#24292E;">                                 </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">                                          </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vpc-uf6bixk1cerh0wle6lenl&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ipv6_cidr_block</span><span style="color:#24292E;">                             </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">null</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ipv6_cidr_blocks</span><span style="color:#24292E;">                            </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">                                        </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vpc_1&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">region_id</span><span style="color:#24292E;">                                   </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;cn-shanghai&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">resource_group_id</span><span style="color:#24292E;">                           </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;rg-acfm2qdjwer4h7y&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">route_table_id</span><span style="color:#24292E;">                              </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vtb-uf6bfqpwqarlqt1zne6ib&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">router_id</span><span style="color:#24292E;">                                   </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vrt-uf6hmffff01b4wojxi2r6&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">router_table_id</span><span style="color:#24292E;">                             </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vtb-uf6bfqpwqarlqt1zne6ib&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">secondary_cidr_blocks</span><span style="color:#24292E;">                       </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">status</span><span style="color:#24292E;">                                      </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Available&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">system_route_table_description</span><span style="color:#24292E;">              </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">null</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">system_route_table_name</span><span style="color:#24292E;">                     </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">null</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">system_route_table_route_propagation_enable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">user_cidrs</span><span style="color:#24292E;">                                  </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">vpc_name</span><span style="color:#24292E;">                                    </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vpc_1&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="生成关系图✅" tabindex="-1">生成关系图✅ <a class="header-anchor" href="#生成关系图✅" aria-label="Permalink to &quot;生成关系图✅&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;"></span><span style="color:#E1E4E8;"> $Hsuin</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Terraform_project/tf_aliyun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">graph</span></span>
<span class="line"><span style="color:#B392F0;">digraph</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">rankdir</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;RL&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">node</span><span style="color:#E1E4E8;"> [shape </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rect,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fontname</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;sans-serif&quot;]</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_instance.instance&quot;</span><span style="color:#E1E4E8;"> [label=</span><span style="color:#9ECBFF;">&quot;alicloud_instance.instance&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#E1E4E8;"> [label=</span><span style="color:#9ECBFF;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_security_group_rule.nsg_rule1&quot;</span><span style="color:#E1E4E8;"> [label=</span><span style="color:#9ECBFF;">&quot;alicloud_security_group_rule.nsg_rule1&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#E1E4E8;"> [label=</span><span style="color:#9ECBFF;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#E1E4E8;"> [label=</span><span style="color:#9ECBFF;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_instance.instance&quot;</span><span style="color:#E1E4E8;"> -</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_instance.instance&quot;</span><span style="color:#E1E4E8;"> -</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#E1E4E8;"> -</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_security_group_rule.nsg_rule1&quot;</span><span style="color:#E1E4E8;"> -</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#E1E4E8;"> -</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;"></span><span style="color:#24292E;"> $Hsuin</span><span style="color:#032F62;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Terraform_project/tf_aliyun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">graph</span></span>
<span class="line"><span style="color:#6F42C1;">digraph</span><span style="color:#24292E;"> </span><span style="color:#032F62;">G</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">rankdir</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;RL&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">node</span><span style="color:#24292E;"> [shape </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rect,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fontname</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;sans-serif&quot;]</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_instance.instance&quot;</span><span style="color:#24292E;"> [label=</span><span style="color:#032F62;">&quot;alicloud_instance.instance&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#24292E;"> [label=</span><span style="color:#032F62;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_security_group_rule.nsg_rule1&quot;</span><span style="color:#24292E;"> [label=</span><span style="color:#032F62;">&quot;alicloud_security_group_rule.nsg_rule1&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#24292E;"> [label=</span><span style="color:#032F62;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#24292E;"> [label=</span><span style="color:#032F62;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_instance.instance&quot;</span><span style="color:#24292E;"> -</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_instance.instance&quot;</span><span style="color:#24292E;"> -</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#24292E;"> -</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_security_group_rule.nsg_rule1&quot;</span><span style="color:#24292E;"> -</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;alicloud_security_group.nsg1&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;alicloud_vswitch.vsw_1&quot;</span><span style="color:#24292E;"> -</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;alicloud_vpc.vpc&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="生成图片✅" tabindex="-1">生成图片✅ <a class="header-anchor" href="#生成图片✅" aria-label="Permalink to &quot;生成图片✅&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#安装图形</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">graphviz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">graph丨dot</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-Tsvg</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">graph.svg</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#安装图形</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">graphviz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">graph丨dot</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-Tsvg</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">graph.svg</span></span></code></pre></div><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250709170147377.png" alt="image-20250709170144910"></p><p>或者，<a href="https://graphviz.org/?utm_source=www.techopsexamples.com&amp;utm_medium=referral&amp;utm_campaign=terraform-graphs-explained" target="_blank" rel="noreferrer">Graphviz Official Site</a>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">terraform graph &gt; graph.dot</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">#使用 Graphviz 渲染 DOT 文件</span></span>
<span class="line"><span style="color:#e1e4e8;">dot -Tpng graph.dot -o graph.png</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">terraform graph &gt; graph.dot</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">#使用 Graphviz 渲染 DOT 文件</span></span>
<span class="line"><span style="color:#24292e;">dot -Tpng graph.dot -o graph.png</span></span></code></pre></div><blockquote><p>箭头：依赖关系从一个资源流向另一个资源，显示创建顺序。</p></blockquote><h2 id="_1-3-state命令" tabindex="-1">1.3 state命令 <a class="header-anchor" href="#_1-3-state命令" aria-label="Permalink to &quot;1.3 state命令&quot;">​</a></h2><p><a href="https://www.fdevops.com/2023/01/19/terraform-31240" target="_blank" rel="noreferrer">https://www.fdevops.com/2023/01/19/terraform-31240</a></p><h2 id="_1-4-分块运行" tabindex="-1">1.4 分块运行 <a class="header-anchor" href="#_1-4-分块运行" aria-label="Permalink to &quot;1.4 分块运行&quot;">​</a></h2><p>比如：</p><p>vim main.tf</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">module &quot;vpc&quot; {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">source = &quot;terraform-aws-modules/vpc/aws&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">name = &quot;myvpc&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">cidr = &quot;10.10.0.0/16&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">azs              = [&quot;cn-north-1a&quot;, &quot;cn-north-1b&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">public_subnets   = [&quot;10.10.0.0/24&quot;, &quot;10.10.10.0/24&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">private_subnets  = [&quot;10.10.1.0/24&quot;, &quot;10.10.11.0/24&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">database_subnets = [&quot;10.10.2.0/24&quot;, &quot;10.10.12.0/24&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">create_database_subnet_group = true</span></span>
<span class="line"><span style="color:#9ECBFF;">enable_dns_hostnames         = true</span></span>
<span class="line"><span style="color:#9ECBFF;">enable_dns_support           = true</span></span>
<span class="line"><span style="color:#9ECBFF;">enable_dynamodb_endpoint     = true</span></span>
<span class="line"><span style="color:#9ECBFF;">enable_s3_endpoint           = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">tags = {</span></span>
<span class="line"><span style="color:#9ECBFF;">Owner       = &quot;user&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">Environment = &quot;staging&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">module &quot;vpc&quot; {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">source = &quot;terraform-aws-modules/vpc/aws&quot;</span></span>
<span class="line"><span style="color:#032F62;">name = &quot;myvpc&quot;</span></span>
<span class="line"><span style="color:#032F62;">cidr = &quot;10.10.0.0/16&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">azs              = [&quot;cn-north-1a&quot;, &quot;cn-north-1b&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">public_subnets   = [&quot;10.10.0.0/24&quot;, &quot;10.10.10.0/24&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">private_subnets  = [&quot;10.10.1.0/24&quot;, &quot;10.10.11.0/24&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">database_subnets = [&quot;10.10.2.0/24&quot;, &quot;10.10.12.0/24&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">create_database_subnet_group = true</span></span>
<span class="line"><span style="color:#032F62;">enable_dns_hostnames         = true</span></span>
<span class="line"><span style="color:#032F62;">enable_dns_support           = true</span></span>
<span class="line"><span style="color:#032F62;">enable_dynamodb_endpoint     = true</span></span>
<span class="line"><span style="color:#032F62;">enable_s3_endpoint           = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">tags = {</span></span>
<span class="line"><span style="color:#032F62;">Owner       = &quot;user&quot;</span></span>
<span class="line"><span style="color:#032F62;">Environment = &quot;staging&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><ul><li>执行</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apply</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-target=module.vpc</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">### 创建VPC及相关资源</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apply</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-target=module.vpc</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">### 创建VPC及相关资源</span></span></code></pre></div><h2 id="_1-5-alias" tabindex="-1">1.5 alias <a class="header-anchor" href="#_1-5-alias" aria-label="Permalink to &quot;1.5 alias&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> tfmt</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;terraform fmt -recursive&#39;</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> tinit</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;terraform init -plugin-dir=\${TERRAFORM_PLUGIN}&#39;</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> tapply</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;terraform apply -auto-approve&#39;</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> tdestroy</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;terraform destroy -auto-approve&#39;</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> tplan</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;terraform plan&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">alias</span><span style="color:#24292E;"> tfmt</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;terraform fmt -recursive&#39;</span></span>
<span class="line"><span style="color:#D73A49;">alias</span><span style="color:#24292E;"> tinit</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;terraform init -plugin-dir=\${TERRAFORM_PLUGIN}&#39;</span></span>
<span class="line"><span style="color:#D73A49;">alias</span><span style="color:#24292E;"> tapply</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;terraform apply -auto-approve&#39;</span></span>
<span class="line"><span style="color:#D73A49;">alias</span><span style="color:#24292E;"> tdestroy</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;terraform destroy -auto-approve&#39;</span></span>
<span class="line"><span style="color:#D73A49;">alias</span><span style="color:#24292E;"> tplan</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;terraform plan&#39;</span></span></code></pre></div><h2 id="_1-6-debug调试" tabindex="-1">1.6 debug调试 <a class="header-anchor" href="#_1-6-debug调试" aria-label="Permalink to &quot;1.6 debug调试&quot;">​</a></h2><p>Terraform 日志级别有 <code>TRACE</code>、<code>DEBUG</code>、<code>INFO</code>、<code>WARN</code> 和 <code>ERROR</code>。<code>TRACE</code> 包含的信息最多也最冗长，如果 <code>TF_LOG</code> 被设定为这五级以外的值时 Terraform 会默认使用 <code>TRACE</code>。</p><p>特别是在遇到权限不足的时候，如果想检查是具体哪个 service 权限不足。就需要 debug 输出详细的过程</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> TF_LOG</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">DEBUG</span></span>
<span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plan</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> TF_LOG</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">DEBUG</span></span>
<span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plan</span></span></code></pre></div><h3 id="追踪资源变更" tabindex="-1">追踪资源变更 <a class="header-anchor" href="#追踪资源变更" aria-label="Permalink to &quot;追踪资源变更&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> TF_LOG</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">INFO</span></span>
<span class="line"><span style="color:#B392F0;">terraform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plan</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">2&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plan.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> TF_LOG</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">INFO</span></span>
<span class="line"><span style="color:#6F42C1;">terraform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plan</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">2&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plan.log</span></span></code></pre></div><h2 id="_1-7-配置日志" tabindex="-1">1.7 配置日志 <a class="header-anchor" href="#_1-7-配置日志" aria-label="Permalink to &quot;1.7 配置日志&quot;">​</a></h2><p>该环境变量可以设定日志文件保存的位置。注意，如果TF_LOG_PATH被设置了，那么 <code>TF_LOG</code> 也必须被设置。举例来说，想要始终把日志输出到当前工作目录，可以这样：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TF_LOG_PATH=./terraform.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">export</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TF_LOG_PATH=./terraform.log</span></span></code></pre></div>`,58),e=[o];function t(r,c,E,y,F,i){return a(),n("div",null,e)}const C=s(p,[["render",t]]);export{d as __pageData,C as default};
