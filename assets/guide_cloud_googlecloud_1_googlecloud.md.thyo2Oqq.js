import{_ as s,o,c as a,R as n}from"./chunks/framework.zUbWieqp.js";const m=JSON.parse('{"title":"1.防火墙规则","description":"","frontmatter":{},"headers":[],"relativePath":"guide/cloud/googlecloud/1_googlecloud.md","filePath":"guide/cloud/googlecloud/1_googlecloud.md","lastUpdated":1701247404000}'),e={name:"guide/cloud/googlecloud/1_googlecloud.md"},t=n(`<h1 id="_1-防火墙规则" tabindex="-1">1.防火墙规则 <a class="header-anchor" href="#_1-防火墙规则" aria-label="Permalink to &quot;1.防火墙规则&quot;">​</a></h1><p>参考文档：<a href="https://cloud.google.com/compute/docs/machine-types" target="_blank" rel="noreferrer">https://cloud.google.com/compute/docs/machine-types</a></p><h2 id="_1、进入vm实例" tabindex="-1">1、进入VM实例 <a class="header-anchor" href="#_1、进入vm实例" aria-label="Permalink to &quot;1、进入VM实例&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291631027.png" alt=""></p><h2 id="_2、进入实例的网络配置" tabindex="-1">2、进入实例的网络配置 <a class="header-anchor" href="#_2、进入实例的网络配置" aria-label="Permalink to &quot;2、进入实例的网络配置&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291631379.png" alt=""></p><h2 id="_3、创建防火墙规则" tabindex="-1">3、创建防火墙规则 <a class="header-anchor" href="#_3、创建防火墙规则" aria-label="Permalink to &quot;3、创建防火墙规则&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291631750.png" alt=""></p><blockquote><p>注意优先级别，由低到高执行</p></blockquote><h2 id="_4、参考以下信息-配置防火墙规则" tabindex="-1">4、参考以下信息，配置防火墙规则 <a class="header-anchor" href="#_4、参考以下信息-配置防火墙规则" aria-label="Permalink to &quot;4、参考以下信息，配置防火墙规则&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291631544.png" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291631052.png" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291631173.jpg" alt=""></p><h1 id="_2-配置root远程登录" tabindex="-1">2.配置root远程登录 <a class="header-anchor" href="#_2-配置root远程登录" aria-label="Permalink to &quot;2.配置root远程登录&quot;">​</a></h1><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632339.jpg" alt=""></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">#!/bin/bash</span></span>
<span class="line"><span style="color:#e1e4e8;">root:密码 |sudo chpasswd root</span></span>
<span class="line"><span style="color:#e1e4e8;">sed -i &#39;s/^#\\?PermitRootLogin.*/PermitRootLogin yes/g&#39; /etc/ssh/sshd_config;</span></span>
<span class="line"><span style="color:#e1e4e8;">sed -i &#39;s/^#\\?PasswordAuthentication.*/PasswordAuthentication yes/g&#39; /etc/ssh/sshd_config;</span></span>
<span class="line"><span style="color:#e1e4e8;">service sshd restart</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">#!/bin/bash</span></span>
<span class="line"><span style="color:#24292e;">root:密码 |sudo chpasswd root</span></span>
<span class="line"><span style="color:#24292e;">sed -i &#39;s/^#\\?PermitRootLogin.*/PermitRootLogin yes/g&#39; /etc/ssh/sshd_config;</span></span>
<span class="line"><span style="color:#24292e;">sed -i &#39;s/^#\\?PasswordAuthentication.*/PasswordAuthentication yes/g&#39; /etc/ssh/sshd_config;</span></span>
<span class="line"><span style="color:#24292e;">service sshd restart</span></span></code></pre></div><p>或者</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632114.png" alt=""></p><p>从web界面配置，sudo -i 切换到root用户</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@benarchen-google ~]# vim /etc/ssh/sshd_config 		#打开 ssh 配置文件</span></span>
<span class="line"><span style="color:#e1e4e8;">PermitRootLogin yes 	#默认为no，需要开启root用户访问改为yes</span></span>
<span class="line"><span style="color:#e1e4e8;">PasswordAuthentication yes      #默认为no，改为yes开启密码登陆</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@benarchen-google ~]# vim /etc/ssh/sshd_config 		#打开 ssh 配置文件</span></span>
<span class="line"><span style="color:#24292e;">PermitRootLogin yes 	#默认为no，需要开启root用户访问改为yes</span></span>
<span class="line"><span style="color:#24292e;">PasswordAuthentication yes      #默认为no，改为yes开启密码登陆</span></span></code></pre></div><h1 id="_3-挂载新磁盘" tabindex="-1">3.挂载新磁盘 <a class="header-anchor" href="#_3-挂载新磁盘" aria-label="Permalink to &quot;3.挂载新磁盘&quot;">​</a></h1><h2 id="_3-1-挂载" tabindex="-1">3.1 挂载 <a class="header-anchor" href="#_3-1-挂载" aria-label="Permalink to &quot;3.1 挂载&quot;">​</a></h2><ol><li>转到<strong>虚拟机实例</strong>页面。<code>转到“虚拟机实例”页面</code></li><li>选中相应复选框，然后点击要向其添加磁盘的实例的名称。</li><li>在<strong>虚拟机实例详情</strong>页面顶部，点击<strong>修改</strong>。</li><li>在<strong>额外磁盘</strong>下，点击<strong>添加新磁盘</strong>。</li><li>指定磁盘名称，配置磁盘属性，并指定磁盘的<strong>来源类型</strong>。</li><li>点击<strong>完成</strong>完成磁盘的配置。</li><li>在<strong>虚拟机实例详情</strong>页面底部，点击<strong>保存</strong>以将更改应用于实例，并添加新磁盘。</li><li>创建新磁盘并将其挂接到实例后，您必须<a href="https://link.zhihu.com/?target=https%3A//cloud.google.com/compute/docs/disks/add-persistent-disk%3Fhl%3Dzh-cn%23formatting" target="_blank" rel="noreferrer">格式化并装载磁盘</a>，以便操作系统可以使用可用的存储空间</li></ol><h2 id="_3-2创建" tabindex="-1">3.2创建 <a class="header-anchor" href="#_3-2创建" aria-label="Permalink to &quot;3.2创建&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632806.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632416.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632164.jpg" alt=""></p><p>其他保持默认</p><h1 id="_4-升级cpu和内存" tabindex="-1">4.升级cpu和内存 <a class="header-anchor" href="#_4-升级cpu和内存" aria-label="Permalink to &quot;4.升级cpu和内存&quot;">​</a></h1><p>点击【VM实例】，勾选自己需要修改的【实例】，点击如图所示的【停止】按钮</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632478.jpg" alt=""></p><p>弹出的窗口中选择【停止】（注意：此处停止后，server中的应用会停止，请做好备份或者提前关闭</p><p>点击进入需要修改的【实例】，如图所示</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291632871.jpg" alt=""></p><p>进入【VM实例详情】页面，点击【机器类型】下拉菜单中选择需要更换的类型</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633778.jpg" alt=""></p><p>点击底部【保存】按钮，等待修改完成即可</p><h1 id="_5-更换公网ip" tabindex="-1">5.更换公网ip <a class="header-anchor" href="#_5-更换公网ip" aria-label="Permalink to &quot;5.更换公网ip&quot;">​</a></h1><p>1，停止之后，在重启，ip 变化</p><p>2，更换ip</p><p>左侧依次点击**<code>网络&gt;VPC 网络&gt;外部 IP 地址</code>**</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633780.png" alt=""></p><p>在页面中的**<code>外部 IP 地址</code>** 列表中选择要更改公网IP的实例，点击其所在行最后方的**<code>更改</code>**按钮</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633241.png" alt=""></p><p>再弹出的**<code>关联 IP 地址</code>** 弹框中将当前IP地址与绑定的实例解绑；具体操作为：点击实例下拉框选择无</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633287.png" alt=""></p><p>然后点击**<code>确定</code>** ，注意:请务必勾选**<code>将一个新的临时 IP 地址分配给instance-xxx</code>**</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633079.png" alt=""></p><p>片刻之后即可看到原IP的**<code>使用者</code>** 为空，新的IP已绑定到原本的实例。现在我们只需要将原IP删除，并将新IP类型从**<code>临时</code>** 改为 <strong><code>静态</code></strong> 即可；点击新IP后面的**<code>临时</code>**下拉框，如下图所示</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633287.png" alt=""></p><p>在将临时IP切换为静态IP时会在弹框<code>**保留新的静态 IP 地址**</code> 要求输入名称，随便输入即可</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291633764.png" alt=""></p><h1 id="_6-创建实例" tabindex="-1">6.创建实例 <a class="header-anchor" href="#_6-创建实例" aria-label="Permalink to &quot;6.创建实例&quot;">​</a></h1><blockquote><p>注意实例系统，确定之后，后面在更换系统是禁止更换</p></blockquote><p>登录Google Cloud Platform，点击左上角菜单栏选择Computer Engine</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291634782.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291634093.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291634336.jpg" alt=""></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291634709.jpg" alt=""></p><p>默认即可</p><p>点击创建</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202311291634325.jpg" alt=""></p><h1 id="_7-cdn" tabindex="-1">7.CDN <a class="header-anchor" href="#_7-cdn" aria-label="Permalink to &quot;7.CDN&quot;">​</a></h1><p><a href="https://vircloud.net/operations/google-cdn.html" target="_blank" rel="noreferrer">https://vircloud.net/operations/google-cdn.html</a></p>`,64),c=[t];function i(p,l,r,g,h,d){return o(),a("div",null,c)}const _=s(e,[["render",i]]);export{m as __pageData,_ as default};
