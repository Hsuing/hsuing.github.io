import{_ as s,o,c as a,R as t}from"./chunks/framework.zUbWieqp.js";const _=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/TroubleshootingMaintenanceManual/16-hostPort与hostNetwork.md","filePath":"guide/container/k8s/TroubleshootingMaintenanceManual/16-hostPort与hostNetwork.md","lastUpdated":1728986210000}'),e={name:"guide/container/k8s/TroubleshootingMaintenanceManual/16-hostPort与hostNetwork.md"},n=t(`<p>相同点：</p><ol><li><code>hostPort</code> 与 <code>hostNetwork</code> 本质上都是终端用户能访问到pod中的业务</li><li>访问的时候，只能用 <code>pod所有宿主机IP + 容器端口或hostport端口</code> 进行访问</li></ol><p>不同点：</p><ol><li>网络地址空间不同。hostport使用CNI分配的地址，hostNetwork使用宿主机网络地址空间</li><li>宿主机端口生成。hostport宿主机不生成端口，hostNetwork宿主机生成端口</li><li>hostport通过iptable防火墙的nat表进行转发，hostNetwork直接通过主机端口到容器中</li><li>定义的路径不同。deploy.spec.template.spec.containers.ports.hostPort 与 deploy.spec.template.spec.hostNetwork</li><li>优先级不同，hostNetwork 高于 hostPort</li></ol><h2 id="hostport" tabindex="-1">hostPort <a class="header-anchor" href="#hostport" aria-label="Permalink to &quot;hostPort&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-owide</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">iptables</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-Lnv</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nat</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pod_ip</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">kubectl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-owide</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">iptables</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-Lnv</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-t</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nat</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pod_ip</span></span></code></pre></div><h2 id="hostnetwork" tabindex="-1">hostNetwork <a class="header-anchor" href="#hostnetwork" aria-label="Permalink to &quot;hostNetwork&quot;">​</a></h2>`,7),l=[n];function p(r,c,i,h,d,y){return o(),a("div",null,l)}const k=s(e,[["render",p]]);export{_ as __pageData,k as default};
