import{_ as s,o as n,c as a,R as l}from"./chunks/framework.zUbWieqp.js";const h=JSON.parse('{"title":"1. MinIO Client SDK接入","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/存储/Minio/2-mc客户端.md","filePath":"guide/container/k8s/存储/Minio/2-mc客户端.md","lastUpdated":1721309786000}'),p={name:"guide/container/k8s/存储/Minio/2-mc客户端.md"},o=l(`<h1 id="_1-minio-client-sdk接入" tabindex="-1">1. MinIO Client SDK接入 <a class="header-anchor" href="#_1-minio-client-sdk接入" aria-label="Permalink to &quot;1. MinIO Client SDK接入&quot;">​</a></h1><p><a href="https://min.io/docs/minio/linux/developers/go/minio-go.html" target="_blank" rel="noreferrer">https://min.io/docs/minio/linux/developers/go/minio-go.html</a></p><h1 id="_2-minio-client简介" tabindex="-1">2. MinIO Client简介 <a class="header-anchor" href="#_2-minio-client简介" aria-label="Permalink to &quot;2. MinIO Client简介&quot;">​</a></h1><p>MinIO Client (mc)为ls，cat，cp，mirror，diff，find等UNIX命令提供了一种替代方案。它支持文件系统和兼容Amazon S3的云存储服务（AWS Signature v2和v4）。</p><h1 id="_3-minio-client部署" tabindex="-1">3. MinIO Client部署 <a class="header-anchor" href="#_3-minio-client部署" aria-label="Permalink to &quot;3. MinIO Client部署&quot;">​</a></h1><p>官方地址：</p><p><a href="https://min.io/docs/minio/linux/reference/minio-mc.html" target="_blank" rel="noreferrer">https://min.io/docs/minio/linux/reference/minio-mc.html</a></p><p><a href="https://min.io/docs/minio/linux/reference/minio-mc/minio-client-settings.html" target="_blank" rel="noreferrer">https://min.io/docs/minio/linux/reference/minio-mc/minio-client-settings.html</a></p><ul><li>下载</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-L</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://dl.min.io/client/mc/release/linux-amd64/mc</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/mc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">755</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/mc</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-L</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://dl.min.io/client/mc/release/linux-amd64/mc</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/mc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">755</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/mc</span></span></code></pre></div><ul><li>验证</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@kube-master minio]# mc --version</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RELEASE.2024-07-15T17-46-06Z</span><span style="color:#E1E4E8;"> (commit-id=11034f9de1e9f993c36fbad961f76f876a753328)</span></span>
<span class="line"><span style="color:#B392F0;">Runtime:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go1.22.5</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">linux/amd64</span></span>
<span class="line"><span style="color:#B392F0;">Copyright</span><span style="color:#E1E4E8;"> (c) 2015-2024 MinIO, Inc.</span></span>
<span class="line"><span style="color:#B392F0;">License</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GNU</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AGPLv3</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">https://www.gnu.org/licenses/agpl-3.0.htm</span><span style="color:#E1E4E8;">l</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@kube-master minio]# mc --version</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RELEASE.2024-07-15T17-46-06Z</span><span style="color:#24292E;"> (commit-id=11034f9de1e9f993c36fbad961f76f876a753328)</span></span>
<span class="line"><span style="color:#6F42C1;">Runtime:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go1.22.5</span><span style="color:#24292E;"> </span><span style="color:#032F62;">linux/amd64</span></span>
<span class="line"><span style="color:#6F42C1;">Copyright</span><span style="color:#24292E;"> (c) 2015-2024 MinIO, Inc.</span></span>
<span class="line"><span style="color:#6F42C1;">License</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GNU</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AGPLv3</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">https://www.gnu.org/licenses/agpl-3.0.htm</span><span style="color:#24292E;">l</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h1 id="_4-bucket操作" tabindex="-1">4. Bucket操作 <a class="header-anchor" href="#_4-bucket操作" aria-label="Permalink to &quot;4. Bucket操作&quot;">​</a></h1><h2 id="_4-0-常规命令" tabindex="-1">4.0 常规命令 <a class="header-anchor" href="#_4-0-常规命令" aria-label="Permalink to &quot;4.0 常规命令&quot;">​</a></h2><h2 id="_4-1-bucket-配置与应用" tabindex="-1">4.1 Bucket 配置与应用 <a class="header-anchor" href="#_4-1-bucket-配置与应用" aria-label="Permalink to &quot;4.1 Bucket 配置与应用&quot;">​</a></h2><ul><li>语法</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 语法</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">host</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ALIA</span><span style="color:#E1E4E8;">S</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">YOUR-S3-ENDPOIN</span><span style="color:#E1E4E8;">T</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">YOUR-ACCESS-KE</span><span style="color:#E1E4E8;">Y</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">YOUR-SECRET-KE</span><span style="color:#E1E4E8;">Y</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">[--api API-SIGNATURE]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 参数</span></span>
<span class="line"><span style="color:#B392F0;">ALIAS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">别名就是给你的云存储服务起了一个短点的外号。</span></span>
<span class="line"><span style="color:#B392F0;">YOUR-S3-ENDPOINT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">云存储的主机和端口，如：http://127.0.0.1:9000</span></span>
<span class="line"><span style="color:#B392F0;">YOUR-ACCESS-KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">云存储服务的</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Access</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Key</span></span>
<span class="line"><span style="color:#B392F0;">YOUR-SECRET-KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">云存储服务的</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Secret</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Key</span></span>
<span class="line"><span style="color:#B392F0;">API-SIGNATURE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">API签名是可选参数，默认情况下它被设置为</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;S3v4&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 添加 AWS S3 外部存储</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">host</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://s3.amazonaws.com</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">BKIKJAA5BMMU2RHO6IBB</span></span>
<span class="line"><span style="color:#B392F0;">V7f1CwQqAcwo80UEIJEjc5gVQUSSx5ohQ9GSrr12</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--api</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">s3v4</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 语法</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">host</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ALIA</span><span style="color:#24292E;">S</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">YOUR-S3-ENDPOIN</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">YOUR-ACCESS-KE</span><span style="color:#24292E;">Y</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">YOUR-SECRET-KE</span><span style="color:#24292E;">Y</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">[--api API-SIGNATURE]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 参数</span></span>
<span class="line"><span style="color:#6F42C1;">ALIAS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">别名就是给你的云存储服务起了一个短点的外号。</span></span>
<span class="line"><span style="color:#6F42C1;">YOUR-S3-ENDPOINT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">云存储的主机和端口，如：http://127.0.0.1:9000</span></span>
<span class="line"><span style="color:#6F42C1;">YOUR-ACCESS-KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">云存储服务的</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Access</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Key</span></span>
<span class="line"><span style="color:#6F42C1;">YOUR-SECRET-KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">云存储服务的</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Secret</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Key</span></span>
<span class="line"><span style="color:#6F42C1;">API-SIGNATURE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">API签名是可选参数，默认情况下它被设置为</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;S3v4&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 添加 AWS S3 外部存储</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">host</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://s3.amazonaws.com</span><span style="color:#24292E;"> </span><span style="color:#032F62;">BKIKJAA5BMMU2RHO6IBB</span></span>
<span class="line"><span style="color:#6F42C1;">V7f1CwQqAcwo80UEIJEjc5gVQUSSx5ohQ9GSrr12</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--api</span><span style="color:#24292E;"> </span><span style="color:#032F62;">s3v4</span></span></code></pre></div><ul><li>添加 minio cluster 别名信息（集群内 endpoint 为 svc 的地址、集群外endpoint则为ingress的域名</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">alias</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://s3.ikubernetes.net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">KIHKL495T13VF7IPBKQ2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ZT6TnoGdPK0AOwQ1Trq2jSGacXKZOi5CIsfS5hc4</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">alias</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://s3.ikubernetes.net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">KIHKL495T13VF7IPBKQ2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ZT6TnoGdPK0AOwQ1Trq2jSGacXKZOi5CIsfS5hc4</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">alias</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3-internal</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://minio.minio-tenant-1.svc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">KIHKL495T13VF7IPBKQ2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ZT6TnoGdPK0AOwQ1Trq2jSGacXKZOi5CIsfS5hc4</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">alias</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3-internal</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://minio.minio-tenant-1.svc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">KIHKL495T13VF7IPBKQ2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ZT6TnoGdPK0AOwQ1Trq2jSGacXKZOi5CIsfS5hc4</span></span></code></pre></div><h2 id="_4-2-创建bucket" tabindex="-1">4.2 创建Bucket <a class="header-anchor" href="#_4-2-创建bucket" aria-label="Permalink to &quot;4.2 创建Bucket&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#mc mb k8s-s3/test</span></span>
<span class="line"><span style="color:#B392F0;">Bucket</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">k8s-s3/test</span><span style="color:#9ECBFF;">\`</span><span style="color:#79B8FF;">.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#mc mb k8s-s3/test</span></span>
<span class="line"><span style="color:#6F42C1;">Bucket</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">k8s-s3/test</span><span style="color:#032F62;">\`</span><span style="color:#005CC5;">.</span></span></code></pre></div><h2 id="访问" tabindex="-1">访问 <a class="header-anchor" href="#访问" aria-label="Permalink to &quot;访问&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#设置Bucket的访问策略，允许匿名下载</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">anonymous</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">download</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3/demo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#创建和获取对象</span></span>
<span class="line"><span style="color:#6A737D;">#创建</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;hello, world.&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hello.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#文件复制到Bucket中</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">./hello.html</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3/demo/html/hello.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# curl http://s3.ikubernetes.net/demo/html/hello.html</span></span>
<span class="line"><span style="color:#B392F0;">hello,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#设置Bucket的访问策略，允许匿名下载</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">anonymous</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">download</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3/demo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#创建和获取对象</span></span>
<span class="line"><span style="color:#6A737D;">#创建</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;hello, world.&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hello.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#文件复制到Bucket中</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">./hello.html</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3/demo/html/hello.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# curl http://s3.ikubernetes.net/demo/html/hello.html</span></span>
<span class="line"><span style="color:#6F42C1;">hello,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world.</span></span></code></pre></div><h2 id="mc-admin管理minio" tabindex="-1">mc admin管理minio <a class="header-anchor" href="#mc-admin管理minio" aria-label="Permalink to &quot;mc admin管理minio&quot;">​</a></h2><p>MinIO Client（mc）提供了“ admin”子命令来对您的MinIO部署执行管理任务。</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>service</td><td>服务重启并停止所有MinIO服务器</td></tr><tr><td>update</td><td>更新更新所有MinIO服务器</td></tr><tr><td>info</td><td>信息显示MinIO服务器信息</td></tr><tr><td>user</td><td>用户管理用户</td></tr><tr><td>group</td><td>小组管理小组</td></tr><tr><td><code>policy</code></td><td>MinIO服务器中定义的策略管理策略</td></tr><tr><td><code>config</code></td><td>配置管理MinIO服务器配置</td></tr><tr><td><code>heal</code></td><td>修复MinIO服务器上的磁盘，存储桶和对象</td></tr><tr><td><code>console</code></td><td>控制台显示MinIO服务器的控制台日志</td></tr><tr><td><code>top</code></td><td>顶部提供MinIO的顶部统计信息</td></tr></tbody></table><h3 id="用户管理" tabindex="-1">用户管理 <a class="header-anchor" href="#用户管理" aria-label="Permalink to &quot;用户管理&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--help</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#新建用户</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fox</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fox02</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">12345678</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看用户</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#禁用用户</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fox02</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#启用用户</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fox02</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看用户信息</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">info</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fox</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#删除用户</span></span>
<span class="line"><span style="color:#B392F0;">mc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">admin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k8s-s3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fox02</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--help</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#新建用户</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fox</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fox02</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">12345678</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看用户</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#禁用用户</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fox02</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#启用用户</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fox02</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看用户信息</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">info</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fox</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#删除用户</span></span>
<span class="line"><span style="color:#6F42C1;">mc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">admin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k8s-s3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fox02</span></span></code></pre></div><h3 id="策略管理" tabindex="-1">策略管理 <a class="header-anchor" href="#策略管理" aria-label="Permalink to &quot;策略管理&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">mc admin policy --help</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">#列出MinIO上的所有固定策略</span></span>
<span class="line"><span style="color:#e1e4e8;">mc admin policy list  k8s-s3</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"># 查看plicy信息</span></span>
<span class="line"><span style="color:#e1e4e8;">mc admin policy info  k8s-s3 readwrite</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">mc admin policy --help</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">#列出MinIO上的所有固定策略</span></span>
<span class="line"><span style="color:#24292e;">mc admin policy list  k8s-s3</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"># 查看plicy信息</span></span>
<span class="line"><span style="color:#24292e;">mc admin policy info  k8s-s3 readwrite</span></span></code></pre></div>`,31),e=[o];function c(t,r,y,E,i,F){return n(),a("div",null,e)}const m=s(p,[["render",c]]);export{h as __pageData,m as default};
