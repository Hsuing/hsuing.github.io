import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const B=JSON.parse('{"title":"1.LVM简介","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/service/10-LVM.md","filePath":"guide/Linux/service/10-LVM.md","lastUpdated":1730369322000}'),p={name:"guide/Linux/service/10-LVM.md"},o=l(`<h1 id="_1-lvm简介" tabindex="-1">1.LVM简介 <a class="header-anchor" href="#_1-lvm简介" aria-label="Permalink to &quot;1.LVM简介&quot;">​</a></h1><p>LVM 是 Logical Volume Manager 的缩写，中文一般翻译为 &quot;逻辑卷管理&quot;，它是 Linux 下对磁盘分区进行管理的一种机制。LVM 是建立在磁盘分区和文件系统之间的一个逻辑层，系统管理员可以利用 LVM <strong>在不重新对磁盘分区的情况下动态的调整分区的大小</strong>。如果系统新增了一块硬盘，通过 LVM 就可以将新增的硬盘空间直接扩展到原来的磁盘分区上。</p><h2 id="_1-1-lvm架构" tabindex="-1">1.1 LVM架构 <a class="header-anchor" href="#_1-1-lvm架构" aria-label="Permalink to &quot;1.1 LVM架构&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202410311343215.png" alt="LVM 逻辑卷组件"></p><h2 id="_1-2-lvm工作原理" tabindex="-1">1.2 LVM工作原理 <a class="header-anchor" href="#_1-2-lvm工作原理" aria-label="Permalink to &quot;1.2 LVM工作原理&quot;">​</a></h2><p>LVM通过将底层的物理硬盘封装起来，以逻辑卷的方式呈现给上层应用。在传统的磁盘管理机制中，我们的上层应用是直接访问文件系统，从而对底层的物理硬盘进行读取。而在LVM中，其通过对底层的硬盘进行封装，当我们对底层的物理硬盘进行操作时，其不再是针对于分区进行操作，而是通过一个叫做逻辑卷的东西来对其进行底层的磁盘管理操作。</p><h1 id="_2-lvm组件" tabindex="-1">2.LVM组件 <a class="header-anchor" href="#_2-lvm组件" aria-label="Permalink to &quot;2.LVM组件&quot;">​</a></h1><h2 id="_2-1-物理卷-pv-physical-volume" tabindex="-1">2.1 物理卷（PV, Physical Volume） <a class="header-anchor" href="#_2-1-物理卷-pv-physical-volume" aria-label="Permalink to &quot;2.1 物理卷（PV, Physical Volume）&quot;">​</a></h2><p>物理卷就是指磁盘、磁盘分区或从逻辑上和磁盘分区具有同样功能的设备(如RAID)，是LVM的基本存储逻辑块，但和基本的物理存储介质（如分区、磁盘等）比较，却包含有和LVM相关的管理参数.</p><ul><li>使用<code>pvcreate /dev/sdb1</code>来基于sdb1分区创建PV</li></ul><h2 id="_2-2-卷组-vg-volume-group" tabindex="-1">2.2 卷组（VG, Volume Group） <a class="header-anchor" href="#_2-2-卷组-vg-volume-group" aria-label="Permalink to &quot;2.2 卷组（VG, Volume Group）&quot;">​</a></h2><p>VG由若干PV组成，能在VG上创建一个或多个LV。VG是PV和LV中间的层，可以通过调整VG中的PV来调整VG的容量，进而调整LV的分配情况.</p><ul><li>使用<code>vgcreate vg01 /dev/sdb1</code>创建vg并添加sdb1对应的pv</li><li>使用<code>vgextend vg01 /dev/sdb2</code>向vg中继续添加pv</li></ul><h2 id="_2-3-逻辑卷-lv-logical-volume" tabindex="-1">2.3 逻辑卷（LV, Logical Volume） <a class="header-anchor" href="#_2-3-逻辑卷-lv-logical-volume" aria-label="Permalink to &quot;2.3 逻辑卷（LV, Logical Volume）&quot;">​</a></h2><p>LV是从VG上分配出的一块空间，用于建立文件系统，相当于非LVM模式的磁盘分区。</p><ul><li>使用<code>lvcreate -L 10M -n lv01 vg01</code> 在vg上创建lv并指定初始大小为10M</li><li>使用<code>lvextend -L +200M /dev/vg01/lv01</code>扩展lv01的大小为100M，前提是vg01中有未使用的空间</li><li>创建出的lv需要格式化成指定文件系统，才能进行挂载操作</li></ul><h1 id="_3-lvm操作" tabindex="-1">3.LVM操作 <a class="header-anchor" href="#_3-lvm操作" aria-label="Permalink to &quot;3.LVM操作&quot;">​</a></h1><h2 id="_3-0-安装" tabindex="-1">3.0 安装 <a class="header-anchor" href="#_3-0-安装" aria-label="Permalink to &quot;3.0 安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span></span></code></pre></div><h2 id="_3-1-创建新的lvm" tabindex="-1">3.1 创建新的LVM <a class="header-anchor" href="#_3-1-创建新的lvm" aria-label="Permalink to &quot;3.1 创建新的LVM&quot;">​</a></h2><p>创建LVM流程：pvcreate创建pv -&gt; vgcreate创建卷组 -&gt; lvcreate创建逻辑卷 -&gt; mkfs.xfs lv 格式化-&gt; mount挂载</p><h3 id="_1-查看分区" tabindex="-1">1.查看分区 <a class="header-anchor" href="#_1-查看分区" aria-label="Permalink to &quot;1.查看分区&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#sdb sdc 为新添加磁盘</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lsblk</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">MAJ:MIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RM</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">SIZE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#B392F0;">sdb</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:16</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disk</span></span>
<span class="line"><span style="color:#B392F0;">sr0</span><span style="color:#E1E4E8;">              </span><span style="color:#79B8FF;">11</span><span style="color:#9ECBFF;">:0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1024</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rom</span></span>
<span class="line"><span style="color:#B392F0;">sdc</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:32</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disk</span></span>
<span class="line"><span style="color:#B392F0;">sda</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">30</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disk</span></span>
<span class="line"><span style="color:#B392F0;">├─sda2</span><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:2</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">29</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">part</span></span>
<span class="line"><span style="color:#B392F0;">│</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">├─centos-swap</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">253</span><span style="color:#9ECBFF;">:1</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm</span></span>
<span class="line"><span style="color:#B392F0;">│</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">└─centos-root</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">253</span><span style="color:#9ECBFF;">:0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">27</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">/</span></span>
<span class="line"><span style="color:#B392F0;">└─sda1</span><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:1</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">part</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/boot</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#sdb sdc 为新添加磁盘</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lsblk</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">            </span><span style="color:#032F62;">MAJ:MIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RM</span><span style="color:#24292E;">  </span><span style="color:#032F62;">SIZE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TYPE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#6F42C1;">sdb</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:16</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disk</span></span>
<span class="line"><span style="color:#6F42C1;">sr0</span><span style="color:#24292E;">              </span><span style="color:#005CC5;">11</span><span style="color:#032F62;">:0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1024</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rom</span></span>
<span class="line"><span style="color:#6F42C1;">sdc</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:32</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disk</span></span>
<span class="line"><span style="color:#6F42C1;">sda</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">30</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disk</span></span>
<span class="line"><span style="color:#6F42C1;">├─sda2</span><span style="color:#24292E;">            </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:2</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">29</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">part</span></span>
<span class="line"><span style="color:#6F42C1;">│</span><span style="color:#24292E;"> </span><span style="color:#032F62;">├─centos-swap</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">253</span><span style="color:#032F62;">:1</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm</span></span>
<span class="line"><span style="color:#6F42C1;">│</span><span style="color:#24292E;"> </span><span style="color:#032F62;">└─centos-root</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">253</span><span style="color:#032F62;">:0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">27</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm</span><span style="color:#24292E;">  </span><span style="color:#032F62;">/</span></span>
<span class="line"><span style="color:#6F42C1;">└─sda1</span><span style="color:#24292E;">            </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:1</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">part</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/boot</span></span></code></pre></div><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202410311412436.png" alt="image-20241031141255840"></p><h3 id="_2-创建pv" tabindex="-1">2.创建pv <a class="header-anchor" href="#_2-创建pv" aria-label="Permalink to &quot;2.创建pv&quot;">​</a></h3><blockquote><p>以整个磁盘创建，不再创建分区</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvcreate /dev/sdb</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/dev/sdb&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvcreate /dev/sdb</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/dev/sdb&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created.</span></span></code></pre></div><h3 id="_3-创建vg" tabindex="-1">3.创建vg <a class="header-anchor" href="#_3-创建vg" aria-label="Permalink to &quot;3.创建vg&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看pv</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvdisplay</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">---</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">&quot;/dev/sdb&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;2.00 GiB&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">---</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NEW</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Name</span><span style="color:#E1E4E8;">               </span><span style="color:#9ECBFF;">/dev/sdb</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Name</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">2.00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GiB</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Allocatable</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">NO</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Total</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PE</span><span style="color:#E1E4E8;">              </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Free</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PE</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Allocated</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PE</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID</span><span style="color:#E1E4E8;">               </span><span style="color:#9ECBFF;">CC6hZs-KUBT-AX0j-Fiz1-uscf-lhpM-Etme4a</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#6A737D;">#创建vg0</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgcreate vg0 /dev/sdb</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">group</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vg0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgdisplay</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">---</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">group</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Name</span><span style="color:#E1E4E8;">               </span><span style="color:#9ECBFF;">vg0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">System</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ID</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Format</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">lvm2</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Areas</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sequence</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">No</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Access</span><span style="color:#E1E4E8;">             </span><span style="color:#9ECBFF;">read/write</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Status</span><span style="color:#E1E4E8;">             </span><span style="color:#9ECBFF;">resizable</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">MAX</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LV</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Cur</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LV</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Open</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LV</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Max</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PV</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Cur</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PV</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Act</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PV</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">               </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GiB</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">4.00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MiB</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Total</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PE</span><span style="color:#E1E4E8;">              </span><span style="color:#79B8FF;">511</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Alloc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Free</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">PE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">511</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GiB</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID</span><span style="color:#E1E4E8;">               </span><span style="color:#9ECBFF;">fAz9gY-ov9y-EhOl-Re1H-L1yq-8Ccw-JZjMMC</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看pv</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvdisplay</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">---</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">&quot;/dev/sdb&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">is</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">new</span><span style="color:#24292E;"> </span><span style="color:#032F62;">physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;2.00 GiB&quot;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">---</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NEW</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Name</span><span style="color:#24292E;">               </span><span style="color:#032F62;">/dev/sdb</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Name</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">2.00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GiB</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Allocatable</span><span style="color:#24292E;">           </span><span style="color:#032F62;">NO</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Total</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PE</span><span style="color:#24292E;">              </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Free</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PE</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Allocated</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PE</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID</span><span style="color:#24292E;">               </span><span style="color:#032F62;">CC6hZs-KUBT-AX0j-Fiz1-uscf-lhpM-Etme4a</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#6A737D;">#创建vg0</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgcreate vg0 /dev/sdb</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">group</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vg0&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgdisplay</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">---</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">group</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Name</span><span style="color:#24292E;">               </span><span style="color:#032F62;">vg0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">System</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ID</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Format</span><span style="color:#24292E;">                </span><span style="color:#032F62;">lvm2</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Areas</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sequence</span><span style="color:#24292E;"> </span><span style="color:#032F62;">No</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Access</span><span style="color:#24292E;">             </span><span style="color:#032F62;">read/write</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Status</span><span style="color:#24292E;">             </span><span style="color:#032F62;">resizable</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">MAX</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LV</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Cur</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LV</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Open</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LV</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Max</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PV</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Cur</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PV</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Act</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PV</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">               </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GiB</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">4.00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MiB</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Total</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PE</span><span style="color:#24292E;">              </span><span style="color:#005CC5;">511</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Alloc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Free</span><span style="color:#24292E;">  </span><span style="color:#032F62;">PE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">511</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GiB</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID</span><span style="color:#24292E;">               </span><span style="color:#032F62;">fAz9gY-ov9y-EhOl-Re1H-L1yq-8Ccw-JZjMMC</span></span></code></pre></div><h3 id="_4-创建lv" tabindex="-1">4.创建lv <a class="header-anchor" href="#_4-创建lv" aria-label="Permalink to &quot;4.创建lv&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">语法：lvcreate</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-l</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#9ECBFF;">%FREE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-n</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lv_name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vg_name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#创建逻辑卷组，-n参数指定新建逻辑卷的名称（我命名为lv0），-l 100%FREE表示添加卷组内所有剩余空间</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvcreate -l 100%FREE -n lv0 vg0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Logical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;lv0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created.</span></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvdisplay</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">---</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Logical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Path</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">/dev/centos/root</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Name</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">root</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Name</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">centos</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">OUHWK5-o8ca-SpYM-Tvz1-26E8-paGJ-2bjOUB</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Write</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Access</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">read/write</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Creation</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">host,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">time</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2023</span><span style="color:#9ECBFF;">-04-03</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">05</span><span style="color:#9ECBFF;">:16:07</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+0800</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Status</span><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">available</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># open                 1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">26.99</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GiB</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Current</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LE</span><span style="color:#E1E4E8;">             </span><span style="color:#79B8FF;">6910</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Segments</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Allocation</span><span style="color:#E1E4E8;">             </span><span style="color:#9ECBFF;">inherit</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Read</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ahead</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sectors</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">auto</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">currently</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">8192</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Block</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">device</span><span style="color:#E1E4E8;">           </span><span style="color:#79B8FF;">253</span><span style="color:#9ECBFF;">:0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">语法：lvcreate</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-l</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#032F62;">%FREE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-n</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lv_name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vg_name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#创建逻辑卷组，-n参数指定新建逻辑卷的名称（我命名为lv0），-l 100%FREE表示添加卷组内所有剩余空间</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvcreate -l 100%FREE -n lv0 vg0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Logical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;lv0&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created.</span></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvdisplay</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">---</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Logical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Path</span><span style="color:#24292E;">                </span><span style="color:#032F62;">/dev/centos/root</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Name</span><span style="color:#24292E;">                </span><span style="color:#032F62;">root</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Name</span><span style="color:#24292E;">                </span><span style="color:#032F62;">centos</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID</span><span style="color:#24292E;">                </span><span style="color:#032F62;">OUHWK5-o8ca-SpYM-Tvz1-26E8-paGJ-2bjOUB</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Write</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Access</span><span style="color:#24292E;">        </span><span style="color:#032F62;">read/write</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Creation</span><span style="color:#24292E;"> </span><span style="color:#032F62;">host,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">time</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2023</span><span style="color:#032F62;">-04-03</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">05</span><span style="color:#032F62;">:16:07</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+0800</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Status</span><span style="color:#24292E;">              </span><span style="color:#032F62;">available</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;"># open                 1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">26.99</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GiB</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Current</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LE</span><span style="color:#24292E;">             </span><span style="color:#005CC5;">6910</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Segments</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Allocation</span><span style="color:#24292E;">             </span><span style="color:#032F62;">inherit</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Read</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ahead</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sectors</span><span style="color:#24292E;">     </span><span style="color:#032F62;">auto</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">currently</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">8192</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Block</span><span style="color:#24292E;"> </span><span style="color:#032F62;">device</span><span style="color:#24292E;">           </span><span style="color:#005CC5;">253</span><span style="color:#032F62;">:0</span></span></code></pre></div><h3 id="_5-挂载lv" tabindex="-1">5.挂载lv <a class="header-anchor" href="#_5-挂载lv" aria-label="Permalink to &quot;5.挂载lv&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Fmt</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Attr</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PSize</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">PFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sdb</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">vg0</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a--</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">vg0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvs </span><span style="color:#6A737D;">#查看详细信息可用lvdisplay</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Attr</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">LSize</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Pool</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Origin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Data%</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Meta%</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Move</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Log</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Cpy%Sync</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Convert</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">lv0</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">vg0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">-wi-a-----</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#6A737D;">#格式化</span></span>
<span class="line"><span style="color:#6A737D;"># 根据相应的文件系统格式化逻辑卷，例如使用ext4文件系统</span></span>
<span class="line"><span style="color:#B392F0;">mkfs.ext4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/vg0/lv0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看格式化之后的lvm</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lsblk</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">MAJ:MIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RM</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">SIZE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#B392F0;">sdb</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:16</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disk</span></span>
<span class="line"><span style="color:#B392F0;">└─vg0-lv0</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">253</span><span style="color:#9ECBFF;">:2</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#挂载</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# mount /dev/vg0/lv0 /yun</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# df -h</span></span>
<span class="line"><span style="color:#B392F0;">文件系统</span><span style="color:#E1E4E8;">                 </span><span style="color:#9ECBFF;">容量</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">已用</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">可用</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">已用%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">挂载点</span></span>
<span class="line"><span style="color:#B392F0;">/dev/mapper/vg0-lv0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">2.0</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">6.0</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">1.9</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/yun</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#永久挂载</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# blkid /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#B392F0;">/dev/vg0/lv0:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID=&quot;5120bf87-aa29-4e64-8c87-a7972924946c&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TYPE=&quot;ext4&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 编辑/etc/fstab文件，将lv0的信息添加在新行</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vim /etc/fstab</span></span>
<span class="line"><span style="color:#E1E4E8;">UUID</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">5120</span><span style="color:#9ECBFF;">bf87-aa29-4e64-8c87-a7972924946c</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">/yun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">defaults</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#重新挂载</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# mount -a</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;">         </span><span style="color:#032F62;">VG</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Fmt</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Attr</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PSize</span><span style="color:#24292E;">   </span><span style="color:#032F62;">PFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sdb</span><span style="color:#24292E;">   </span><span style="color:#032F62;">vg0</span><span style="color:#24292E;">    </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a--</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">vg0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvs </span><span style="color:#6A737D;">#查看详细信息可用lvdisplay</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;">   </span><span style="color:#032F62;">VG</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Attr</span><span style="color:#24292E;">       </span><span style="color:#032F62;">LSize</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Pool</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Origin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Data%</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Meta%</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Move</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Log</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Cpy%Sync</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Convert</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">lv0</span><span style="color:#24292E;">  </span><span style="color:#032F62;">vg0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">-wi-a-----</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#6A737D;">#格式化</span></span>
<span class="line"><span style="color:#6A737D;"># 根据相应的文件系统格式化逻辑卷，例如使用ext4文件系统</span></span>
<span class="line"><span style="color:#6F42C1;">mkfs.ext4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/vg0/lv0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看格式化之后的lvm</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lsblk</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">            </span><span style="color:#032F62;">MAJ:MIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RM</span><span style="color:#24292E;">  </span><span style="color:#032F62;">SIZE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TYPE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#6F42C1;">sdb</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:16</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disk</span></span>
<span class="line"><span style="color:#6F42C1;">└─vg0-lv0</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">253</span><span style="color:#032F62;">:2</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#挂载</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# mount /dev/vg0/lv0 /yun</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# df -h</span></span>
<span class="line"><span style="color:#6F42C1;">文件系统</span><span style="color:#24292E;">                 </span><span style="color:#032F62;">容量</span><span style="color:#24292E;">  </span><span style="color:#032F62;">已用</span><span style="color:#24292E;">  </span><span style="color:#032F62;">可用</span><span style="color:#24292E;"> </span><span style="color:#032F62;">已用%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">挂载点</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/mapper/vg0-lv0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">2.0</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">6.0</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">1.9</span><span style="color:#032F62;">G</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/yun</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#永久挂载</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# blkid /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/vg0/lv0:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID=&quot;5120bf87-aa29-4e64-8c87-a7972924946c&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TYPE=&quot;ext4&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 编辑/etc/fstab文件，将lv0的信息添加在新行</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vim /etc/fstab</span></span>
<span class="line"><span style="color:#24292E;">UUID</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">5120</span><span style="color:#032F62;">bf87-aa29-4e64-8c87-a7972924946c</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">/yun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;"> </span><span style="color:#032F62;">defaults</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#重新挂载</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# mount -a</span></span></code></pre></div><h2 id="_3-2-扩容lvm" tabindex="-1">3.2 扩容LVM <a class="header-anchor" href="#_3-2-扩容lvm" aria-label="Permalink to &quot;3.2 扩容LVM&quot;">​</a></h2><h3 id="_1-扩容pv" tabindex="-1">1.扩容pv <a class="header-anchor" href="#_1-扩容pv" aria-label="Permalink to &quot;1.扩容pv&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#吧sdc加入到pv中</span></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lsblk</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">MAJ:MIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RM</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">SIZE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#B392F0;">sdb</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:16</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disk</span></span>
<span class="line"><span style="color:#B392F0;">└─vg0-lv0</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">253</span><span style="color:#9ECBFF;">:2</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm</span></span>
<span class="line"><span style="color:#B392F0;">sr0</span><span style="color:#E1E4E8;">              </span><span style="color:#79B8FF;">11</span><span style="color:#9ECBFF;">:0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1024</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rom</span></span>
<span class="line"><span style="color:#B392F0;">sdc</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">8</span><span style="color:#9ECBFF;">:32</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disk</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Fmt</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Attr</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PSize</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">PFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sda2</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">centos</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a--</span><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">29.00g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4.00</span><span style="color:#9ECBFF;">m</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sdb</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">vg0</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a--</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvcreate /dev/sdc</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/dev/sdc&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created.</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Fmt</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Attr</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PSize</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">PFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sda2</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">centos</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a--</span><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">29.00g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4.00</span><span style="color:#9ECBFF;">m</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sdb</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">vg0</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a--</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sdc</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#吧sdc加入到pv中</span></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lsblk</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">            </span><span style="color:#032F62;">MAJ:MIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RM</span><span style="color:#24292E;">  </span><span style="color:#032F62;">SIZE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TYPE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#6F42C1;">sdb</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:16</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disk</span></span>
<span class="line"><span style="color:#6F42C1;">└─vg0-lv0</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">253</span><span style="color:#032F62;">:2</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm</span></span>
<span class="line"><span style="color:#6F42C1;">sr0</span><span style="color:#24292E;">              </span><span style="color:#005CC5;">11</span><span style="color:#032F62;">:0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1024</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rom</span></span>
<span class="line"><span style="color:#6F42C1;">sdc</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">8</span><span style="color:#032F62;">:32</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disk</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;">         </span><span style="color:#032F62;">VG</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Fmt</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Attr</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PSize</span><span style="color:#24292E;">   </span><span style="color:#032F62;">PFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sda2</span><span style="color:#24292E;">  </span><span style="color:#032F62;">centos</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a--</span><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">29.00g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4.00</span><span style="color:#032F62;">m</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sdb</span><span style="color:#24292E;">   </span><span style="color:#032F62;">vg0</span><span style="color:#24292E;">    </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a--</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvcreate /dev/sdc</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/dev/sdc&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created.</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;">         </span><span style="color:#032F62;">VG</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Fmt</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Attr</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PSize</span><span style="color:#24292E;">   </span><span style="color:#032F62;">PFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sda2</span><span style="color:#24292E;">  </span><span style="color:#032F62;">centos</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a--</span><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">29.00g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4.00</span><span style="color:#032F62;">m</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sdb</span><span style="color:#24292E;">   </span><span style="color:#032F62;">vg0</span><span style="color:#24292E;">    </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a--</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sdc</span><span style="color:#24292E;">          </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span></span></code></pre></div><h3 id="_2-扩容vg" tabindex="-1">2.扩容vg <a class="header-anchor" href="#_2-扩容vg" aria-label="Permalink to &quot;2.扩容vg&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#对现有vg0扩容</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">centos</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">29.00g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4.00</span><span style="color:#9ECBFF;">m</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">vg0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#把sdc加入进来</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgextend vg0 /dev/sdc</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">group</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vg0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">extended</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">centos</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">29.00g</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">4.00</span><span style="color:#9ECBFF;">m</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">vg0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">3.99</span><span style="color:#9ECBFF;">g</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00g</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#对现有vg0扩容</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">centos</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">29.00g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4.00</span><span style="color:#032F62;">m</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">vg0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#把sdc加入进来</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgextend vg0 /dev/sdc</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">group</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vg0&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">extended</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">centos</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">29.00g</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">4.00</span><span style="color:#032F62;">m</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">vg0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">3.99</span><span style="color:#032F62;">g</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00g</span></span></code></pre></div><h3 id="_3-扩容lv" tabindex="-1">3.扩容lv <a class="header-anchor" href="#_3-扩容lv" aria-label="Permalink to &quot;3.扩容lv&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看lv名字</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvdisplay</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#扩容剩余所有存储空间</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvextend -l +100%FREE /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Size</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">logical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vg0/lv0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">changed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">2.00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GiB</span><span style="color:#E1E4E8;"> (511 </span><span style="color:#9ECBFF;">extents</span><span style="color:#E1E4E8;">) to 3.99 GiB (</span><span style="color:#B392F0;">1022</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">extents</span><span style="color:#E1E4E8;">).</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Logical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vg0/lv0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">resized.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看lv名字</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvdisplay</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#扩容剩余所有存储空间</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvextend -l +100%FREE /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Size</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">logical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vg0/lv0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">changed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">2.00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GiB</span><span style="color:#24292E;"> (511 </span><span style="color:#032F62;">extents</span><span style="color:#24292E;">) to 3.99 GiB (</span><span style="color:#6F42C1;">1022</span><span style="color:#24292E;"> </span><span style="color:#032F62;">extents</span><span style="color:#24292E;">).</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Logical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vg0/lv0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">resized.</span></span></code></pre></div><ul><li>调整文件系统</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#对于ext4,ext3 使用resize2fs</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# resize2fs /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#B392F0;">resize2fs</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.42</span><span style="color:#9ECBFF;">.9</span><span style="color:#E1E4E8;"> (28-Dec-2013)</span></span>
<span class="line"><span style="color:#B392F0;">Resizing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">filesystem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/vg0/lv0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1046528</span><span style="color:#E1E4E8;"> (4k) blocks.</span></span>
<span class="line"><span style="color:#B392F0;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">filesystem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/vg0/lv0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">now</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1046528</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blocks</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">long.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#对于xfs类型，使用xfs_growfs 挂载点</span></span>
<span class="line"><span style="color:#B392F0;">xfs_growfs</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/vg0/lv0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#对于ext4,ext3 使用resize2fs</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# resize2fs /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#6F42C1;">resize2fs</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.42</span><span style="color:#032F62;">.9</span><span style="color:#24292E;"> (28-Dec-2013)</span></span>
<span class="line"><span style="color:#6F42C1;">Resizing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">filesystem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/vg0/lv0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1046528</span><span style="color:#24292E;"> (4k) blocks.</span></span>
<span class="line"><span style="color:#6F42C1;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">filesystem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/vg0/lv0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">is</span><span style="color:#24292E;"> </span><span style="color:#032F62;">now</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1046528</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blocks</span><span style="color:#24292E;"> </span><span style="color:#032F62;">long.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#对于xfs类型，使用xfs_growfs 挂载点</span></span>
<span class="line"><span style="color:#6F42C1;">xfs_growfs</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/vg0/lv0</span></span></code></pre></div><h2 id="_3-3缩减lvm" tabindex="-1">3.3缩减LVM <a class="header-anchor" href="#_3-3缩减lvm" aria-label="Permalink to &quot;3.3缩减LVM&quot;">​</a></h2><h2 id="_3-4-删除lvm" tabindex="-1">3.4 删除LVM <a class="header-anchor" href="#_3-4-删除lvm" aria-label="Permalink to &quot;3.4 删除LVM&quot;">​</a></h2><p>删除LVM流程：umount卸载 -&gt; lvremove lv移出卷组中所有逻辑卷-&gt; vgremove vg移出卷组-&gt; pvremove 移出pv</p><h3 id="_1-查看" tabindex="-1">1.查看 <a class="header-anchor" href="#_1-查看" aria-label="Permalink to &quot;1.查看&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">LV</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Attr</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">LSize</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Pool</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Origin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Data%</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Meta%</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Move</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Log</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Cpy%Sync</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Convert</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">root</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">centos</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-wi-ao----</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">26.99</span><span style="color:#9ECBFF;">g</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">swap</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">centos</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-wi-a-----</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">lv0</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">vg0</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">-wi-a-----</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">3.99</span><span style="color:#9ECBFF;">g</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">LV</span><span style="color:#24292E;">   </span><span style="color:#032F62;">VG</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Attr</span><span style="color:#24292E;">       </span><span style="color:#032F62;">LSize</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Pool</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Origin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Data%</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Meta%</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Move</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Log</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Cpy%Sync</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Convert</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">root</span><span style="color:#24292E;"> </span><span style="color:#032F62;">centos</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-wi-ao----</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">26.99</span><span style="color:#032F62;">g</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">swap</span><span style="color:#24292E;"> </span><span style="color:#032F62;">centos</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-wi-a-----</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">lv0</span><span style="color:#24292E;">  </span><span style="color:#032F62;">vg0</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">-wi-a-----</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">3.99</span><span style="color:#032F62;">g</span></span></code></pre></div><h3 id="_2-删除lv" tabindex="-1">2.删除lv <a class="header-anchor" href="#_2-删除lv" aria-label="Permalink to &quot;2.删除lv&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lvremove /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#B392F0;">Do</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">you</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">really</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">want</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">active</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">logical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vg0/lv0?</span><span style="color:#E1E4E8;"> [y/n]: y</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Logical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;lv0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">removed</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lvremove /dev/vg0/lv0</span></span>
<span class="line"><span style="color:#6F42C1;">Do</span><span style="color:#24292E;"> </span><span style="color:#032F62;">you</span><span style="color:#24292E;"> </span><span style="color:#032F62;">really</span><span style="color:#24292E;"> </span><span style="color:#032F62;">want</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">active</span><span style="color:#24292E;"> </span><span style="color:#032F62;">logical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vg0/lv0?</span><span style="color:#24292E;"> [y/n]: y</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Logical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;lv0&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">removed</span></span></code></pre></div><h3 id="_3-删除vg" tabindex="-1">3.删除vg <a class="header-anchor" href="#_3-删除vg" aria-label="Permalink to &quot;3.删除vg&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">centos</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">29.00g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4.00</span><span style="color:#9ECBFF;">m</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">vg0</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wz--n-</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">3.99</span><span style="color:#9ECBFF;">g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3.99</span><span style="color:#9ECBFF;">g</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# vgremove vg0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">group</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vg0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">removed</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VG</span><span style="color:#24292E;">     </span><span style="color:#6A737D;">#PV #LV #SN Attr   VSize   VFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">centos</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">29.00g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4.00</span><span style="color:#032F62;">m</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">vg0</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wz--n-</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">3.99</span><span style="color:#032F62;">g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3.99</span><span style="color:#032F62;">g</span></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# vgremove vg0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">group</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vg0&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">removed</span></span></code></pre></div><h3 id="_4-删除pv" tabindex="-1">4.删除pv <a class="header-anchor" href="#_4-删除pv" aria-label="Permalink to &quot;4.删除pv&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">PV</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">VG</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Fmt</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Attr</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PSize</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">PFree</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sda2</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">centos</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a--</span><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">29.00g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4.00</span><span style="color:#9ECBFF;">m</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sdb</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">/dev/sdc</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">---</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2.00</span><span style="color:#9ECBFF;">g</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@other </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# pvremove /dev/sdc /dev/sdb</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Labels</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/dev/sdc&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wiped.</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Labels</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">physical</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/dev/sdb&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">successfully</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wiped.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">PV</span><span style="color:#24292E;">         </span><span style="color:#032F62;">VG</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Fmt</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Attr</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PSize</span><span style="color:#24292E;">   </span><span style="color:#032F62;">PFree</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sda2</span><span style="color:#24292E;">  </span><span style="color:#032F62;">centos</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a--</span><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">29.00g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4.00</span><span style="color:#032F62;">m</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sdb</span><span style="color:#24292E;">          </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">/dev/sdc</span><span style="color:#24292E;">          </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">---</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2.00</span><span style="color:#032F62;">g</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@other </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# pvremove /dev/sdc /dev/sdb</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Labels</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/dev/sdc&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wiped.</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Labels</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">physical</span><span style="color:#24292E;"> </span><span style="color:#032F62;">volume</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/dev/sdb&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">successfully</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wiped.</span></span></code></pre></div><h3 id="_5-卸载" tabindex="-1">5.卸载 <a class="header-anchor" href="#_5-卸载" aria-label="Permalink to &quot;5.卸载&quot;">​</a></h3><h3 id="_6-格式化磁盘" tabindex="-1">6.格式化磁盘 <a class="header-anchor" href="#_6-格式化磁盘" aria-label="Permalink to &quot;6.格式化磁盘&quot;">​</a></h3><p><a href="https://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/7/html/logical_volume_manager_administration/lvm_examples#LVM_examples" target="_blank" rel="noreferrer">官档</a></p>`,56),e=[o];function c(t,r,E,y,F,i){return a(),n("div",null,e)}const v=s(p,[["render",c]]);export{B as __pageData,v as default};
