import{_ as i,o as s,c as n,R as t}from"./chunks/framework.zUbWieqp.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/Jenkins/plus/14-AuditTrail.md","filePath":"guide/Linux/Jenkins/plus/14-AuditTrail.md","lastUpdated":1720533756000}'),o={name:"guide/Linux/Jenkins/plus/14-AuditTrail.md"},a=t('<p>官方地址，<a href="https://plugins.jenkins.io/audit-trail" target="_blank" rel="noreferrer">https://plugins.jenkins.io/audit-trail</a></p><p>记录用户日志需要单独的安装<code>Audit Trail</code>插件，该插件在Jenkins主配置页面中添加了一个配置部分，可以在此处配置日志位置和设置（文件大小和循环日志文件的数量），以及用于记录请求的URI模式。默认选项选择效果显着的大多数操作，例如创建/配置/删除作业和视图或永久删除/保存/开始构建。日志将按照配置写入磁盘，最近的条目也可以在“管理/系统日志”部分中查看</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406242142126.jpg" alt=""></p><p>这里配置以后还不能记录job的日志，需要对job进行记录需要另外的安装<a href="https://wiki.jenkins.io/display/JENKINS/JobConfigHistory+Plugin" target="_blank" rel="noreferrer">Job Configuration History插件</a>，根据官方的介绍，可用于查看所有作业配置历史记录或仅查看已删除的作业或所有类型的配置历史记录条目。同时，如果配置了安全策略，还可以查看哪个用户进行了哪些更改。 安装完成后，我们在job里面可以看到一个<code>Job Config History</code>的菜单。最开始没有没有任何记录，只有当构建job或者修改过job以后才会有记录</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406242142570.jpg" alt=""></p><ul><li>查看用户</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406242142876.jpg" alt=""></p><p>点击Show Diffs 可以看到我们具体修改了什么东西</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406242142282.jpg" alt=""></p><p>当我们安装好这个插件以后，也测试可以使用，但是我们不能让所有的job日志记录保存历史过久，如果job过多，记录过多，这会对我们的磁盘空间来说，肯定是一个压力，所以这里我们就需要进行配置，保存多少次的记录，而且还可以设置排除的文件</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406242142709.jpg" alt=""></p><p>官方地址，<a href="https://wiki.jenkins.io/display/JENKINS/JobConfigHistory+Plugin" target="_blank" rel="noreferrer">Job Configuration History官方</a></p>',12),e=[a];function r(p,l,c,g,u,d){return s(),n("div",null,e)}const m=i(o,[["render",r]]);export{h as __pageData,m as default};
