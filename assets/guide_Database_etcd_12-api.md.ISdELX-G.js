import{_ as s,o,c as a,R as t}from"./chunks/framework.zUbWieqp.js";const F=JSON.parse('{"title":"1.API常用操作","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Database/etcd/12-api.md","filePath":"guide/Database/etcd/12-api.md","lastUpdated":1703141608000}'),n={name:"guide/Database/etcd/12-api.md"},l=t(`<h1 id="_1-api常用操作" tabindex="-1">1.API常用操作 <a class="header-anchor" href="#_1-api常用操作" aria-label="Permalink to &quot;1.API常用操作&quot;">​</a></h1><p>如果需要使用v2 version api，启动etcd时候需要加入“ETCD_ENABLE_V2=true”参数，否则会报错“404 page not found”</p><h2 id="_1-1-获取etcd信息" tabindex="-1">1.1 获取etcd信息 <a class="header-anchor" href="#_1-1-获取etcd信息" aria-label="Permalink to &quot;1.1 获取etcd信息&quot;">​</a></h2><h3 id="版本信息" tabindex="-1">版本信息 <a class="header-anchor" href="#版本信息" aria-label="Permalink to &quot;版本信息&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl -L http://172.16.101.55:2379/version</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;etcdserver&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;3.4.1&quot;</span><span style="color:#B392F0;">,</span><span style="color:#B392F0;">&quot;etcdcluster&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;3.4.0&quot;</span><span style="color:#B392F0;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl -L http://172.16.101.55:2379/version</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;etcdserver&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;3.4.1&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#6F42C1;">&quot;etcdcluster&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;3.4.0&quot;</span><span style="color:#6F42C1;">}</span></span></code></pre></div><h3 id="健康状态" tabindex="-1">健康状态 <a class="header-anchor" href="#健康状态" aria-label="Permalink to &quot;健康状态&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl -L http://172.16.101.55:2379/health</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;health&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;true&quot;</span><span style="color:#B392F0;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl -L http://172.16.101.55:2379/health</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;health&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;true&quot;</span><span style="color:#6F42C1;">}</span></span></code></pre></div><h2 id="_1-2-key操作" tabindex="-1">1.2 key操作 <a class="header-anchor" href="#_1-2-key操作" aria-label="Permalink to &quot;1.2 key操作&quot;">​</a></h2><h3 id="新建key" tabindex="-1">新建key <a class="header-anchor" href="#新建key" aria-label="Permalink to &quot;新建key&quot;">​</a></h3><p>新建key值为message value为“Hello world”</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello world&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;action&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;set&quot;</span><span style="color:#B392F0;">,</span><span style="color:#B392F0;">&quot;node&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;">{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/message</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;modifiedIndex&quot;:18,&quot;createdIndex&quot;:18}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello world&quot;</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;action&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;set&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#6F42C1;">&quot;node&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;">{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/message</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;modifiedIndex&quot;:18,&quot;createdIndex&quot;:18}}</span></span></code></pre></div><h3 id="查看key" tabindex="-1">查看key <a class="header-anchor" href="#查看key" aria-label="Permalink to &quot;查看key&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;action&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;get&quot;</span><span style="color:#B392F0;">,</span><span style="color:#B392F0;">&quot;node&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;">{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/message</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;modifiedIndex&quot;:18,&quot;createdIndex&quot;:18}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;action&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;get&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#6F42C1;">&quot;node&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;">{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/message</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;modifiedIndex&quot;:18,&quot;createdIndex&quot;:18}}</span></span></code></pre></div><h3 id="删除key" tabindex="-1">删除key <a class="header-anchor" href="#删除key" aria-label="Permalink to &quot;删除key&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XDELETE</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XDELETE</span></span></code></pre></div><h3 id="新建带有ttl的key" tabindex="-1">新建带有TTL的key <a class="header-anchor" href="#新建带有ttl的key" aria-label="Permalink to &quot;新建带有TTL的key&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#创建</span></span>
<span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/message</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-XPUT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value=&quot;Hello world&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ttl=</span><span style="color:#79B8FF;">30</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/message</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#创建</span></span>
<span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/message</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-XPUT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value=&quot;Hello world&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ttl=</span><span style="color:#005CC5;">30</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/message</span></span></code></pre></div><h4 id="取消key的ttl" tabindex="-1">取消key的TTL <a class="header-anchor" href="#取消key的ttl" aria-label="Permalink to &quot;取消key的TTL&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello world&quot; -d ttl=30</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;action&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;set&quot;</span><span style="color:#B392F0;">,</span><span style="color:#B392F0;">&quot;node&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;">{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/message</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:10:23.220573683Z&quot;,&quot;ttl&quot;:30,&quot;modifiedIndex&quot;:22,&quot;createdIndex&quot;:22}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#9ECBFF;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:10:23.220573683Z&quot;,&quot;ttl&quot;:20,&quot;modifiedIndex&quot;:22,&quot;createdIndex&quot;:22}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot; -d ttl= -d prevExist=true</span></span>
<span class="line"><span style="color:#9ECBFF;">{&quot;action&quot;:&quot;update&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;modifiedIndex&quot;:23,&quot;createdIndex&quot;:22},&quot;prevNode&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:10:23.220573683Z&quot;,&quot;ttl&quot;:16,&quot;modifiedIndex&quot;:22,&quot;createdIndex&quot;:22}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#9ECBFF;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;modifiedIndex&quot;:23,&quot;createdIndex&quot;:22}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello world&quot; -d ttl=30</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;action&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;set&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#6F42C1;">&quot;node&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;">{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/message</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:10:23.220573683Z&quot;,&quot;ttl&quot;:30,&quot;modifiedIndex&quot;:22,&quot;createdIndex&quot;:22}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#032F62;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:10:23.220573683Z&quot;,&quot;ttl&quot;:20,&quot;modifiedIndex&quot;:22,&quot;createdIndex&quot;:22}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot; -d ttl= -d prevExist=true</span></span>
<span class="line"><span style="color:#032F62;">{&quot;action&quot;:&quot;update&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;modifiedIndex&quot;:23,&quot;createdIndex&quot;:22},&quot;prevNode&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:10:23.220573683Z&quot;,&quot;ttl&quot;:16,&quot;modifiedIndex&quot;:22,&quot;createdIndex&quot;:22}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#032F62;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;modifiedIndex&quot;:23,&quot;createdIndex&quot;:22}}</span></span></code></pre></div><h3 id="重置key的ttl" tabindex="-1">重置key的TTL <a class="header-anchor" href="#重置key的ttl" aria-label="Permalink to &quot;重置key的TTL&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello world&quot; -d ttl=30</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;action&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;set&quot;</span><span style="color:#B392F0;">,</span><span style="color:#B392F0;">&quot;node&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;">{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/message</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:01.34698273Z&quot;,&quot;ttl&quot;:30,&quot;modifiedIndex&quot;:25,&quot;createdIndex&quot;:25}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#9ECBFF;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:01.34698273Z&quot;,&quot;ttl&quot;:16,&quot;modifiedIndex&quot;:25,&quot;createdIndex&quot;:25}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d ttl=30 -d refresh=true -d prevExist=true</span></span>
<span class="line"><span style="color:#9ECBFF;">{&quot;action&quot;:&quot;update&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:29.569276199Z&quot;,&quot;ttl&quot;:30,&quot;modifiedIndex&quot;:26,&quot;createdIndex&quot;:25},&quot;prevNode&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:01.34698273Z&quot;,&quot;ttl&quot;:2,&quot;modifiedIndex&quot;:25,&quot;createdIndex&quot;:25}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#9ECBFF;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:29.569276199Z&quot;,&quot;ttl&quot;:27,&quot;modifiedIndex&quot;:26,&quot;createdIndex&quot;:25}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d value=&quot;Hello world&quot; -d ttl=30</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;action&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;set&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#6F42C1;">&quot;node&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;">{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/message</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:01.34698273Z&quot;,&quot;ttl&quot;:30,&quot;modifiedIndex&quot;:25,&quot;createdIndex&quot;:25}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#032F62;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:01.34698273Z&quot;,&quot;ttl&quot;:16,&quot;modifiedIndex&quot;:25,&quot;createdIndex&quot;:25}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;"># curl http://127.0.0.1:2379/v2/keys/message -XPUT -d ttl=30 -d refresh=true -d prevExist=true</span></span>
<span class="line"><span style="color:#032F62;">{&quot;action&quot;:&quot;update&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:29.569276199Z&quot;,&quot;ttl&quot;:30,&quot;modifiedIndex&quot;:26,&quot;createdIndex&quot;:25},&quot;prevNode&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:01.34698273Z&quot;,&quot;ttl&quot;:2,&quot;modifiedIndex&quot;:25,&quot;createdIndex&quot;:25}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;"># curl http://127.0.0.1:2379/v2/keys/message</span></span>
<span class="line"><span style="color:#032F62;">{&quot;action&quot;:&quot;get&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/message&quot;,&quot;value&quot;:&quot;Hello</span><span style="color:#24292E;"> </span><span style="color:#032F62;">world&quot;,&quot;expiration&quot;:&quot;2019-09-29T08:15:29.569276199Z&quot;,&quot;ttl&quot;:27,&quot;modifiedIndex&quot;:26,&quot;createdIndex&quot;:25}}</span></span></code></pre></div><h3 id="新建带有ttl的目录" tabindex="-1">新建带有TTL的目录 <a class="header-anchor" href="#新建带有ttl的目录" aria-label="Permalink to &quot;新建带有TTL的目录&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/dir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ttl=</span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dir=</span><span style="color:#79B8FF;">true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/dir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ttl=</span><span style="color:#005CC5;">30</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dir=</span><span style="color:#005CC5;">true</span></span></code></pre></div><ul><li>在TTL到期前更新该目录的TTL</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/dir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-XPUT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ttl=</span><span style="color:#79B8FF;">60</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dir=</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">prevExist=</span><span style="color:#79B8FF;">true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/dir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-XPUT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ttl=</span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dir=</span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">prevExist=</span><span style="color:#005CC5;">true</span></span></code></pre></div><ul><li>向该目录插入数据</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/dir/message</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-XPUT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value=&quot;Hello world&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/dir/message</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-XPUT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value=&quot;Hello world&quot;</span></span></code></pre></div><h3 id="自动创建有序的key" tabindex="-1">自动创建有序的key <a class="header-anchor" href="#自动创建有序的key" aria-label="Permalink to &quot;自动创建有序的key&quot;">​</a></h3><p><code>注意，下图的/queue为目录，创建方法为POST，不是PUT</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job1</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">&quot;action&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#B392F0;">&quot;create&quot;</span><span style="color:#B392F0;">,</span><span style="color:#B392F0;">&quot;node&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;">{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/queue/00000000000000000042</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Job1</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">modifiedIndex</span><span style="color:#B392F0;">&quot;:42,&quot;</span><span style="color:#B392F0;">createdIndex</span><span style="color:#B392F0;">&quot;:42}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job2</span></span>
<span class="line"><span style="color:#B392F0;">{&quot;</span><span style="color:#B392F0;">action</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">create</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">node</span><span style="color:#B392F0;">&quot;:{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/queue/00000000000000000043</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Job2</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">modifiedIndex</span><span style="color:#B392F0;">&quot;:43,&quot;</span><span style="color:#B392F0;">createdIndex</span><span style="color:#B392F0;">&quot;:43}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job3</span></span>
<span class="line"><span style="color:#B392F0;">{&quot;</span><span style="color:#B392F0;">action</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">create</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">node</span><span style="color:#B392F0;">&quot;:{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/queue/00000000000000000044</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Job3</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">modifiedIndex</span><span style="color:#B392F0;">&quot;:44,&quot;</span><span style="color:#B392F0;">createdIndex</span><span style="color:#B392F0;">&quot;:44}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job4</span></span>
<span class="line"><span style="color:#B392F0;">{&quot;</span><span style="color:#B392F0;">action</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">create</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">node</span><span style="color:#B392F0;">&quot;:{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/queue/00000000000000000045</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Job4</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">modifiedIndex</span><span style="color:#B392F0;">&quot;:45,&quot;</span><span style="color:#B392F0;">createdIndex</span><span style="color:#B392F0;">&quot;:45}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job5</span></span>
<span class="line"><span style="color:#B392F0;">{&quot;</span><span style="color:#B392F0;">action</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">create</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">node</span><span style="color:#B392F0;">&quot;:{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/queue/00000000000000000046</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Job5</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">modifiedIndex</span><span style="color:#B392F0;">&quot;:46,&quot;</span><span style="color:#B392F0;">createdIndex</span><span style="color:#B392F0;">&quot;:46}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job6</span></span>
<span class="line"><span style="color:#B392F0;">{&quot;</span><span style="color:#B392F0;">action</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">create</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">node</span><span style="color:#B392F0;">&quot;:{&quot;</span><span style="color:#B392F0;">key</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">/queue/00000000000000000047</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">value</span><span style="color:#B392F0;">&quot;:&quot;</span><span style="color:#B392F0;">Job6</span><span style="color:#B392F0;">&quot;,&quot;</span><span style="color:#B392F0;">modifiedIndex</span><span style="color:#B392F0;">&quot;:47,&quot;</span><span style="color:#B392F0;">createdIndex</span><span style="color:#B392F0;">&quot;:47}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job1</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#6F42C1;">&quot;action&quot;</span><span style="color:#005CC5;">:</span><span style="color:#6F42C1;">&quot;create&quot;</span><span style="color:#6F42C1;">,</span><span style="color:#6F42C1;">&quot;node&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;">{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/queue/00000000000000000042</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Job1</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">modifiedIndex</span><span style="color:#6F42C1;">&quot;:42,&quot;</span><span style="color:#6F42C1;">createdIndex</span><span style="color:#6F42C1;">&quot;:42}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job2</span></span>
<span class="line"><span style="color:#6F42C1;">{&quot;</span><span style="color:#6F42C1;">action</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">create</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">node</span><span style="color:#6F42C1;">&quot;:{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/queue/00000000000000000043</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Job2</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">modifiedIndex</span><span style="color:#6F42C1;">&quot;:43,&quot;</span><span style="color:#6F42C1;">createdIndex</span><span style="color:#6F42C1;">&quot;:43}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job3</span></span>
<span class="line"><span style="color:#6F42C1;">{&quot;</span><span style="color:#6F42C1;">action</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">create</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">node</span><span style="color:#6F42C1;">&quot;:{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/queue/00000000000000000044</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Job3</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">modifiedIndex</span><span style="color:#6F42C1;">&quot;:44,&quot;</span><span style="color:#6F42C1;">createdIndex</span><span style="color:#6F42C1;">&quot;:44}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job4</span></span>
<span class="line"><span style="color:#6F42C1;">{&quot;</span><span style="color:#6F42C1;">action</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">create</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">node</span><span style="color:#6F42C1;">&quot;:{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/queue/00000000000000000045</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Job4</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">modifiedIndex</span><span style="color:#6F42C1;">&quot;:45,&quot;</span><span style="color:#6F42C1;">createdIndex</span><span style="color:#6F42C1;">&quot;:45}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job5</span></span>
<span class="line"><span style="color:#6F42C1;">{&quot;</span><span style="color:#6F42C1;">action</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">create</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">node</span><span style="color:#6F42C1;">&quot;:{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/queue/00000000000000000046</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Job5</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">modifiedIndex</span><span style="color:#6F42C1;">&quot;:46,&quot;</span><span style="color:#6F42C1;">createdIndex</span><span style="color:#6F42C1;">&quot;:46}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;"># curl http://127.0.0.1:2379/v2/keys/queue -XPOST -d value=Job6</span></span>
<span class="line"><span style="color:#6F42C1;">{&quot;</span><span style="color:#6F42C1;">action</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">create</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">node</span><span style="color:#6F42C1;">&quot;:{&quot;</span><span style="color:#6F42C1;">key</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">/queue/00000000000000000047</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">value</span><span style="color:#6F42C1;">&quot;:&quot;</span><span style="color:#6F42C1;">Job6</span><span style="color:#6F42C1;">&quot;,&quot;</span><span style="color:#6F42C1;">modifiedIndex</span><span style="color:#6F42C1;">&quot;:47,&quot;</span><span style="color:#6F42C1;">createdIndex</span><span style="color:#6F42C1;">&quot;:47}}</span></span></code></pre></div><h4 id="查看" tabindex="-1">查看 <a class="header-anchor" href="#查看" aria-label="Permalink to &quot;查看&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:2379/v2/keys/queue?recursive=true&amp;sorted=true&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;http://127.0.0.1:2379/v2/keys/queue?recursive=true&amp;sorted=true&#39;</span></span></code></pre></div><h2 id="_1-3-监控watch" tabindex="-1">1.3 监控watch <a class="header-anchor" href="#_1-3-监控watch" aria-label="Permalink to &quot;1.3 监控watch&quot;">​</a></h2><p>开启一个终端,监控key 名字</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/message?wait=</span><span style="color:#79B8FF;">true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/message?wait=</span><span style="color:#005CC5;">true</span></span></code></pre></div><p>重新打开二个终端，新建key</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://127.0.0.1:2379/v2/keys/message</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-XPUT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value=&quot;Hello world&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://127.0.0.1:2379/v2/keys/message</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-XPUT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value=&quot;Hello world&quot;</span></span></code></pre></div>`,37),e=[l];function p(c,u,r,q,y,d){return o(),a("div",null,e)}const C=s(n,[["render",p]]);export{F as __pageData,C as default};
