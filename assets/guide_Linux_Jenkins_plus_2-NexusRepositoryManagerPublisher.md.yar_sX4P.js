import{_ as e,o as s,c as a,R as n}from"./chunks/framework.zUbWieqp.js";const m=JSON.parse('{"title":"一、Nexus Repository Manager Publisher","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/Jenkins/plus/2-NexusRepositoryManagerPublisher.md","filePath":"guide/Linux/Jenkins/plus/2-NexusRepositoryManagerPublisher.md","lastUpdated":1720533756000}'),o={name:"guide/Linux/Jenkins/plus/2-NexusRepositoryManagerPublisher.md"},i=n(`<h1 id="一、nexus-repository-manager-publisher" tabindex="-1">一、Nexus Repository Manager Publisher <a class="header-anchor" href="#一、nexus-repository-manager-publisher" aria-label="Permalink to &quot;一、Nexus Repository Manager Publisher&quot;">​</a></h1><p>官方文档 <a href="https://help.sonatype.com/integrations/nexus-and-continuous-integration/nexus-platform-plugin-for-jenkins" target="_blank" rel="noreferrer">https://help.sonatype.com/integrations/nexus-and-continuous-integration/nexus-platform-plugin-for-jenkins</a></p><h2 id="_1-1-安装nexus-repository-manager插件" tabindex="-1">1.1 安装Nexus Repository Manager插件 <a class="header-anchor" href="#_1-1-安装nexus-repository-manager插件" aria-label="Permalink to &quot;1.1 安装Nexus Repository Manager插件&quot;">​</a></h2><ul><li>离线下载安装</li></ul><p><a href="https://updates.jenkins.io/download/plugins/nexus-jenkins-plugin/3.8.20190920-091853.5b0aa4e/nexus-jenkins-plugin.hpi" target="_blank" rel="noreferrer">https://updates.jenkins.io/download/plugins/nexus-jenkins-plugin/3.8.20190920-091853.5b0aa4e/nexus-jenkins-plugin.hpi</a></p><blockquote><p>Jenkins dashboard, navigate to Manage Jenkins -&gt; Plugin Manager, proceed to the Advanced tab, and upload the downloaded HPI using the Upload Plugin form shown below</p></blockquote><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221819307.png" alt="上传插件"></p><ul><li>在线安装</li></ul><p>直接搜索 nexus</p><h2 id="_1-2-配置-jenkins" tabindex="-1">1.2 配置 jenkins <a class="header-anchor" href="#_1-2-配置-jenkins" aria-label="Permalink to &quot;1.2 配置 jenkins&quot;">​</a></h2><p>next thing you need to do is configure a Nexus Repository Manager to be able to upload your build artifacts.</p><p>Once again click on the <code>Manage Jenkins</code> link from the dashboard and then the <code>Configure System </code> link.</p><p>Under the Sonatype Nexus heading <code>select Nexus Repository Manager 2.x Server or 3.x</code> from the Add Nexus Repository Manager Server dropdown</p><ul><li>nexus3</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221820775.png" alt="配置插件"></p><ul><li>nexus2 ,注意2的地址参数</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221820939.png" alt="配置插件"></p><h2 id="_1-3-添加凭证" tabindex="-1">1.3 添加凭证 <a class="header-anchor" href="#_1-3-添加凭证" aria-label="Permalink to &quot;1.3 添加凭证&quot;">​</a></h2><p>In this step, we should add a Jenkins Crendential of kind &quot;Username with password&quot; with a valid login to our Nexus instance and let&#39;s give it an Id of &quot;nexus-credentials.&quot;</p><blockquote><p>密码最好和oss中的密码一样</p></blockquote><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221820358.png" alt="添加凭证"></p><h2 id="_1-4-tool-configuration-optional" tabindex="-1">1.4 Tool Configuration (Optional) <a class="header-anchor" href="#_1-4-tool-configuration-optional" aria-label="Permalink to &quot;1.4 Tool Configuration (Optional)&quot;">​</a></h2><ul><li>Manage Jenkins -&gt; Global Tool Configuration</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821752.jpg" alt="Configuration"></p><h1 id="二、配置nexus-oss" tabindex="-1">二、配置Nexus Oss <a class="header-anchor" href="#二、配置nexus-oss" aria-label="Permalink to &quot;二、配置Nexus Oss&quot;">​</a></h1><h2 id="_2-1-create-a-hosted-repository-in-nexus" tabindex="-1">2.1 Create a Hosted Repository in Nexus <a class="header-anchor" href="#_2-1-create-a-hosted-repository-in-nexus" aria-label="Permalink to &quot;2.1 Create a Hosted Repository in Nexus&quot;">​</a></h2><ul><li>we are creating a hosted repository named &quot;repository-example&quot;</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821784.png" alt="oss创建"></p><ul><li>Deployment policy: allow redeploy</li><li>Storage: default.</li></ul><ul><li>nexus2 配置</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821616.jpg" alt="oss2创建"></p><h2 id="_2-2-create-a-valid-user-in-nexus-oss" tabindex="-1">2.2 Create a Valid User in Nexus OSS <a class="header-anchor" href="#_2-2-create-a-valid-user-in-nexus-oss" aria-label="Permalink to &quot;2.2 Create a Valid User in Nexus OSS&quot;">​</a></h2><blockquote><p>参考 <a href="https://help.sonatype.com/repomanager3/security/users" target="_blank" rel="noreferrer">https://help.sonatype.com/repomanager3/security/users</a></p></blockquote><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821327.png" alt="Nexus OSS"></p><ul><li>nexus2 用户创建</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821937.jpg" alt="oss2用户创建"></p><h1 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-label="Permalink to &quot;案例&quot;">​</a></h1><h2 id="nexus3" tabindex="-1">nexus3 <a class="header-anchor" href="#nexus3" aria-label="Permalink to &quot;nexus3&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821706.jpg" alt="案例"></p><blockquote><p>version 随意定义跟pom没有关系</p></blockquote><blockquote><p>以xxx.war or xxx.jar 为准</p></blockquote><ul><li>上传到oss效果</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821177.png" alt="上传到oss效果"></p><h2 id="nexus2" tabindex="-1">nexus2 <a class="header-anchor" href="#nexus2" aria-label="Permalink to &quot;nexus2&quot;">​</a></h2><ul><li>配置jenkins</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221821824.jpg" alt="配置jenkins"></p><ul><li>配置Jenkins中 nexus2x</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221822899.jpg" alt="配置Jenkins中 nexus2x"></p><ul><li>创建jenkins maven 项目工程</li></ul><blockquote><p>package -DskipTests=true clean package</p></blockquote><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221822294.jpg" alt="创建jenkins maven 项目工程"></p><ul><li>配置项目工程中nexus manager</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221822283.jpg" alt="配置项目工程中nexus manager "></p><ul><li>配置Version变量</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221822129.jpg" alt="配置Version变量 "></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221822138.jpg" alt="效果"></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">channel stopped</span></span>
<span class="line"><span style="color:#e1e4e8;">Uploading Maven asset with groupId: com.tmrm artifactId: tmrm-message version: $Version To repository: prod-Releases</span></span>
<span class="line"><span style="color:#e1e4e8;">Successfully Uploaded Maven Assets</span></span>
<span class="line"><span style="color:#e1e4e8;">Finished: SUCCESS</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">channel stopped</span></span>
<span class="line"><span style="color:#24292e;">Uploading Maven asset with groupId: com.tmrm artifactId: tmrm-message version: $Version To repository: prod-Releases</span></span>
<span class="line"><span style="color:#24292e;">Successfully Uploaded Maven Assets</span></span>
<span class="line"><span style="color:#24292e;">Finished: SUCCESS</span></span></code></pre></div><ul><li>效果图</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202406221822837.png" alt="效果1"></p>`,59),t=[i];function l(r,p,u,c,h,g){return s(),a("div",null,t)}const x=e(o,[["render",l]]);export{m as __pageData,x as default};
