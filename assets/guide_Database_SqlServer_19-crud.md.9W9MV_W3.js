import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const F=JSON.parse('{"title":"1.数据库操作","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Database/SqlServer/19-crud.md","filePath":"guide/Database/SqlServer/19-crud.md","lastUpdated":1729160572000}'),p={name:"guide/Database/SqlServer/19-crud.md"},o=l(`<h1 id="_1-数据库操作" tabindex="-1">1.数据库操作 <a class="header-anchor" href="#_1-数据库操作" aria-label="Permalink to &quot;1.数据库操作&quot;">​</a></h1><p><a href="https://learn.microsoft.com/zh-cn/sql/t-sql/statements/create-database-transact-sql?view=sql-server-ver16&amp;tabs=sqlpool" target="_blank" rel="noreferrer">https://learn.microsoft.com/zh-cn/sql/t-sql/statements/create-database-transact-sql?view=sql-server-ver16&amp;tabs=sqlpool</a></p><h2 id="_1-1-创建" tabindex="-1">1.1 创建 <a class="header-anchor" href="#_1-1-创建" aria-label="Permalink to &quot;1.1 创建&quot;">​</a></h2><h3 id="_1-1-1指定路径创建" tabindex="-1">1.1.1指定路径创建 <a class="header-anchor" href="#_1-1-1指定路径创建" aria-label="Permalink to &quot;1.1.1指定路径创建&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">USE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">master</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">GO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Sales</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">COLLATE</span><span style="color:#E1E4E8;"> Chinese_PRC_CI_AS </span><span style="color:#F97583;">ON</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NAME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Sales_dat,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">FILENAME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\DATA\\saledat.mdf&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">SIZE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    MAXSIZE </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UNLIMITED</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">--默认单位是MB</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">FILEGROWTH</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">LOG</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NAME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Sales_log,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">FILENAME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\DATA\\salelog.ldf&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">SIZE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;"> MB,</span></span>
<span class="line"><span style="color:#E1E4E8;">    MAXSIZE </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">25</span><span style="color:#E1E4E8;"> MB,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">FILEGROWTH</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;"> MB);</span></span>
<span class="line"><span style="color:#F97583;">GO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 检查新数据库是否创建成功</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">sys</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">databases</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;Sales&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">USE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">master</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">GO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Sales</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">COLLATE</span><span style="color:#24292E;"> Chinese_PRC_CI_AS </span><span style="color:#D73A49;">ON</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#D73A49;">NAME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Sales_dat,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">FILENAME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\DATA\\saledat.mdf&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">SIZE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    MAXSIZE </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">UNLIMITED</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">--默认单位是MB</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">FILEGROWTH</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">LOG</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ON</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#D73A49;">NAME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Sales_log,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">FILENAME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\DATA\\salelog.ldf&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">SIZE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;"> MB,</span></span>
<span class="line"><span style="color:#24292E;">    MAXSIZE </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">25</span><span style="color:#24292E;"> MB,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">FILEGROWTH</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;"> MB);</span></span>
<span class="line"><span style="color:#D73A49;">GO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 检查新数据库是否创建成功</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">sys</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">databases</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;Sales&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><h3 id="_1-1-2默认创建" tabindex="-1">1.1.2默认创建 <a class="header-anchor" href="#_1-1-2默认创建" aria-label="Permalink to &quot;1.1.2默认创建&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">#创建数据库并指定字符集</span></span>
<span class="line"><span style="color:#F97583;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">database</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">db_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">COLLATE</span><span style="color:#E1E4E8;"> Chinese_PRC_CI_AS</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">#创建数据库并指定字符集</span></span>
<span class="line"><span style="color:#D73A49;">create</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">database</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">db_name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">COLLATE</span><span style="color:#24292E;"> Chinese_PRC_CI_AS</span></span></code></pre></div><h1 id="_2-表操作" tabindex="-1">2.表操作 <a class="header-anchor" href="#_2-表操作" aria-label="Permalink to &quot;2.表操作&quot;">​</a></h1><h2 id="_1-复制表结构" tabindex="-1">1.复制表结构 <a class="header-anchor" href="#_1-复制表结构" aria-label="Permalink to &quot;1.复制表结构&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">      一、两个数据库部署在同一服务器上：</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">           从数据库A复制到B：</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">           复制表结构和数据：select * into  数据库B.dbo.Department from 数据库A.dbo.Department </span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">           只复制表结构:  select * into  数据库B.dbo.Department from 数据库A.dbo.Department  where 1!=1</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">           只复制部分字段：select a1，a2 into  数据库B.dbo.Department from 数据库A.dbo.Department</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">      一、两个数据库部署在同一服务器上：</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">           从数据库A复制到B：</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">           复制表结构和数据：select * into  数据库B.dbo.Department from 数据库A.dbo.Department </span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">           只复制表结构:  select * into  数据库B.dbo.Department from 数据库A.dbo.Department  where 1!=1</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">           只复制部分字段：select a1，a2 into  数据库B.dbo.Department from 数据库A.dbo.Department</span></span></code></pre></div>`,10),e=[o];function t(c,r,E,y,i,d){return a(),n("div",null,e)}const S=s(p,[["render",t]]);export{F as __pageData,S as default};
