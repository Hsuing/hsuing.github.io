import{_ as s,o as n,c as a,R as l}from"./chunks/framework.zUbWieqp.js";const u=JSON.parse('{"title":"1.安装","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/docker/1-install.md","filePath":"guide/container/docker/1-install.md","lastUpdated":1733826623000}'),p={name:"guide/container/docker/1-install.md"},o=l(`<h1 id="_1-安装" tabindex="-1">1.安装 <a class="header-anchor" href="#_1-安装" aria-label="Permalink to &quot;1.安装&quot;">​</a></h1><p>官方，<a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noreferrer">https://docs.docker.com/engine/install/centos/</a></p><h2 id="_1-1yum方式" tabindex="-1">1.1yum方式 <a class="header-anchor" href="#_1-1yum方式" aria-label="Permalink to &quot;1.1yum方式&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#安装依赖</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">device-mapper-persistent-data</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lvm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bash-completion</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#安装具体版本</span></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-ce-20.10.15</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#或者通过下面脚本进行安装</span></span>
<span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-fsSL</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get.docker.com</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get-docker.sh</span></span>
<span class="line"><span style="color:#B392F0;">sh</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get-docker.sh</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--mirror</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Aliyun</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#安装依赖</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">device-mapper-persistent-data</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lvm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bash-completion</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#安装具体版本</span></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-ce-20.10.15</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#或者通过下面脚本进行安装</span></span>
<span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-fsSL</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get.docker.com</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get-docker.sh</span></span>
<span class="line"><span style="color:#6F42C1;">sh</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get-docker.sh</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--mirror</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Aliyun</span></span></code></pre></div><h2 id="_1-2修改配置文件" tabindex="-1">1.2修改配置文件 <a class="header-anchor" href="#_1-2修改配置文件" aria-label="Permalink to &quot;1.2修改配置文件&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#创建docker目录</span></span>
<span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/docker</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/docker/daemon.json</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;&lt;</span><span style="color:#9ECBFF;">EOF</span></span>
<span class="line"><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;exec-opts&quot;: [</span></span>
<span class="line"><span style="color:#9ECBFF;">  	&quot;native.cgroupdriver=systemd&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">  ],</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;max-concurrent-downloads&quot;: 10,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;max-concurrent-uploads&quot;: 5,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;live-restore&quot;:true,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;log-driver&quot;: &quot;json-file&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;log-opts&quot;: {</span></span>
<span class="line"><span style="color:#9ECBFF;">  	&quot;max-size&quot;: &quot;100m&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">	&quot;max-file&quot;:&quot;5&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">  },</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;storage-driver&quot;: &quot;overlay2&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;storage-opts&quot;: [</span></span>
<span class="line"><span style="color:#9ECBFF;">  	&quot;overlay2.override_kernel_check=true&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">  ],</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;registry-mirrors&quot; : [</span></span>
<span class="line"><span style="color:#9ECBFF;">  ],</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;data-root&quot;: &quot;/data/docker&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">EOF</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#创建docker目录</span></span>
<span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/docker</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/docker/daemon.json</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">EOF</span></span>
<span class="line"><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#032F62;">  &quot;exec-opts&quot;: [</span></span>
<span class="line"><span style="color:#032F62;">  	&quot;native.cgroupdriver=systemd&quot;</span></span>
<span class="line"><span style="color:#032F62;">  ],</span></span>
<span class="line"><span style="color:#032F62;">  &quot;max-concurrent-downloads&quot;: 10,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;max-concurrent-uploads&quot;: 5,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;live-restore&quot;:true,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;log-driver&quot;: &quot;json-file&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;log-opts&quot;: {</span></span>
<span class="line"><span style="color:#032F62;">  	&quot;max-size&quot;: &quot;100m&quot;,</span></span>
<span class="line"><span style="color:#032F62;">	&quot;max-file&quot;:&quot;5&quot;</span></span>
<span class="line"><span style="color:#032F62;">  },</span></span>
<span class="line"><span style="color:#032F62;">  &quot;storage-driver&quot;: &quot;overlay2&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;storage-opts&quot;: [</span></span>
<span class="line"><span style="color:#032F62;">  	&quot;overlay2.override_kernel_check=true&quot;</span></span>
<span class="line"><span style="color:#032F62;">  ],</span></span>
<span class="line"><span style="color:#032F62;">  &quot;registry-mirrors&quot; : [</span></span>
<span class="line"><span style="color:#032F62;">  ],</span></span>
<span class="line"><span style="color:#032F62;">  &quot;data-root&quot;: &quot;/data/docker&quot;</span></span>
<span class="line"><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">EOF</span></span></code></pre></div><h2 id="_1-3添加用户-可选" tabindex="-1">1.3添加用户(可选) <a class="header-anchor" href="#_1-3添加用户-可选" aria-label="Permalink to &quot;1.3添加用户(可选)&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">useradd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dev</span></span>
<span class="line"><span style="color:#B392F0;">usermod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-aG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dev</span></span>
<span class="line"><span style="color:#B392F0;">newgrp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">useradd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dev</span></span>
<span class="line"><span style="color:#6F42C1;">usermod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-aG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dev</span></span>
<span class="line"><span style="color:#6F42C1;">newgrp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker</span></span></code></pre></div><h2 id="_1-4启动" tabindex="-1">1.4启动 <a class="header-anchor" href="#_1-4启动" aria-label="Permalink to &quot;1.4启动&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">daemon-reload</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enable</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--now</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">daemon-reload</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enable</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--now</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker</span></span></code></pre></div><h2 id="_1-5-国内加速" tabindex="-1">1.5 国内加速 <a class="header-anchor" href="#_1-5-国内加速" aria-label="Permalink to &quot;1.5 国内加速&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;registry-mirrors&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#9ECBFF;">&quot;https://docker.anyhub.us.kg&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#9ECBFF;">&quot;https://dockerhub.icu&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#9ECBFF;">&quot;https://docker.awsl9527.cn&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#9ECBFF;">&quot;https://gcr.chenby.cn&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#9ECBFF;">&quot;https://k8s.chenby.cn&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#9ECBFF;">&quot;https://docker.chenby.cn&quot;</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">  ]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;registry-mirrors&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#032F62;">&quot;https://docker.anyhub.us.kg&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#032F62;">&quot;https://dockerhub.icu&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#032F62;">&quot;https://docker.awsl9527.cn&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#032F62;">&quot;https://gcr.chenby.cn&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#032F62;">&quot;https://k8s.chenby.cn&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#032F62;">&quot;https://docker.chenby.cn&quot;</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">  ]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h1 id="_2-aws" tabindex="-1">2. aws <a class="header-anchor" href="#_2-aws" aria-label="Permalink to &quot;2. aws&quot;">​</a></h1><p><a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-docker.html" target="_blank" rel="noreferrer">https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-docker.html</a></p><ul><li>To install Docker on Amazon Linux 2 or Amazon Linux 2023</li></ul><ol><li><p>Update the installed packages and package cache on your instance.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo yum update -y</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo yum update -y</span></span></code></pre></div></li><li><p>Install the most recent Docker Community Edition package.</p><ul><li><p>For Amazon Linux 2, run the following:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo amazon-linux-extras install docker</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo amazon-linux-extras install docker</span></span></code></pre></div></li><li><p>For Amazon Linux 2023, run the following:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo yum install -y docker</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo yum install -y docker</span></span></code></pre></div></li></ul></li><li><p>Start the Docker service.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo service docker start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo service docker start</span></span></code></pre></div></li><li><p>Add the <code>ec2-user</code> to the <code>docker</code> group so that you can run Docker commands without using <strong>sudo</strong>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">$ sudo usermod -aG docker ec2-user</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">$ sudo usermod -aG docker ec2-user</span></span></code></pre></div></li></ol><h2 id="_2-1-docker-25以上" tabindex="-1">2.1 docker-25以上 <a class="header-anchor" href="#_2-1-docker-25以上" aria-label="Permalink to &quot;2.1 docker-25以上&quot;">​</a></h2><h3 id="_1-配置yum源" tabindex="-1">1.配置yum源 <a class="header-anchor" href="#_1-配置yum源" aria-label="Permalink to &quot;1.配置yum源&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;"></span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;"></span></span></code></pre></div><h3 id="_2-安装" tabindex="-1">2.安装 <a class="header-anchor" href="#_2-安装" aria-label="Permalink to &quot;2.安装&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-ce-27.3.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-ce-cli-27.3.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">containerd.io</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-buildx-plugin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-compose-plugin</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-ce-27.3.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-ce-cli-27.3.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">containerd.io</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-buildx-plugin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-compose-plugin</span></span></code></pre></div><h1 id="_3-rocklinux" tabindex="-1">3. RockLinux <a class="header-anchor" href="#_3-rocklinux" aria-label="Permalink to &quot;3. RockLinux&quot;">​</a></h1><h2 id="_3-1-卸载" tabindex="-1">3.1 卸载 <a class="header-anchor" href="#_3-1-卸载" aria-label="Permalink to &quot;3.1 卸载&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;"> dnf remove podman # 或者 sudo yum remove podman</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;"> dnf remove podman # 或者 sudo yum remove podman</span></span></code></pre></div><h2 id="_3-2-删除残留文件" tabindex="-1">3.2 删除残留文件 <a class="header-anchor" href="#_3-2-删除残留文件" aria-label="Permalink to &quot;3.2 删除残留文件&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">rm -rf /etc/containers /etc/registries.conf /etc/containers/policy.json /etc/containers/storage.conf ~/.config/containers ~/.local/share/containers</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">rm -rf /etc/containers /etc/registries.conf /etc/containers/policy.json /etc/containers/storage.conf ~/.config/containers ~/.local/share/containers</span></span></code></pre></div><h2 id="_3-3-卸载旧版docker" tabindex="-1">3.3 卸载旧版docker <a class="header-anchor" href="#_3-3-卸载旧版docker" aria-label="Permalink to &quot;3.3 卸载旧版docker&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">dnf remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">dnf remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine</span></span></code></pre></div><h2 id="_3-4-添加源" tabindex="-1">3.4 添加源 <a class="header-anchor" href="#_3-4-添加源" aria-label="Permalink to &quot;3.4 添加源&quot;">​</a></h2><p>vim /etc/yum.repos.d/docker.repo</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[docker-ce-stable]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/stable</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-stable-debuginfo]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Debuginfo</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/debug-</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/stable</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-stable-source]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sources</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/source/stable</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-test]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Test</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/test</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-test-debuginfo]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Test</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Debuginfo</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/debug-</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/test</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-test-source]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Test</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sources</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/source/test</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-nightly]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nightly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/nightly</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-nightly-debuginfo]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nightly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Debuginfo</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/debug-</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/nightly</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-nightly-source]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nightly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sources</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/source/nightly</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[docker-ce-stable]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/stable</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-stable-debuginfo]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Debuginfo</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/debug-</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/stable</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-stable-source]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sources</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/source/stable</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-test]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Test</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/test</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-test-debuginfo]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Test</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Debuginfo</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/debug-</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/test</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-test-source]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Test</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sources</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/source/test</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-nightly]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nightly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/nightly</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-nightly-debuginfo]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nightly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Debuginfo</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/debug-</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/nightly</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">[docker-ce-nightly-source]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nightly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sources</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/source/nightly</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirror.nju.edu.cn/docker-ce/linux/rhel/gpg</span></span></code></pre></div><ul><li>清理</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clean</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">all</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">makecache</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clean</span><span style="color:#24292E;"> </span><span style="color:#032F62;">all</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">makecache</span></span></code></pre></div><h2 id="_3-5-安装" tabindex="-1">3.5 安装 <a class="header-anchor" href="#_3-5-安装" aria-label="Permalink to &quot;3.5 安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">dnf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-ce</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-ce-cli</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">containerd.io</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">dnf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-ce</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-ce-cli</span><span style="color:#24292E;"> </span><span style="color:#032F62;">containerd.io</span></span></code></pre></div><h1 id="_4-aliyun" tabindex="-1">4. aliyun <a class="header-anchor" href="#_4-aliyun" aria-label="Permalink to &quot;4. aliyun&quot;">​</a></h1><h2 id="_4-1-创建repo" tabindex="-1">4.1 创建repo <a class="header-anchor" href="#_4-1-创建repo" aria-label="Permalink to &quot;4.1 创建repo&quot;">​</a></h2><p>vi /etc/yum.repos.d/docker.repo</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[docker-ce-stable]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/stable</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-stable-debuginfo]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Debuginfo</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/debug-</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/stable</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-stable-source]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Stable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sources</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/source/stable</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-test]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Test</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/test</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-test-debuginfo]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Test</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Debuginfo</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/debug-</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/test</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-test-source]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Test</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sources</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/source/test</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-nightly]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nightly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/nightly</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-nightly-debuginfo]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nightly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Debuginfo</span><span style="color:#E1E4E8;"> $basearch</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/debug-</span><span style="color:#E1E4E8;">$basearch</span><span style="color:#9ECBFF;">/nightly</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[docker-ce-nightly-source]</span></span>
<span class="line"><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">Docker</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nightly</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sources</span></span>
<span class="line"><span style="color:#E1E4E8;">baseurl</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#E1E4E8;">$releasever</span><span style="color:#9ECBFF;">/source/nightly</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgcheck</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">gpgkey</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[docker-ce-stable]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/stable</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-stable-debuginfo]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Debuginfo</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/debug-</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/stable</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-stable-source]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Stable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sources</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/source/stable</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-test]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Test</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/test</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-test-debuginfo]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Test</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Debuginfo</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/debug-</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/test</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-test-source]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Test</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sources</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/source/test</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-nightly]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nightly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/nightly</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-nightly-debuginfo]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nightly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Debuginfo</span><span style="color:#24292E;"> $basearch</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/debug-</span><span style="color:#24292E;">$basearch</span><span style="color:#032F62;">/nightly</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[docker-ce-nightly-source]</span></span>
<span class="line"><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">Docker</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nightly</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sources</span></span>
<span class="line"><span style="color:#24292E;">baseurl</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/</span><span style="color:#24292E;">$releasever</span><span style="color:#032F62;">/source/nightly</span></span>
<span class="line"><span style="color:#24292E;">enabled</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">gpgcheck</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">gpgkey</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span></span></code></pre></div><ul><li>安装</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-ce</span><span style="color:#79B8FF;">*</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-ce</span><span style="color:#005CC5;">*</span></span></code></pre></div><ul><li>启动</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">systemctl enable --now docker</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">systemctl enable --now docker</span></span></code></pre></div><ul><li>问题，查看依赖</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">systemctl list-dependencies docker.service</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">systemctl list-dependencies docker.service</span></span></code></pre></div>`,45),e=[o];function c(r,t,y,E,i,F){return n(),a("div",null,e)}const h=s(p,[["render",c]]);export{u as __pageData,h as default};
