import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const m=JSON.parse('{"title":"1.部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/faq/33-远程控制.md","filePath":"guide/faq/33-远程控制.md","lastUpdated":1757343495000}'),p={name:"guide/faq/33-远程控制.md"},o=l(`<h1 id="_1-部署" tabindex="-1">1.部署 <a class="header-anchor" href="#_1-部署" aria-label="Permalink to &quot;1.部署&quot;">​</a></h1><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">services</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">hbbs</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">container_name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">hbbs</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">image</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">registry.cn-shenzhen.aliyuncs.com/starsl/rustdesk-server:latest</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">command</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">hbbs</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">volumes</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#9ECBFF;">./data:/root</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">network_mode</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;host&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">depends_on</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#9ECBFF;">hbbr</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">restart</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">always</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">hbbr</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">container_name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">hbbr</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">image</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">registry.cn-shenzhen.aliyuncs.com/starsl/rustdesk-server:latest</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">command</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">hbbr</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">volumes</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#9ECBFF;">./data:/root</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">network_mode</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;host&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">restart</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">always</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">services</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">hbbs</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">container_name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">hbbs</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">image</span><span style="color:#24292E;">: </span><span style="color:#032F62;">registry.cn-shenzhen.aliyuncs.com/starsl/rustdesk-server:latest</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">command</span><span style="color:#24292E;">: </span><span style="color:#032F62;">hbbs</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">volumes</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      - </span><span style="color:#032F62;">./data:/root</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">network_mode</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;host&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">depends_on</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      - </span><span style="color:#032F62;">hbbr</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">restart</span><span style="color:#24292E;">: </span><span style="color:#032F62;">always</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">hbbr</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">container_name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">hbbr</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">image</span><span style="color:#24292E;">: </span><span style="color:#032F62;">registry.cn-shenzhen.aliyuncs.com/starsl/rustdesk-server:latest</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">command</span><span style="color:#24292E;">: </span><span style="color:#032F62;">hbbr</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">volumes</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      - </span><span style="color:#032F62;">./data:/root</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">network_mode</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;host&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">restart</span><span style="color:#24292E;">: </span><span style="color:#032F62;">always</span></span></code></pre></div><p>服务器防火墙需要将以下内容加入到白名单</p><p>TCP(21115, 21116, 21117, 21118, 21119)</p><p>UDP(21116)</p><p>hbbs 监听21115(tcp), 21116(tcp/udp), 21118(tcp)，hbbr 监听21117(tcp), 21119(tcp)。务必在防火墙开启这几个端口， 请注意21116同时要开启TCP和UDP。其中21115是hbbs用作NAT类型测试，21116/UDP是hbbs用作ID注册与心跳服务，21116/TCP是hbbs用作TCP打洞与连接服务，21117是hbbr用作中继服务, 21118和21119是为了支持网页客户端。如果您不需要网页客户端（21118，21119）支持，对应端口可以不开。</p><h2 id="_1-1-控制端配置" tabindex="-1">1.1 控制端配置 <a class="header-anchor" href="#_1-1-控制端配置" aria-label="Permalink to &quot;1.1 控制端配置&quot;">​</a></h2><p><a href="https://rustdesk.com/zh-cn/" target="_blank" rel="noreferrer">官方下载</a></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250906081943082.png" alt="image-20250906081931499"></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250906082019876.png" alt="image-20250906082017832"></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250906082101505.png" alt="image-20250906082059329"></p><p>key也的写</p><p>保存即可</p><h2 id="_1-2-被空端配置" tabindex="-1">1.2 被空端配置 <a class="header-anchor" href="#_1-2-被空端配置" aria-label="Permalink to &quot;1.2 被空端配置&quot;">​</a></h2><p>也需要配置相同的id，中继，key</p>`,15),e=[o];function t(c,r,E,y,i,h){return a(),n("div",null,e)}const b=s(p,[["render",t]]);export{m as __pageData,b as default};
