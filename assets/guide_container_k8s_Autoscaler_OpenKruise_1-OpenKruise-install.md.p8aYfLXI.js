import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const h=JSON.parse('{"title":"1. 部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/Autoscaler/OpenKruise/1-OpenKruise-install.md","filePath":"guide/container/k8s/Autoscaler/OpenKruise/1-OpenKruise-install.md","lastUpdated":1723447113000}'),p={name:"guide/container/k8s/Autoscaler/OpenKruise/1-OpenKruise-install.md"},o=l(`<h1 id="_1-部署" tabindex="-1">1. 部署 <a class="header-anchor" href="#_1-部署" aria-label="Permalink to &quot;1. 部署&quot;">​</a></h1><ul><li>从 v1.0.0 (alpha/beta) 开始，OpenKruise 要求在 <strong>Kubernetes &gt;= 1.16</strong> 以上版本的集群中安装和使用。</li><li>从 v1.6.0 (alpha/beta) 开始，OpenKruise 要求在 <strong>Kubernetes &gt;= 1.18</strong> 以上版本的集群中安装和使用。如果你关闭了 Kruise-Daemon 组件（featureGates=&quot;KruiseDaemon=false&quot;），你依然可以在 K8S 1.16 和 1.17 的集群上安装和使用。</li><li>从 v1.6.0 (alpha/beta) 开始，Kruise-Daemon 将<strong>不再支持 v1alpha2 CRI 的运行时</strong>。如果你关闭了 Kruise-Daemon 组件（featureGates=&quot;KruiseDaemon=false&quot;），你依然可以在只支持 v1alpha2 CRI 的运行时节点所在集群上安装和使用 OpenKruise。</li></ul><h2 id="_1-1-在线安装" tabindex="-1">1.1 在线安装 <a class="header-anchor" href="#_1-1-在线安装" aria-label="Permalink to &quot;1.1 在线安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#建议采用 helm v3.5+ 来安装 Kruise</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# helm repo add openkruise https://openkruise.github.io/charts</span></span>
<span class="line"><span style="color:#B392F0;">&quot;openkruise&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">has</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">been</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">added</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repositories</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# helm repo list</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">      	</span><span style="color:#9ECBFF;">URL</span></span>
<span class="line"><span style="color:#B392F0;">bitnami</span><span style="color:#E1E4E8;">   	</span><span style="color:#9ECBFF;">https://charts.bitnami.com/bitnami</span></span>
<span class="line"><span style="color:#B392F0;">openkruise</span><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">https://openkruise.github.io/charts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#更新</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# helm repo update</span></span>
<span class="line"><span style="color:#B392F0;">Hang</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tight</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">while</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">we</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grab</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">latest</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repositories...</span></span>
<span class="line"><span style="color:#79B8FF;">..</span><span style="color:#E1E4E8;">.Successfully </span><span style="color:#9ECBFF;">got</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">an</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;openkruise&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repository</span></span>
<span class="line"><span style="color:#79B8FF;">..</span><span style="color:#E1E4E8;">.Successfully </span><span style="color:#9ECBFF;">got</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">an</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;bitnami&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repository</span></span>
<span class="line"><span style="color:#B392F0;">Update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Complete.</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">⎈Happy</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Helming!⎈</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 截至目前2024/08/07日，Openkruise的最新版本为1.7，稳定版本为1.6，我们这里选择稳定版本</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">upgrade</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kruise</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">openkruise/kruise</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--version</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.6</span><span style="color:#9ECBFF;">.3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#建议采用 helm v3.5+ 来安装 Kruise</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# helm repo add openkruise https://openkruise.github.io/charts</span></span>
<span class="line"><span style="color:#6F42C1;">&quot;openkruise&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">has</span><span style="color:#24292E;"> </span><span style="color:#032F62;">been</span><span style="color:#24292E;"> </span><span style="color:#032F62;">added</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repositories</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# helm repo list</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">      	</span><span style="color:#032F62;">URL</span></span>
<span class="line"><span style="color:#6F42C1;">bitnami</span><span style="color:#24292E;">   	</span><span style="color:#032F62;">https://charts.bitnami.com/bitnami</span></span>
<span class="line"><span style="color:#6F42C1;">openkruise</span><span style="color:#24292E;">	</span><span style="color:#032F62;">https://openkruise.github.io/charts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#更新</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# helm repo update</span></span>
<span class="line"><span style="color:#6F42C1;">Hang</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tight</span><span style="color:#24292E;"> </span><span style="color:#032F62;">while</span><span style="color:#24292E;"> </span><span style="color:#032F62;">we</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grab</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">latest</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">chart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repositories...</span></span>
<span class="line"><span style="color:#005CC5;">..</span><span style="color:#24292E;">.Successfully </span><span style="color:#032F62;">got</span><span style="color:#24292E;"> </span><span style="color:#032F62;">an</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;openkruise&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">chart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repository</span></span>
<span class="line"><span style="color:#005CC5;">..</span><span style="color:#24292E;">.Successfully </span><span style="color:#032F62;">got</span><span style="color:#24292E;"> </span><span style="color:#032F62;">an</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;bitnami&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">chart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repository</span></span>
<span class="line"><span style="color:#6F42C1;">Update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Complete.</span><span style="color:#24292E;"> </span><span style="color:#032F62;">⎈Happy</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Helming!⎈</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 截至目前2024/08/07日，Openkruise的最新版本为1.7，稳定版本为1.6，我们这里选择稳定版本</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">upgrade</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kruise</span><span style="color:#24292E;"> </span><span style="color:#032F62;">openkruise/kruise</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--version</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.6</span><span style="color:#032F62;">.3</span></span></code></pre></div><h2 id="_1-2-离线安装" tabindex="-1">1.2 离线安装 <a class="header-anchor" href="#_1-2-离线安装" aria-label="Permalink to &quot;1.2 离线安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#下载安装包</span></span>
<span class="line"><span style="color:#B392F0;">https://github.com/openkruise/charts/releases/download/kruise-1.6.3/kruise-1.6.3.tgz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#解压</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install/upgrade</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kruise</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/PATH/TO/CHART</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#下载安装包</span></span>
<span class="line"><span style="color:#6F42C1;">https://github.com/openkruise/charts/releases/download/kruise-1.6.3/kruise-1.6.3.tgz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#解压</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install/upgrade</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kruise</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/PATH/TO/CHART</span></span></code></pre></div>`,6),e=[o];function t(r,c,E,y,i,F){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{h as __pageData,d as default};
