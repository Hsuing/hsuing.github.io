import{_ as s,o as n,c as a,R as l}from"./chunks/framework.zUbWieqp.js";const B=JSON.parse('{"title":"1.查看哪些是属于namespace空间下","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/cmd/namespace.md","filePath":"guide/container/k8s/cmd/namespace.md","lastUpdated":1713263180000}'),p={name:"guide/container/k8s/cmd/namespace.md"},o=l(`<h1 id="_1-查看哪些是属于namespace空间下" tabindex="-1">1.查看哪些是属于namespace空间下 <a class="header-anchor" href="#_1-查看哪些是属于namespace空间下" aria-label="Permalink to &quot;1.查看哪些是属于namespace空间下&quot;">​</a></h1><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#等于true则是在namespace下</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl api-resources</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                              </span><span style="color:#9ECBFF;">SHORTNAMES</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">APIVERSION</span><span style="color:#E1E4E8;">                             </span><span style="color:#9ECBFF;">NAMESPACED</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">KIND</span></span>
<span class="line"><span style="color:#B392F0;">bindings</span><span style="color:#E1E4E8;">                                       </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Binding</span></span>
<span class="line"><span style="color:#B392F0;">componentstatuses</span><span style="color:#E1E4E8;">                 </span><span style="color:#9ECBFF;">cs</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">ComponentStatus</span></span>
<span class="line"><span style="color:#B392F0;">configmaps</span><span style="color:#E1E4E8;">                        </span><span style="color:#9ECBFF;">cm</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">ConfigMap</span></span>
<span class="line"><span style="color:#B392F0;">endpoints</span><span style="color:#E1E4E8;">                         </span><span style="color:#9ECBFF;">ep</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Endpoints</span></span>
<span class="line"><span style="color:#B392F0;">events</span><span style="color:#E1E4E8;">                            </span><span style="color:#9ECBFF;">ev</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Event</span></span>
<span class="line"><span style="color:#B392F0;">limitranges</span><span style="color:#E1E4E8;">                       </span><span style="color:#9ECBFF;">limits</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">LimitRange</span></span>
<span class="line"><span style="color:#B392F0;">namespaces</span><span style="color:#E1E4E8;">                        </span><span style="color:#9ECBFF;">ns</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">Namespace</span></span>
<span class="line"><span style="color:#B392F0;">nodes</span><span style="color:#E1E4E8;">                             </span><span style="color:#9ECBFF;">no</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">Node</span></span>
<span class="line"><span style="color:#B392F0;">persistentvolumeclaims</span><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">pvc</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#B392F0;">persistentvolumes</span><span style="color:#E1E4E8;">                 </span><span style="color:#9ECBFF;">pv</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">PersistentVolume</span></span>
<span class="line"><span style="color:#B392F0;">pods</span><span style="color:#E1E4E8;">                              </span><span style="color:#9ECBFF;">po</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Pod</span></span>
<span class="line"><span style="color:#B392F0;">podtemplates</span><span style="color:#E1E4E8;">                                   </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">PodTemplate</span></span>
<span class="line"><span style="color:#B392F0;">replicationcontrollers</span><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">rc</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">ReplicationController</span></span>
<span class="line"><span style="color:#B392F0;">resourcequotas</span><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">quota</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">ResourceQuota</span></span>
<span class="line"><span style="color:#B392F0;">secrets</span><span style="color:#E1E4E8;">                                        </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Secret</span></span>
<span class="line"><span style="color:#B392F0;">serviceaccounts</span><span style="color:#E1E4E8;">                   </span><span style="color:#9ECBFF;">sa</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">ServiceAccount</span></span>
<span class="line"><span style="color:#B392F0;">services</span><span style="color:#E1E4E8;">                          </span><span style="color:#9ECBFF;">svc</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;">                                     </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Service</span></span>
<span class="line"><span style="color:#B392F0;">。。。。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#等于true则是在namespace下</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl api-resources</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                              </span><span style="color:#032F62;">SHORTNAMES</span><span style="color:#24292E;">   </span><span style="color:#032F62;">APIVERSION</span><span style="color:#24292E;">                             </span><span style="color:#032F62;">NAMESPACED</span><span style="color:#24292E;">   </span><span style="color:#032F62;">KIND</span></span>
<span class="line"><span style="color:#6F42C1;">bindings</span><span style="color:#24292E;">                                       </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Binding</span></span>
<span class="line"><span style="color:#6F42C1;">componentstatuses</span><span style="color:#24292E;">                 </span><span style="color:#032F62;">cs</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">        </span><span style="color:#032F62;">ComponentStatus</span></span>
<span class="line"><span style="color:#6F42C1;">configmaps</span><span style="color:#24292E;">                        </span><span style="color:#032F62;">cm</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">ConfigMap</span></span>
<span class="line"><span style="color:#6F42C1;">endpoints</span><span style="color:#24292E;">                         </span><span style="color:#032F62;">ep</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Endpoints</span></span>
<span class="line"><span style="color:#6F42C1;">events</span><span style="color:#24292E;">                            </span><span style="color:#032F62;">ev</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Event</span></span>
<span class="line"><span style="color:#6F42C1;">limitranges</span><span style="color:#24292E;">                       </span><span style="color:#032F62;">limits</span><span style="color:#24292E;">       </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">LimitRange</span></span>
<span class="line"><span style="color:#6F42C1;">namespaces</span><span style="color:#24292E;">                        </span><span style="color:#032F62;">ns</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">        </span><span style="color:#032F62;">Namespace</span></span>
<span class="line"><span style="color:#6F42C1;">nodes</span><span style="color:#24292E;">                             </span><span style="color:#032F62;">no</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">        </span><span style="color:#032F62;">Node</span></span>
<span class="line"><span style="color:#6F42C1;">persistentvolumeclaims</span><span style="color:#24292E;">            </span><span style="color:#032F62;">pvc</span><span style="color:#24292E;">          </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#6F42C1;">persistentvolumes</span><span style="color:#24292E;">                 </span><span style="color:#032F62;">pv</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">        </span><span style="color:#032F62;">PersistentVolume</span></span>
<span class="line"><span style="color:#6F42C1;">pods</span><span style="color:#24292E;">                              </span><span style="color:#032F62;">po</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Pod</span></span>
<span class="line"><span style="color:#6F42C1;">podtemplates</span><span style="color:#24292E;">                                   </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">PodTemplate</span></span>
<span class="line"><span style="color:#6F42C1;">replicationcontrollers</span><span style="color:#24292E;">            </span><span style="color:#032F62;">rc</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">ReplicationController</span></span>
<span class="line"><span style="color:#6F42C1;">resourcequotas</span><span style="color:#24292E;">                    </span><span style="color:#032F62;">quota</span><span style="color:#24292E;">        </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">ResourceQuota</span></span>
<span class="line"><span style="color:#6F42C1;">secrets</span><span style="color:#24292E;">                                        </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Secret</span></span>
<span class="line"><span style="color:#6F42C1;">serviceaccounts</span><span style="color:#24292E;">                   </span><span style="color:#032F62;">sa</span><span style="color:#24292E;">           </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">ServiceAccount</span></span>
<span class="line"><span style="color:#6F42C1;">services</span><span style="color:#24292E;">                          </span><span style="color:#032F62;">svc</span><span style="color:#24292E;">          </span><span style="color:#032F62;">v1</span><span style="color:#24292E;">                                     </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Service</span></span>
<span class="line"><span style="color:#6F42C1;">。。。。</span></span></code></pre></div><h2 id="_1-1查看" tabindex="-1">1.1查看 <a class="header-anchor" href="#_1-1查看" aria-label="Permalink to &quot;1.1查看&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get  namespaces</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">ns</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">default</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"><span style="color:#B392F0;">kube-node-lease</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"><span style="color:#B392F0;">kube-public</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"><span style="color:#B392F0;">kube-system</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get  namespaces</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">ns</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">              </span><span style="color:#032F62;">STATUS</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">default</span><span style="color:#24292E;">           </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"><span style="color:#6F42C1;">kube-node-lease</span><span style="color:#24292E;">   </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"><span style="color:#6F42C1;">kube-public</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"><span style="color:#6F42C1;">kube-system</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span></code></pre></div><h2 id="_1-2创建" tabindex="-1">1.2创建 <a class="header-anchor" href="#_1-2创建" aria-label="Permalink to &quot;1.2创建&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl create namespace </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">ns_name</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">namespace/dev</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get ns  -A</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">default</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"><span style="color:#B392F0;">dev</span><span style="color:#E1E4E8;">               </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">41</span><span style="color:#9ECBFF;">s</span></span>
<span class="line"><span style="color:#B392F0;">kube-node-lease</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"><span style="color:#B392F0;">kube-public</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"><span style="color:#B392F0;">kube-system</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">Active</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d5h</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#在dev命名空间下创建pod</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl create deployment nginx --image=nginx --replicas=2 -n dev</span></span>
<span class="line"><span style="color:#B392F0;">deployment.apps/nginx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get pod -n dev</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                     </span><span style="color:#9ECBFF;">READY</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">RESTARTS</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-k22v5</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">s</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-s5s2t</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看所有</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get all -n dev</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                         </span><span style="color:#9ECBFF;">READY</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">RESTARTS</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">pod/nginx-6799fc88d8-k22v5</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">86</span><span style="color:#9ECBFF;">s</span></span>
<span class="line"><span style="color:#B392F0;">pod/nginx-6799fc88d8-s5s2t</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">86</span><span style="color:#9ECBFF;">s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                    </span><span style="color:#9ECBFF;">READY</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">UP-TO-DATE</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AVAILABLE</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">deployment.apps/nginx</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">/2</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">           </span><span style="color:#79B8FF;">86</span><span style="color:#9ECBFF;">s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                               </span><span style="color:#9ECBFF;">DESIRED</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">CURRENT</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">READY</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">replicaset.apps/nginx-6799fc88d8</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">         </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">         </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">86</span><span style="color:#9ECBFF;">s</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl create namespace </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">ns_name</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">namespace/dev</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get ns  -A</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">              </span><span style="color:#032F62;">STATUS</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">default</span><span style="color:#24292E;">           </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"><span style="color:#6F42C1;">dev</span><span style="color:#24292E;">               </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">41</span><span style="color:#032F62;">s</span></span>
<span class="line"><span style="color:#6F42C1;">kube-node-lease</span><span style="color:#24292E;">   </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"><span style="color:#6F42C1;">kube-public</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"><span style="color:#6F42C1;">kube-system</span><span style="color:#24292E;">       </span><span style="color:#032F62;">Active</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d5h</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#在dev命名空间下创建pod</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl create deployment nginx --image=nginx --replicas=2 -n dev</span></span>
<span class="line"><span style="color:#6F42C1;">deployment.apps/nginx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get pod -n dev</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                     </span><span style="color:#032F62;">READY</span><span style="color:#24292E;">   </span><span style="color:#032F62;">STATUS</span><span style="color:#24292E;">    </span><span style="color:#032F62;">RESTARTS</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-k22v5</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">9</span><span style="color:#032F62;">s</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-s5s2t</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">9</span><span style="color:#032F62;">s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看所有</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get all -n dev</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                         </span><span style="color:#032F62;">READY</span><span style="color:#24292E;">   </span><span style="color:#032F62;">STATUS</span><span style="color:#24292E;">    </span><span style="color:#032F62;">RESTARTS</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">pod/nginx-6799fc88d8-k22v5</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">86</span><span style="color:#032F62;">s</span></span>
<span class="line"><span style="color:#6F42C1;">pod/nginx-6799fc88d8-s5s2t</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">86</span><span style="color:#032F62;">s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                    </span><span style="color:#032F62;">READY</span><span style="color:#24292E;">   </span><span style="color:#032F62;">UP-TO-DATE</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AVAILABLE</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">deployment.apps/nginx</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">/2</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">            </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">           </span><span style="color:#005CC5;">86</span><span style="color:#032F62;">s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                               </span><span style="color:#032F62;">DESIRED</span><span style="color:#24292E;">   </span><span style="color:#032F62;">CURRENT</span><span style="color:#24292E;">   </span><span style="color:#032F62;">READY</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">replicaset.apps/nginx-6799fc88d8</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">         </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">         </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">86</span><span style="color:#032F62;">s</span></span></code></pre></div><h2 id="_1-3-测试命名空间隔离性" tabindex="-1">1.3 测试命名空间隔离性 <a class="header-anchor" href="#_1-3-测试命名空间隔离性" aria-label="Permalink to &quot;1.3 测试命名空间隔离性&quot;">​</a></h2><h3 id="测试不同名称空间的podip网络的隔离" tabindex="-1">测试不同名称空间的PodIP⽹络的隔离 <a class="header-anchor" href="#测试不同名称空间的podip网络的隔离" aria-label="Permalink to &quot;测试不同名称空间的PodIP⽹络的隔离&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看默认命名空间中的pod</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get pod</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                     </span><span style="color:#9ECBFF;">READY</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">RESTARTS</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">AGE</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-49dd6</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> (55m </span><span style="color:#9ECBFF;">ago</span><span style="color:#E1E4E8;">)   31h</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-fqrlx</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> (55m </span><span style="color:#9ECBFF;">ago</span><span style="color:#E1E4E8;">)   31h</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-twksc</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> (55m </span><span style="color:#9ECBFF;">ago</span><span style="color:#E1E4E8;">)   11h</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看dev下命名空间</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get pod  -owide -n dev</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                     </span><span style="color:#9ECBFF;">READY</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">RESTARTS</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">AGE</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">IP</span><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">NODE</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">NOMINATED</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NODE</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">READINESS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GATES</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-k22v5</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">5</span><span style="color:#9ECBFF;">m52s</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">172.23</span><span style="color:#9ECBFF;">.127.76</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">kube-node02</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">           </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">nginx-6799fc88d8-s5s2t</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">/1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Running</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">5</span><span style="color:#9ECBFF;">m52s</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">172.30</span><span style="color:#9ECBFF;">.0.133</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">kube-node01</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">           </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#进入nginx-6799fc88d8-twksc这个pod 访问172.30.0.133</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl exec -it nginx-6799fc88d8-twksc -- /bin/bash</span></span>
<span class="line"><span style="color:#B392F0;">root@nginx-6799fc88d8-twksc:/#</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">root@nginx-6799fc88d8-twksc:/#</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-I</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">172.30</span><span style="color:#9ECBFF;">.0.133</span></span>
<span class="line"><span style="color:#B392F0;">HTTP/1.1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OK</span></span>
<span class="line"><span style="color:#B392F0;">Server:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nginx/1.25.4</span></span>
<span class="line"><span style="color:#B392F0;">Date:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Fri,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Apr</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2024</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:33:29</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GMT</span></span>
<span class="line"><span style="color:#B392F0;">Content-Type:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">text/html</span></span>
<span class="line"><span style="color:#B392F0;">Content-Length:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">615</span></span>
<span class="line"><span style="color:#B392F0;">Last-Modified:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Wed,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Feb</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2024</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">16</span><span style="color:#9ECBFF;">:03:00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GMT</span></span>
<span class="line"><span style="color:#B392F0;">Connection:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keep-alive</span></span>
<span class="line"><span style="color:#B392F0;">ETag:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;65cce434-267&quot;</span></span>
<span class="line"><span style="color:#B392F0;">Accept-Ranges:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bytes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看默认命名空间中的pod</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get pod</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                     </span><span style="color:#032F62;">READY</span><span style="color:#24292E;">   </span><span style="color:#032F62;">STATUS</span><span style="color:#24292E;">      </span><span style="color:#032F62;">RESTARTS</span><span style="color:#24292E;">      </span><span style="color:#032F62;">AGE</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-49dd6</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> (55m </span><span style="color:#032F62;">ago</span><span style="color:#24292E;">)   31h</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-fqrlx</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> (55m </span><span style="color:#032F62;">ago</span><span style="color:#24292E;">)   31h</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-twksc</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> (55m </span><span style="color:#032F62;">ago</span><span style="color:#24292E;">)   11h</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#查看dev下命名空间</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get pod  -owide -n dev</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                     </span><span style="color:#032F62;">READY</span><span style="color:#24292E;">   </span><span style="color:#032F62;">STATUS</span><span style="color:#24292E;">    </span><span style="color:#032F62;">RESTARTS</span><span style="color:#24292E;">   </span><span style="color:#032F62;">AGE</span><span style="color:#24292E;">     </span><span style="color:#032F62;">IP</span><span style="color:#24292E;">              </span><span style="color:#032F62;">NODE</span><span style="color:#24292E;">          </span><span style="color:#032F62;">NOMINATED</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NODE</span><span style="color:#24292E;">   </span><span style="color:#032F62;">READINESS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GATES</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-k22v5</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">5</span><span style="color:#032F62;">m52s</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">172.23</span><span style="color:#032F62;">.127.76</span><span style="color:#24292E;">   </span><span style="color:#032F62;">kube-node02</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">           </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">nginx-6799fc88d8-s5s2t</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">/1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Running</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">5</span><span style="color:#032F62;">m52s</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">172.30</span><span style="color:#032F62;">.0.133</span><span style="color:#24292E;">    </span><span style="color:#032F62;">kube-node01</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">           </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#进入nginx-6799fc88d8-twksc这个pod 访问172.30.0.133</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl exec -it nginx-6799fc88d8-twksc -- /bin/bash</span></span>
<span class="line"><span style="color:#6F42C1;">root@nginx-6799fc88d8-twksc:/#</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">root@nginx-6799fc88d8-twksc:/#</span><span style="color:#24292E;"> </span><span style="color:#032F62;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-I</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">172.30</span><span style="color:#032F62;">.0.133</span></span>
<span class="line"><span style="color:#6F42C1;">HTTP/1.1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OK</span></span>
<span class="line"><span style="color:#6F42C1;">Server:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nginx/1.25.4</span></span>
<span class="line"><span style="color:#6F42C1;">Date:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Fri,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Apr</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2024</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:33:29</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GMT</span></span>
<span class="line"><span style="color:#6F42C1;">Content-Type:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">text/html</span></span>
<span class="line"><span style="color:#6F42C1;">Content-Length:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">615</span></span>
<span class="line"><span style="color:#6F42C1;">Last-Modified:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Wed,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Feb</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2024</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">16</span><span style="color:#032F62;">:03:00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GMT</span></span>
<span class="line"><span style="color:#6F42C1;">Connection:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keep-alive</span></span>
<span class="line"><span style="color:#6F42C1;">ETag:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;65cce434-267&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">Accept-Ranges:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bytes</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">💡 说明</p><p>说明不同名称空间的PodIP⽹络是互通的</p></div><h3 id="测试不同名称空间的serviceip隔离" tabindex="-1">测试不同名称空间的ServiceIP隔离 <a class="header-anchor" href="#测试不同名称空间的serviceip隔离" aria-label="Permalink to &quot;测试不同名称空间的ServiceIP隔离&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看service</span></span>
<span class="line"><span style="color:#E1E4E8;">[root@kube-master </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# kubectl get svc -owide</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">TYPE</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">CLUSTER-IP</span><span style="color:#E1E4E8;">       </span><span style="color:#9ECBFF;">EXTERNAL-IP</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">PORT</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">S</span><span style="color:#E1E4E8;">)          </span><span style="color:#9ECBFF;">AGE</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">SELECTOR</span></span>
<span class="line"><span style="color:#B392F0;">kubernetes</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">ClusterIP</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">192.168</span><span style="color:#9ECBFF;">.0.1</span><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">443</span><span style="color:#9ECBFF;">/TCP</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">d6h</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">nginx</span><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">NodePort</span><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">192.168</span><span style="color:#9ECBFF;">.253.94</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">non</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">8080</span><span style="color:#9ECBFF;">:32498/TCP</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">31</span><span style="color:#9ECBFF;">h</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">app=nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#在访问</span></span>
<span class="line"><span style="color:#B392F0;">root@nginx-6799fc88d8-twksc:/#</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-I</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">192.168</span><span style="color:#9ECBFF;">.253.94:8080</span></span>
<span class="line"><span style="color:#B392F0;">HTTP/1.1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">OK</span></span>
<span class="line"><span style="color:#B392F0;">Server:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nginx/1.25.4</span></span>
<span class="line"><span style="color:#B392F0;">Date:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Fri,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Apr</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2024</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:37:49</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GMT</span></span>
<span class="line"><span style="color:#B392F0;">Content-Type:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">text/html</span></span>
<span class="line"><span style="color:#B392F0;">Content-Length:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">615</span></span>
<span class="line"><span style="color:#B392F0;">Last-Modified:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Wed,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Feb</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2024</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">16</span><span style="color:#9ECBFF;">:03:00</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GMT</span></span>
<span class="line"><span style="color:#B392F0;">Connection:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keep-alive</span></span>
<span class="line"><span style="color:#B392F0;">ETag:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;65cce434-267&quot;</span></span>
<span class="line"><span style="color:#B392F0;">Accept-Ranges:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bytes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看service</span></span>
<span class="line"><span style="color:#24292E;">[root@kube-master </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# kubectl get svc -owide</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">         </span><span style="color:#032F62;">TYPE</span><span style="color:#24292E;">        </span><span style="color:#032F62;">CLUSTER-IP</span><span style="color:#24292E;">       </span><span style="color:#032F62;">EXTERNAL-IP</span><span style="color:#24292E;">   </span><span style="color:#032F62;">PORT</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">S</span><span style="color:#24292E;">)          </span><span style="color:#032F62;">AGE</span><span style="color:#24292E;">    </span><span style="color:#032F62;">SELECTOR</span></span>
<span class="line"><span style="color:#6F42C1;">kubernetes</span><span style="color:#24292E;">   </span><span style="color:#032F62;">ClusterIP</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">192.168</span><span style="color:#032F62;">.0.1</span><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">443</span><span style="color:#032F62;">/TCP</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">d6h</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">nginx</span><span style="color:#24292E;">        </span><span style="color:#032F62;">NodePort</span><span style="color:#24292E;">    </span><span style="color:#005CC5;">192.168</span><span style="color:#032F62;">.253.94</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">non</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">        </span><span style="color:#005CC5;">8080</span><span style="color:#032F62;">:32498/TCP</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">31</span><span style="color:#032F62;">h</span><span style="color:#24292E;">    </span><span style="color:#032F62;">app=nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#在访问</span></span>
<span class="line"><span style="color:#6F42C1;">root@nginx-6799fc88d8-twksc:/#</span><span style="color:#24292E;"> </span><span style="color:#032F62;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-I</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">192.168</span><span style="color:#032F62;">.253.94:8080</span></span>
<span class="line"><span style="color:#6F42C1;">HTTP/1.1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#032F62;">OK</span></span>
<span class="line"><span style="color:#6F42C1;">Server:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nginx/1.25.4</span></span>
<span class="line"><span style="color:#6F42C1;">Date:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Fri,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Apr</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2024</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:37:49</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GMT</span></span>
<span class="line"><span style="color:#6F42C1;">Content-Type:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">text/html</span></span>
<span class="line"><span style="color:#6F42C1;">Content-Length:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">615</span></span>
<span class="line"><span style="color:#6F42C1;">Last-Modified:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Wed,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Feb</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2024</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">16</span><span style="color:#032F62;">:03:00</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GMT</span></span>
<span class="line"><span style="color:#6F42C1;">Connection:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keep-alive</span></span>
<span class="line"><span style="color:#6F42C1;">ETag:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;65cce434-267&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">Accept-Ranges:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bytes</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">💡 说明</p><p>说明不同名称空间的ServiceIP⽹络是互通的</p></div>`,13),e=[o];function c(t,r,E,y,F,i){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{B as __pageData,d as default};
