import{_ as e,o as a,c as s,R as n}from"./chunks/framework.zUbWieqp.js";const g=JSON.parse('{"title":"8,explain","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Database/pgSql/optimize/3_EXPLAIN.md","filePath":"guide/Database/pgSql/optimize/3_EXPLAIN.md","lastUpdated":1714315892000}'),p={name:"guide/Database/pgSql/optimize/3_EXPLAIN.md"},t=n(`<p>在线，<a href="https://explain.depesz.com/" target="_blank" rel="noreferrer">https://explain.depesz.com/</a></p><h1 id="_8-explain" tabindex="-1">8,explain <a class="header-anchor" href="#_8-explain" aria-label="Permalink to &quot;8,explain&quot;">​</a></h1><p>1、Explain</p><p>explain select * from tablename;</p><p>2、explain输出josn格式</p><p>explain (format json) select * from tablename;</p><p>除了json格式，还支持xml、text、yaml等</p><p>3、explain analyze查看实际的启动时间</p><p>explain analyze select * from tablelname;</p><p>另一种方法:</p><p>explain(analyze true) select * from tablename;</p><p>4、explain 只看执行的路径情况，不看cost值</p><p>explain(costs false) select * from tablename;</p><p>5、通过实际执行查看实际的代价和缓冲区命中的情况</p><p>explain (analyze true,buffers true) select * from tablename;</p><h1 id="sql优化" tabindex="-1">SQL优化 <a class="header-anchor" href="#sql优化" aria-label="Permalink to &quot;SQL优化&quot;">​</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">postgres@postgres=&gt;show wal_sync_method;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"> wal_sync_method </span></span>
<span class="line"><span style="color:#e1e4e8;">-----------------</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"> fdatasync</span></span>
<span class="line"><span style="color:#e1e4e8;">(1 row)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">postgres@postgres=&gt;show wal_sync_method;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"> wal_sync_method </span></span>
<span class="line"><span style="color:#24292e;">-----------------</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"> fdatasync</span></span>
<span class="line"><span style="color:#24292e;">(1 row)</span></span></code></pre></div><h2 id="_1-explain" tabindex="-1">1,explain <a class="header-anchor" href="#_1-explain" aria-label="Permalink to &quot;1,explain&quot;">​</a></h2><p>explain 和 explain analyze 的方式来，其中的区别是前者是评估，后者是实际执行计划</p><p><a href="https://explain.depesz.com/" target="_blank" rel="noreferrer">https://explain.depesz.com/</a></p><p><a href="http://tatiyants.com/pev/#/plans/new" target="_blank" rel="noreferrer">http://tatiyants.com/pev/#/plans/new</a></p><p>Fiter 指应用限定条件进行记录过滤；</p><p>Seq Scan 指表扫描，也即全表扫描；</p><p>Group Key 指分组查询的分组键值；</p><p>GroupAggregate 指分组聚合结果；</p><p><a href="https://www.modb.pro/doc/688" target="_blank" rel="noreferrer">https://www.modb.pro/doc/688</a></p><p><a href="https://zhuanlan.zhihu.com/p/197568601" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/197568601</a></p><p><a href="https://blog.csdn.net/weixin_33943347/article/details/90617718?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~first_rank_v2~rank_v25-7-90617718.nonecase&amp;utm_term=pgsql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%BB%93%E6%9E%84%E5%A4%87%E4%BB%BD" target="_blank" rel="noreferrer">https://blog.csdn.net/weixin_33943347/article/details/90617718?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~first_rank_v2~rank_v25-7-90617718.nonecase&amp;utm_term=pgsql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%BB%93%E6%9E%84%E5%A4%87%E4%BB%BD</a></p>`,28),l=[t];function r(o,i,c,_,d,h){return a(),s("div",null,l)}const u=e(p,[["render",r]]);export{g as __pageData,u as default};
