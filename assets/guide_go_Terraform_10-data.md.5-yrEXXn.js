import{_ as s,o as a,c as n,R as e}from"./chunks/framework.zUbWieqp.js";const g=JSON.parse('{"title":"1. data","description":"","frontmatter":{},"headers":[],"relativePath":"guide/go/Terraform/10-data.md","filePath":"guide/go/Terraform/10-data.md","lastUpdated":1752568087000}'),t={name:"guide/go/Terraform/10-data.md"},o=e(`<h1 id="_1-data" tabindex="-1">1. <a href="https://developer.hashicorp.com/terraform/tutorials/configuration-language/data-sources" target="_blank" rel="noreferrer">data</a> <a class="header-anchor" href="#_1-data" aria-label="Permalink to &quot;1. [data](https://developer.hashicorp.com/terraform/tutorials/configuration-language/data-sources)&quot;">â€‹</a></h1><h2 id="_1-1-ä»€ä¹ˆæ˜¯data-source-âœ…" tabindex="-1">1.1 ä»€ä¹ˆæ˜¯Data Sourceï¼Ÿâœ… <a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯data-source-âœ…" aria-label="Permalink to &quot;1.1 ä»€ä¹ˆæ˜¯Data Sourceï¼Ÿâœ…&quot;">â€‹</a></h2><p>â€‹ Terraform Data Sourcesï¼ˆæ•°æ®æºï¼‰å…è®¸æˆ‘ä»¬ä»APIæˆ–å…¶ä»–TerraformçŠ¶æ€åç«¯åŠ¨æ€è·å–æ•°æ®ã€‚æ•°æ®æºåŒ…æ‹¬æ¥è‡ªäº‘æä¾›å•†çš„æ•°æ®æˆ–æ¥è‡ªå…¶ä»–é…ç½®çš„Terraformè¾“å‡ºã€‚</p><p>ä¸resourceä¸åŒï¼Œresourceçš„æ‹¬å·ä½“ä¸­ç»™å®šçš„æ˜¯å‚æ•°çš„å®šä¹‰æ¡ä»¶ï¼Œè€Œåœ¨dataçš„æ‹¬å·ä½“ä¸­æ˜¯ä¼ ç»™æ•°æ®æºçš„<code>æŸ¥è¯¢æ¡ä»¶</code>ã€‚æŸ¥è¯¢æ¡ä»¶å‚æ•°çš„ç§ç±»å–å†³äºproviderç»™å®šçš„æ•°æ®æºçš„ç±»å‹ã€‚</p><p>ä¸resourceç±»ä¼¼ï¼Œdataéƒ½å¯ä»¥è¾“å…¥å¹¶å¯¹å¤–è¾“å‡ºã€‚ä½†resourceä¼šè§¦å‘Terraformå¯¹åŸºç¡€è®¾æ–½å¯¹è±¡è¿›è¡Œ<code>å¢åˆ æ”¹æŸ¥æ“ä½œ</code>ï¼Œè€Œdataåªä¼šè§¦å‘<code>æŸ¥æ“ä½œ</code>ã€‚</p><h2 id="_1-2-ä½¿ç”¨è¯´æ˜âœ…" tabindex="-1">1.2 ä½¿ç”¨è¯´æ˜âœ… <a class="header-anchor" href="#_1-2-ä½¿ç”¨è¯´æ˜âœ…" aria-label="Permalink to &quot;1.2 ä½¿ç”¨è¯´æ˜âœ…&quot;">â€‹</a></h2><p><a href="https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/data-sources/instances" target="_blank" rel="noreferrer">https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/data-sources/instances</a></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250711152005137.png" alt="image-20250711151956009"></p><p>å¯ä»¥é€šè¿‡è¾“å…¥å‚æ•°ï¼Œ</p><p>vim data.tf</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">data &quot;alicloud_instances&quot; &quot;instance-test&quot; {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">name_regex = &quot;lyc&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">status     = &quot;Running&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">data &quot;alicloud_instances&quot; &quot;instance-test&quot; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">name_regex = &quot;lyc&quot;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">status     = &quot;Running&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>vim output.tf</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">output &quot;name_regex_test&quot; {</span></span>
<span class="line"><span style="color:#e1e4e8;">  #è¾“å‡ºç»“æœï¼Œæ˜¯list çš„åŠ *</span></span>
<span class="line"><span style="color:#e1e4e8;">  value       = data.alicloud_instances.instance-test.instances.*.id</span></span>
<span class="line"><span style="color:#e1e4e8;">  description = &quot;this is instance name test&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">output &quot;name_regex_test&quot; {</span></span>
<span class="line"><span style="color:#24292e;">  #è¾“å‡ºç»“æœï¼Œæ˜¯list çš„åŠ *</span></span>
<span class="line"><span style="color:#24292e;">  value       = data.alicloud_instances.instance-test.instances.*.id</span></span>
<span class="line"><span style="color:#24292e;">  description = &quot;this is instance name test&quot;</span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre></div><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250711164114337.png" alt="image-20250711164112506"></p><blockquote><p>æ³¨æ„ï¼Œalicloud_instances alicloud_instance çš„åŒºåˆ«</p><p>alicloud_instance æ˜¯resourcesä¸­çš„èµ„æºï¼Œalicloud_instances æ˜¯data sourcesä¸­çš„</p></blockquote><h2 id="_1-3-å¼•ç”¨æ•°æ®æºâœ…" tabindex="-1">1.3 å¼•ç”¨æ•°æ®æºâœ… <a class="header-anchor" href="#_1-3-å¼•ç”¨æ•°æ®æºâœ…" aria-label="Permalink to &quot;1.3 å¼•ç”¨æ•°æ®æºâœ…&quot;">â€‹</a></h2><p>å¼•ç”¨æ•°æ®æºæ•°æ®çš„è¯­æ³•æ˜¯<code>data.&lt;TYPE&gt;.&lt;NAME&gt;.&lt;ATTRIBUTE&gt;</code>ï¼š</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">data &quot;alicloud_instances&quot; &quot;instance-test&quot; {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">name_regex = &quot;lyc&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">status     = &quot;Running&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">data &quot;alicloud_instances&quot; &quot;instance-test&quot; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">name_regex = &quot;lyc&quot;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">status     = &quot;Running&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">output &quot;name_regex_test&quot; {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">#è¾“å‡ºç»“æœï¼Œæ˜¯list çš„åŠ *</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">value       = data.alicloud_instances.instance-test.instances.*.id</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">description = &quot;this is instance name test&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">output &quot;name_regex_test&quot; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">#è¾“å‡ºç»“æœï¼Œæ˜¯list çš„åŠ *</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">value       = data.alicloud_instances.instance-test.instances.*.id</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">description = &quot;this is instance name test&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">ğŸ’¡ è¯´æ˜</p><ul><li>æ•°æ®æºå…è®¸æŸ¥è¯¢æˆ–è®¡ç®—ä¸€äº›æ•°æ®ä»¥ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚ä½¿ç”¨æ•°æ®æºå¯ä»¥ä½¿å¾—Terraformä»£ç ä½¿ç”¨åœ¨Terraformç®¡ç†èŒƒå›´ä¹‹å¤–çš„ä¸€äº›ä¿¡æ¯ï¼Œæˆ–è€…æ˜¯è¯»å–å…¶ä»–Terraformä»£ç ä¿å­˜çš„çŠ¶æ€ã€‚</li><li>å¯ä»¥åœ¨åŒä¸€æ¨¡å—å†…çš„ä»£ç ä¸­é€šè¿‡æ•°æ®æºåç§°æ¥å¼•ç”¨æ•°æ®æºï¼Œä½†æ— æ³•ä»æ¨¡å—å¤–éƒ¨ç›´æ¥è®¿é—®æ•°æ®æºã€‚</li><li>ä½¿ç”¨dataçš„æ—¶å€™ï¼Œdataè¿˜æœªè·å–åˆ°è¯¥èµ„æºï¼Œæˆ–è€…è·å–åˆ°çš„æ˜¯ä¸€ä¸ªé”™è¯¯æˆ–ä¸å­˜åœ¨çš„èµ„æºï¼Œåˆ™ä¼šæŠ¥é”™ã€‚éœ€è¦å…ˆæœ‰dataè·å–åˆ°çš„èµ„æºï¼Œæ‰èƒ½å¼•lç”¨dataçš„è¾“å‡ºæ•°æ®ã€‚</li></ul></div>`,20),l=[o];function p(c,i,r,u,d,h){return a(),n("div",null,l)}const m=s(t,[["render",p]]);export{g as __pageData,m as default};
