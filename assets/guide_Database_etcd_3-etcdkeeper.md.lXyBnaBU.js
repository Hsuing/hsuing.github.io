import{_ as s,o as a,c as n,R as e}from"./chunks/framework.zUbWieqp.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Database/etcd/3-etcdkeeper.md","filePath":"guide/Database/etcd/3-etcdkeeper.md","lastUpdated":1703141608000}'),p={name:"guide/Database/etcd/3-etcdkeeper.md"},l=e(`<h2 id="etcd-web管理工具etcdkeeper" tabindex="-1">etcd web管理工具etcdkeeper <a class="header-anchor" href="#etcd-web管理工具etcdkeeper" aria-label="Permalink to &quot;etcd web管理工具etcdkeeper&quot;">​</a></h2><h3 id="_1-下载" tabindex="-1">1.下载 <a class="header-anchor" href="#_1-下载" aria-label="Permalink to &quot;1.下载&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">https://github.com/evildecay/etcdkeeper/releases/download/v0.7.5/etcdkeeper-v0.7.6-linux_x86_64.zip</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-P</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/etcd/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;">  </span><span style="color:#032F62;">https://github.com/evildecay/etcdkeeper/releases/download/v0.7.5/etcdkeeper-v0.7.6-linux_x86_64.zip</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-P</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/etcd/</span></span></code></pre></div><h3 id="_2-解压" tabindex="-1">2.解压 <a class="header-anchor" href="#_2-解压" aria-label="Permalink to &quot;2.解压&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/etcd</span></span>
<span class="line"><span style="color:#B392F0;">unzip</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">etcdkeeper-v0.7.6-linux_x86_64.zip</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/etcd</span></span>
<span class="line"><span style="color:#6F42C1;">unzip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">etcdkeeper-v0.7.6-linux_x86_64.zip</span></span></code></pre></div><h3 id="_3-赋权限" tabindex="-1">3.赋权限 <a class="header-anchor" href="#_3-赋权限" aria-label="Permalink to &quot;3.赋权限&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">etcdkeeper</span></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">777</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">etcdkeeper</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">etcdkeeper</span></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">777</span><span style="color:#24292E;"> </span><span style="color:#032F62;">etcdkeeper</span></span></code></pre></div><h3 id="_4-终端启动" tabindex="-1">4.终端启动 <a class="header-anchor" href="#_4-终端启动" aria-label="Permalink to &quot;4.终端启动&quot;">​</a></h3><p>-h:网站部署ip</p><p>-p:网站部署端口</p><p>-auth:是否开启授权认证 如果etcd开启了授权认证，则必须添加-auth=true参数,网页打开时会提示你输入etcd设置的root账号和密码</p><p>注意：此处的ip和端口不是etcd的ip和端口，而是挂载etcdkeeper网站的ip和端口，etcdkeeper默认会监听部署在localhost上的etcd的2379端口数据</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">./etcdkeeper</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-h=172.17.0.15</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p=8080</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">./etcdkeeper</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-h=172.17.0.15</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p=8080</span></span></code></pre></div><h3 id="_5-服务形式启动" tabindex="-1">5.服务形式启动 <a class="header-anchor" href="#_5-服务形式启动" aria-label="Permalink to &quot;5.服务形式启动&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vim</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/systemd/system/etcdkeeper.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[Unit]</span></span>
<span class="line"><span style="color:#E1E4E8;">Description</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">EtcdKeeper</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Server</span></span>
<span class="line"><span style="color:#E1E4E8;">After</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">network.target</span></span>
<span class="line"><span style="color:#E1E4E8;">After</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">network-online.target</span></span>
<span class="line"><span style="color:#E1E4E8;">Wants</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">network-online.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[Service]</span></span>
<span class="line"><span style="color:#E1E4E8;">Type</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">notify</span></span>
<span class="line"><span style="color:#E1E4E8;">WorkingDirectory</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/var/lib/etcd/etcdkeeper</span></span>
<span class="line"><span style="color:#E1E4E8;">User</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">root</span></span>
<span class="line"><span style="color:#6A737D;"># set GOMAXPROCS to number of processors</span></span>
<span class="line"><span style="color:#E1E4E8;">ExecStart</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/usr/local/etcd/etcdkeeper/etcdkeeper</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    -h</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">172.17</span><span style="color:#9ECBFF;">.0.15</span><span style="color:#E1E4E8;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    -p</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">8080</span><span style="color:#E1E4E8;">\\</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">Restart</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">on-failure</span></span>
<span class="line"><span style="color:#E1E4E8;">LimitNOFILE</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">65536</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[Install]</span></span>
<span class="line"><span style="color:#E1E4E8;">WantedBy</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">multi-user.target</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vim</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/systemd/system/etcdkeeper.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[Unit]</span></span>
<span class="line"><span style="color:#24292E;">Description</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">EtcdKeeper</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Server</span></span>
<span class="line"><span style="color:#24292E;">After</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">network.target</span></span>
<span class="line"><span style="color:#24292E;">After</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">network-online.target</span></span>
<span class="line"><span style="color:#24292E;">Wants</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">network-online.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[Service]</span></span>
<span class="line"><span style="color:#24292E;">Type</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">notify</span></span>
<span class="line"><span style="color:#24292E;">WorkingDirectory</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/var/lib/etcd/etcdkeeper</span></span>
<span class="line"><span style="color:#24292E;">User</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">root</span></span>
<span class="line"><span style="color:#6A737D;"># set GOMAXPROCS to number of processors</span></span>
<span class="line"><span style="color:#24292E;">ExecStart</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/usr/local/etcd/etcdkeeper/etcdkeeper</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    -h</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">172.17</span><span style="color:#032F62;">.0.15</span><span style="color:#24292E;">\\</span></span>
<span class="line"><span style="color:#24292E;">    -p</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">8080</span><span style="color:#24292E;">\\</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">Restart</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">on-failure</span></span>
<span class="line"><span style="color:#24292E;">LimitNOFILE</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">65536</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[Install]</span></span>
<span class="line"><span style="color:#24292E;">WantedBy</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">multi-user.target</span></span></code></pre></div><h3 id="_6-启动" tabindex="-1">6.启动 <a class="header-anchor" href="#_6-启动" aria-label="Permalink to &quot;6.启动&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">777</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/lib/etcd/etcdkeeper</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">daemon-reload</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enable</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">etcdkeeper</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">etcdkeeper</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">777</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/lib/etcd/etcdkeeper</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">daemon-reload</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enable</span><span style="color:#24292E;"> </span><span style="color:#032F62;">etcdkeeper</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">etcdkeeper</span></span></code></pre></div>`,17),o=[l];function t(c,r,i,y,d,E){return a(),n("div",null,o)}const k=s(p,[["render",t]]);export{h as __pageData,k as default};
