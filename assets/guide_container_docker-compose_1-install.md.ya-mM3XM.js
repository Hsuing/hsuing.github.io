import{_ as s,o as a,c as o,R as l}from"./chunks/framework.zUbWieqp.js";const u=JSON.parse('{"title":"1. Docker-compose部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/docker-compose/1-install.md","filePath":"guide/container/docker-compose/1-install.md","lastUpdated":1761202365000}'),n={name:"guide/container/docker-compose/1-install.md"},p=l(`<h1 id="_1-docker-compose部署" tabindex="-1">1. Docker-compose部署 <a class="header-anchor" href="#_1-docker-compose部署" aria-label="Permalink to &quot;1. Docker-compose部署&quot;">​</a></h1><h2 id="_1-1-单独安装" tabindex="-1">1.1 单独安装 <a class="header-anchor" href="#_1-1-单独安装" aria-label="Permalink to &quot;1.1 单独安装&quot;">​</a></h2><p><strong>推荐此方式</strong>，由于此方式是二进制包，直接下载放到/usr/local/bin/即可</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-SL</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/docker/compose/releases/download/v2.30.1/docker-compose-linux-x86_64</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#或者自动根据系统下载</span></span>
<span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-L</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;https://github.com/docker/compose/releases/download/$(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#9ECBFF;"> https://api.github.com/repos/docker/compose/releases/latest </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">grep</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-oP</span><span style="color:#9ECBFF;"> &#39;&quot;tag_name&quot;: &quot;\\K(.*)(?=&quot;)&#39;)&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#或者下载最新</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/docker/compose/releases/latest/download/docker-compose-$(</span><span style="color:#B392F0;">uname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#9ECBFF;">)-$(</span><span style="color:#B392F0;">uname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#9ECBFF;">)</span></span>
<span class="line"><span style="color:#B392F0;">mv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-compose-$(</span><span style="color:#B392F0;">uname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#9ECBFF;">)-$(</span><span style="color:#B392F0;">uname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#9ECBFF;">)</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/docker-compose</span></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/docker-compose</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-SL</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/docker/compose/releases/download/v2.30.1/docker-compose-linux-x86_64</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#或者自动根据系统下载</span></span>
<span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-L</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;https://github.com/docker/compose/releases/download/$(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-s</span><span style="color:#032F62;"> https://api.github.com/repos/docker/compose/releases/latest </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">grep</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-oP</span><span style="color:#032F62;"> &#39;&quot;tag_name&quot;: &quot;\\K(.*)(?=&quot;)&#39;)&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#或者下载最新</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/docker/compose/releases/latest/download/docker-compose-$(</span><span style="color:#6F42C1;">uname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-s</span><span style="color:#032F62;">)-$(</span><span style="color:#6F42C1;">uname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-m</span><span style="color:#032F62;">)</span></span>
<span class="line"><span style="color:#6F42C1;">mv</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-compose-$(</span><span style="color:#6F42C1;">uname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-s</span><span style="color:#032F62;">)-$(</span><span style="color:#6F42C1;">uname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-m</span><span style="color:#032F62;">)</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/docker-compose</span></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/docker-compose</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">💡 说明</p><p>注意版本兼容性</p><p>docker --version</p><p>docker-compose --version</p></div><h3 id="版本兼容性" tabindex="-1">版本兼容性 <a class="header-anchor" href="#版本兼容性" aria-label="Permalink to &quot;版本兼容性&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">compose文件格式版本</th><th style="text-align:left;">docker版本</th></tr></thead><tbody><tr><td style="text-align:left;">3.4</td><td style="text-align:left;">17.09.0+</td></tr><tr><td style="text-align:left;">3.3</td><td style="text-align:left;">17.06.0+</td></tr><tr><td style="text-align:left;">3.2</td><td style="text-align:left;">17.04.0+</td></tr><tr><td style="text-align:left;">3.1</td><td style="text-align:left;">1.13.1+</td></tr><tr><td style="text-align:left;">3.0</td><td style="text-align:left;">1.13.0+</td></tr><tr><td style="text-align:left;">2.3</td><td style="text-align:left;">17.06.0+</td></tr><tr><td style="text-align:left;">2.2</td><td style="text-align:left;">1.13.0+</td></tr><tr><td style="text-align:left;">2.1</td><td style="text-align:left;">1.12.0+</td></tr><tr><td style="text-align:left;">2.0</td><td style="text-align:left;">1.10.0+</td></tr><tr><td style="text-align:left;">1.0</td><td style="text-align:left;">1.9.1.+</td></tr></tbody></table><p>对于docker20 版本</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-L</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/docker/compose/releases/download/1.27.4/docker-compose-\`</span><span style="color:#B392F0;">uname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">-</span><span style="color:#9ECBFF;">\`</span><span style="color:#B392F0;">uname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#9ECBFF;">\`</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/docker-compose</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-L</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/docker/compose/releases/download/1.27.4/docker-compose-\`</span><span style="color:#6F42C1;">uname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-s</span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">-</span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">uname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-m</span><span style="color:#032F62;">\`</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/docker-compose</span></span></code></pre></div><h2 id="_1-2-安装插件" tabindex="-1">1.2 安装插件 <a class="header-anchor" href="#_1-2-安装插件" aria-label="Permalink to &quot;1.2 安装插件&quot;">​</a></h2><p><a href="https://docs.docker.com/compose/install/linux/" target="_blank" rel="noreferrer">官当</a></p><blockquote><p>docker1.24开始支持插件形式</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-compose-plugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 安装完成后查看版本号</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">compose</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-compose-plugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 安装完成后查看版本号</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">compose</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span></span></code></pre></div><h2 id="_1-3-卸载" tabindex="-1">1.3 卸载 <a class="header-anchor" href="#_1-3-卸载" aria-label="Permalink to &quot;1.3 卸载&quot;">​</a></h2><p><a href="https://docs.docker.com/compose/install/uninstall/" target="_blank" rel="noreferrer">官当</a></p><ul><li>对于插件方式</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker-compose-plugin</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">docker-compose-plugin</span></span></code></pre></div><ul><li>对于二进制方式</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看路径</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">info</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--format</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{{range .ClientInfo.Plugins}}{{if eq .Name &quot;compose&quot;}}{{.Path}}{{end}}{{end}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> $DOCKER_CONFIG</span><span style="color:#9ECBFF;">/cli-plugins/docker-compose</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看路径</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">info</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--format</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{{range .ClientInfo.Plugins}}{{if eq .Name &quot;compose&quot;}}{{.Path}}{{end}}{{end}}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> $DOCKER_CONFIG</span><span style="color:#032F62;">/cli-plugins/docker-compose</span></span></code></pre></div>`,19),e=[p];function t(c,r,y,i,d,F){return a(),o("div",null,e)}const m=s(n,[["render",t]]);export{u as __pageData,m as default};
