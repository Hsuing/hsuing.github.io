import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const g=JSON.parse('{"title":"1. 部署gitlab-ee","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/Gitlab/1-container.md","filePath":"guide/Linux/Gitlab/1-container.md","lastUpdated":1726727909000}'),o={name:"guide/Linux/Gitlab/1-container.md"},p=l(`<p>官当:<a href="https://docs.gitlab.com/ee/install/docker/installation.html" target="_blank" rel="noreferrer">https://docs.gitlab.com/ee/install/docker/installation.html</a></p><h1 id="_1-部署gitlab-ee" tabindex="-1">1. 部署gitlab-ee <a class="header-anchor" href="#_1-部署gitlab-ee" aria-label="Permalink to &quot;1. 部署gitlab-ee&quot;">​</a></h1><h2 id="_1-1-单节点" tabindex="-1">1.1 单节点 <a class="header-anchor" href="#_1-1-单节点" aria-label="Permalink to &quot;1.1 单节点&quot;">​</a></h2><ul><li>创建目录</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data/gitlab-ee/{config,logs,data}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data/gitlab-ee/{config,logs,data}</span></span></code></pre></div><ul><li>初始化程序</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-itd</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--net </span><span style="color:#9ECBFF;">host</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--hostname </span><span style="color:#9ECBFF;">code.ikubernetes.net</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--env </span><span style="color:#9ECBFF;">GITLAB_OMNIBUS_CONFIG=&quot;external_url &#39;http://code.ikubernetes.net&#39;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">-p </span><span style="color:#79B8FF;">80</span><span style="color:#9ECBFF;">:80</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">-p </span><span style="color:#79B8FF;">9999</span><span style="color:#9ECBFF;">:22</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--memory=</span><span style="color:#9ECBFF;">&quot;2G&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--cpus=</span><span style="color:#9ECBFF;">&quot;1.0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--privileged=true </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--name </span><span style="color:#9ECBFF;">gitlab-ee</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">always</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--volume </span><span style="color:#9ECBFF;">/data/gitlab-ee/config:/etc/gitlab</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--volume </span><span style="color:#9ECBFF;">/data/gitlab-ee/logs:/var/log/gitlab</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--volume </span><span style="color:#9ECBFF;">/data/gitlab-ee/data:/var/opt/gitlab</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">gitlab/gitlab-ee:17.3.3-ee.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-itd</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--net </span><span style="color:#032F62;">host</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--hostname </span><span style="color:#032F62;">code.ikubernetes.net</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--env </span><span style="color:#032F62;">GITLAB_OMNIBUS_CONFIG=&quot;external_url &#39;http://code.ikubernetes.net&#39;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">-p </span><span style="color:#005CC5;">80</span><span style="color:#032F62;">:80</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">-p </span><span style="color:#005CC5;">9999</span><span style="color:#032F62;">:22</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--memory=</span><span style="color:#032F62;">&quot;2G&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--cpus=</span><span style="color:#032F62;">&quot;1.0&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--privileged=true </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--name </span><span style="color:#032F62;">gitlab-ee</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">always</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--volume </span><span style="color:#032F62;">/data/gitlab-ee/config:/etc/gitlab</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--volume </span><span style="color:#032F62;">/data/gitlab-ee/logs:/var/log/gitlab</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--volume </span><span style="color:#032F62;">/data/gitlab-ee/data:/var/opt/gitlab</span><span style="color:#24292E;">  </span><span style="color:#032F62;">gitlab/gitlab-ee:17.3.3-ee.0</span></span></code></pre></div><ul><li>查看初始密码</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exec</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-it</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gitlab-ee</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;Password:&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/gitlab/initial_root_password</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exec</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-it</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gitlab-ee</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;Password:&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/gitlab/initial_root_password</span></span></code></pre></div>`,9),e=[p];function t(c,r,i,E,y,F){return a(),n("div",null,e)}const C=s(o,[["render",t]]);export{g as __pageData,C as default};
