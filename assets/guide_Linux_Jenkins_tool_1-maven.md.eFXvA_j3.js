import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/Jenkins/tool/1-maven.md","filePath":"guide/Linux/Jenkins/tool/1-maven.md","lastUpdated":1720533756000}'),p={name:"guide/Linux/Jenkins/tool/1-maven.md"},o=l(`<h2 id="_1-安装" tabindex="-1">1.安装 <a class="header-anchor" href="#_1-安装" aria-label="Permalink to &quot;1.安装&quot;">​</a></h2><p>官方地址，<a href="https://maven.apache.org/download.cgi" target="_blank" rel="noreferrer">https://maven.apache.org/download.cgi</a></p><ul><li>JDK：在maven3.3 以上的版本需要JDK版本1.7+。内存：没有最低限制。</li><li>磁盘：1G+可用磁盘空间。 操作系统：没有限制</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zxf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apache-maven-3.6.0-bin.tar.gz</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/</span></span>
<span class="line"><span style="color:#6A737D;">#设置全局变量（/etc/profile）</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> MAVEN_HOME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/usr/local/apache-maven-3.6.0</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> PATH</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">$PATH</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;">$MAVEN_HOME</span><span style="color:#9ECBFF;">/bin</span></span>
<span class="line"><span style="color:#79B8FF;">source</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/profile</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zxf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apache-maven-3.6.0-bin.tar.gz</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/</span></span>
<span class="line"><span style="color:#6A737D;">#设置全局变量（/etc/profile）</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> MAVEN_HOME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/usr/local/apache-maven-3.6.0</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> PATH</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">$PATH</span><span style="color:#032F62;">:</span><span style="color:#24292E;">$MAVEN_HOME</span><span style="color:#032F62;">/bin</span></span>
<span class="line"><span style="color:#005CC5;">source</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/profile</span></span></code></pre></div><ul><li>3.8安装</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">### 下载</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">https://mirrors.bfsu.edu.cn/apache/maven/maven-3/3.8.1/binaries/apache-maven-3.8.1-bin.tar.gz</span></span>
<span class="line"><span style="color:#B392F0;">or</span></span>
<span class="line"><span style="color:#B392F0;">https://mirrors.bfsu.edu.cn/apache/maven/maven-3/</span></span>
<span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zxf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apache-maven-3.8.1-bin.tar.gz</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/</span></span>
<span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/apache-maven-3.8.1/</span></span>
<span class="line"><span style="color:#79B8FF;">pwd</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">/usr/local/apache-maven-3.8.1</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#6A737D;">### 配置环境变量</span></span>
<span class="line"><span style="color:#B392F0;">vi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/profile</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> M2_HOME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/usr/local/apache-maven-3.8.1</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> PATH</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">$M2_HOME</span><span style="color:#9ECBFF;">/bin:</span><span style="color:#E1E4E8;">$PATH</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#79B8FF;">source</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/profile</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#6A737D;">### 验证</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#B392F0;">mvn</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span></span>
<span class="line"><span style="color:#B392F0;">Apache</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Maven</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3.8</span><span style="color:#9ECBFF;">.1</span><span style="color:#E1E4E8;"> (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)</span></span>
<span class="line"><span style="color:#B392F0;">Maven</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">home:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/apache-maven-3.8.1</span></span>
<span class="line"><span style="color:#B392F0;">Java</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.8</span><span style="color:#9ECBFF;">.0_282,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vendor:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">AdoptOpenJDK,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">runtime:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/jdk8u282-b08/jre</span></span>
<span class="line"><span style="color:#B392F0;">Default</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">locale:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">en_US,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">platform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">encoding:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ANSI_X3.4-1968</span></span>
<span class="line"><span style="color:#B392F0;">OS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">name:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;linux&quot;,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;4.18.0-80.el8.x86_64&quot;,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">arch:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;amd64&quot;,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">family:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;unix&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">### 下载</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;">  </span><span style="color:#032F62;">https://mirrors.bfsu.edu.cn/apache/maven/maven-3/3.8.1/binaries/apache-maven-3.8.1-bin.tar.gz</span></span>
<span class="line"><span style="color:#6F42C1;">or</span></span>
<span class="line"><span style="color:#6F42C1;">https://mirrors.bfsu.edu.cn/apache/maven/maven-3/</span></span>
<span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zxf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apache-maven-3.8.1-bin.tar.gz</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/</span></span>
<span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/apache-maven-3.8.1/</span></span>
<span class="line"><span style="color:#005CC5;">pwd</span><span style="color:#24292E;">  </span><span style="color:#032F62;">/usr/local/apache-maven-3.8.1</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6A737D;">### 配置环境变量</span></span>
<span class="line"><span style="color:#6F42C1;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/profile</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> M2_HOME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/usr/local/apache-maven-3.8.1</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> PATH</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">$M2_HOME</span><span style="color:#032F62;">/bin:</span><span style="color:#24292E;">$PATH</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#005CC5;">source</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/profile</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6A737D;">### 验证</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6F42C1;">mvn</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span></span>
<span class="line"><span style="color:#6F42C1;">Apache</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Maven</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3.8</span><span style="color:#032F62;">.1</span><span style="color:#24292E;"> (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)</span></span>
<span class="line"><span style="color:#6F42C1;">Maven</span><span style="color:#24292E;"> </span><span style="color:#032F62;">home:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/apache-maven-3.8.1</span></span>
<span class="line"><span style="color:#6F42C1;">Java</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.8</span><span style="color:#032F62;">.0_282,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vendor:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">AdoptOpenJDK,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">runtime:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/jdk8u282-b08/jre</span></span>
<span class="line"><span style="color:#6F42C1;">Default</span><span style="color:#24292E;"> </span><span style="color:#032F62;">locale:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">en_US,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">platform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">encoding:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ANSI_X3.4-1968</span></span>
<span class="line"><span style="color:#6F42C1;">OS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">name:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;linux&quot;,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;4.18.0-80.el8.x86_64&quot;,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">arch:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;amd64&quot;,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">family:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;unix&quot;</span></span></code></pre></div><p><strong>maven常用命令</strong></p><ul><li><ul><li>mvn clean 清理构建目录</li><li>mvn clean package 打包</li></ul></li><li><ul><li>mvn clean install 打包部署</li><li>mvn clean test 单元测试</li></ul></li><li><ul><li>mvn clean package -f ../pom.xml -f指定pom位置\\</li><li>mvn clean package -DskipTests / -Dmaven.test.skip=true 跳过单测</li></ul></li><li><ul><li>mvn deploy 发布包到制品库</li></ul></li></ul><ul><li>测试</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mvn</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mvn</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span></span></code></pre></div><h2 id="_2-jenkins配置maven" tabindex="-1">2.Jenkins配置maven <a class="header-anchor" href="#_2-jenkins配置maven" aria-label="Permalink to &quot;2.Jenkins配置maven&quot;">​</a></h2><ul><li>系统设置-&gt;全局工具配置</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202407042229895.png" alt=""></p><ul><li><p>编写Jenkinsfile</p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">node {</span></span>
<span class="line"><span style="color:#E1E4E8;">stage (</span><span style="color:#9ECBFF;">&quot;build&quot;</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    mavenHome </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> tool </span><span style="color:#9ECBFF;">&#39;M3&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    sh </span><span style="color:#9ECBFF;">&quot;\${mavenHome}/bin/mvn -v&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">node {</span></span>
<span class="line"><span style="color:#24292E;">stage (</span><span style="color:#032F62;">&quot;build&quot;</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">    mavenHome </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> tool </span><span style="color:#032F62;">&#39;M3&#39;</span></span>
<span class="line"><span style="color:#24292E;">    sh </span><span style="color:#032F62;">&quot;\${mavenHome}/bin/mvn -v&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul>`,14),e=[o];function c(t,r,E,y,i,F){return a(),n("div",null,e)}const v=s(p,[["render",c]]);export{d as __pageData,v as default};
