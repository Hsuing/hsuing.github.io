import{_ as s,o as a,c as n,R as l}from"./chunks/framework.zUbWieqp.js";const u=JSON.parse('{"title":"1. 修改节点pod个数上限","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/TroubleshootingMaintenanceManual/12-修改pod大小.md","filePath":"guide/container/k8s/TroubleshootingMaintenanceManual/12-修改pod大小.md","lastUpdated":1724148929000}'),p={name:"guide/container/k8s/TroubleshootingMaintenanceManual/12-修改pod大小.md"},o=l(`<h1 id="_1-修改节点pod个数上限" tabindex="-1">1. 修改节点pod个数上限 <a class="header-anchor" href="#_1-修改节点pod个数上限" aria-label="Permalink to &quot;1. 修改节点pod个数上限&quot;">​</a></h1><p>默认情况下，单台节点能调度的Pod数为110个，如果机器配置较高，可考虑调整此参数</p><h2 id="_1-1-修改配置文件" tabindex="-1">1.1 修改配置文件 <a class="header-anchor" href="#_1-1-修改配置文件" aria-label="Permalink to &quot;1.1 修改配置文件&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># vim /etc/sysconfig/kubelet</span></span>
<span class="line"><span style="color:#E1E4E8;">KUBELET_EXTRA_ARGS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;--max-pods=500&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># vim /etc/sysconfig/kubelet</span></span>
<span class="line"><span style="color:#24292E;">KUBELET_EXTRA_ARGS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;--max-pods=500&quot;</span></span></code></pre></div><h2 id="_1-2-重启kubelet服务" tabindex="-1">1.2 重启kubelet服务 <a class="header-anchor" href="#_1-2-重启kubelet服务" aria-label="Permalink to &quot;1.2 重启kubelet服务&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kubelet</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kubelet</span></span></code></pre></div><h2 id="_1-3-检查" tabindex="-1">1.3 检查 <a class="header-anchor" href="#_1-3-检查" aria-label="Permalink to &quot;1.3 检查&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">describe</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kube-node02</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Capacity\\|Allocatable&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">6</span></span>
<span class="line"><span style="color:#B392F0;">Capacity:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">cpu:</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">192</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">ephemeral-storage:</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">9298787068</span><span style="color:#9ECBFF;">Ki</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">hugepages-1Gi:</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">hugepages-2Mi:</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">memory:</span><span style="color:#E1E4E8;">             </span><span style="color:#79B8FF;">1056273036</span><span style="color:#9ECBFF;">Ki</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">pods:</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">200</span></span>
<span class="line"><span style="color:#B392F0;">Allocatable:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">cpu:</span><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">192</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">ephemeral-storage:</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">8569762147680</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">hugepages-1Gi:</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">hugepages-2Mi:</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">memory:</span><span style="color:#E1E4E8;">             </span><span style="color:#79B8FF;">1056170636</span><span style="color:#9ECBFF;">Ki</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">pods:</span><span style="color:#E1E4E8;">               </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 检查pod上限是否更改成了500个</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">kubectl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">describe</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kube-node02</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">  </span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Capacity\\|Allocatable&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-A</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">6</span></span>
<span class="line"><span style="color:#6F42C1;">Capacity:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">cpu:</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">192</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">ephemeral-storage:</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">9298787068</span><span style="color:#032F62;">Ki</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">hugepages-1Gi:</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">hugepages-2Mi:</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">memory:</span><span style="color:#24292E;">             </span><span style="color:#005CC5;">1056273036</span><span style="color:#032F62;">Ki</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">pods:</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">200</span></span>
<span class="line"><span style="color:#6F42C1;">Allocatable:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">cpu:</span><span style="color:#24292E;">                </span><span style="color:#005CC5;">192</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">ephemeral-storage:</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">8569762147680</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">hugepages-1Gi:</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">hugepages-2Mi:</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">memory:</span><span style="color:#24292E;">             </span><span style="color:#005CC5;">1056170636</span><span style="color:#032F62;">Ki</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">pods:</span><span style="color:#24292E;">               </span><span style="color:#005CC5;">500</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 检查pod上限是否更改成了500个</span></span></code></pre></div><blockquote><p>kube-node02 根据情况进行修改</p></blockquote>`,9),e=[o];function t(c,r,y,E,i,F){return a(),n("div",null,e)}const C=s(p,[["render",t]]);export{u as __pageData,C as default};
