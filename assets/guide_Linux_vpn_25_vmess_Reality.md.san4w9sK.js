import{_ as s,o as a,c as n,R as p}from"./chunks/framework.zUbWieqp.js";const m=JSON.parse('{"title":"1.vmess+Reality+vision","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/vpn/25_vmess_Reality.md","filePath":"guide/Linux/vpn/25_vmess_Reality.md","lastUpdated":1747060331000}'),l={name:"guide/Linux/vpn/25_vmess_Reality.md"},o=p(`<h1 id="_1-vmess-reality-vision" tabindex="-1">1.vmess+Reality+vision <a class="header-anchor" href="#_1-vmess-reality-vision" aria-label="Permalink to &quot;1.vmess+Reality+vision&quot;">​</a></h1><p>基于ubuntu系统，目前x-ui已停止维护，建议使用3x-ui</p><h2 id="_1-1-部署x-ui" tabindex="-1">1.1 部署x-ui <a class="header-anchor" href="#_1-1-部署x-ui" aria-label="Permalink to &quot;1.1 部署x-ui&quot;">​</a></h2><p><a href="https://github.com/alireza0/x-ui" target="_blank" rel="noreferrer">https://github.com/alireza0/x-ui</a> 这个还在更新中</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">bash</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-Ls</span><span style="color:#9ECBFF;"> https://raw.githubusercontent.com/FranzKafkaYu/x-ui/956bf85bbac978d56c0e319c5fac2d6db7df9564/install.sh)</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.3</span><span style="color:#9ECBFF;">.4.4</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">bash</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-Ls</span><span style="color:#032F62;"> https://raw.githubusercontent.com/FranzKafkaYu/x-ui/956bf85bbac978d56c0e319c5fac2d6db7df9564/install.sh)</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.3</span><span style="color:#032F62;">.4.4</span></span></code></pre></div><p>选择no，则是默认配置</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101400513.png" alt="image-20250310140013816"></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101400443.png" alt="image-20250310140026480"></p><ul><li>访问</li></ul><p>ip:port访问</p><p>用户名和密码admin/admin</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101345682.png" alt="image-20250310134509874"></p><ul><li>版本选择</li></ul><p>选择1.8.3</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101345559.png" alt="image-20250310134557054"></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101346716.png" alt="image-20250310134622971"></p><h2 id="_1-2-配置vmess-ws" tabindex="-1">1.2 配置vmess+ws <a class="header-anchor" href="#_1-2-配置vmess-ws" aria-label="Permalink to &quot;1.2 配置vmess+ws&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101349695.png" alt="image-20250310134938080"></p><p>点击添加</p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101404857.png" alt="image-20250310140448492"></p><h2 id="_1-3-配置vless-vision" tabindex="-1">1.3 配置vless+vision <a class="header-anchor" href="#_1-3-配置vless-vision" aria-label="Permalink to &quot;1.3 配置vless+vision&quot;">​</a></h2><ul><li>配置vision证书</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#安装证书工具：</span></span>
<span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://get.acme.sh</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sh</span><span style="color:#E1E4E8;">; </span><span style="color:#B392F0;">apt</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">socat</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">yum</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">socat</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;">; </span><span style="color:#B392F0;">~/.acme.sh/acme.sh</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--set-default-ca</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">letsencrypt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#三种方式任选其中一种，申请失败则更换方式</span></span>
<span class="line"><span style="color:#6A737D;">#申请证书方式1： </span></span>
<span class="line"><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">/.acme.sh/acme.sh  --issue -d 你的域名 --standalone -k ec-256 --force --insecure</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#申请证书方式2： </span></span>
<span class="line"><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">/.acme.sh/acme.sh --register-account -m </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">RANDOM</span><span style="color:#9ECBFF;">}@chacuo.net&quot;</span><span style="color:#E1E4E8;"> --server buypass --force --insecure &amp;&amp; </span><span style="color:#B392F0;">~/.acme.sh/acme.sh</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--issue</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">你的域名</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--standalone</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-k</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ec-256</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--force</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--insecure</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">buypass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#申请证书方式3： </span></span>
<span class="line"><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">/.acme.sh/acme.sh --register-account -m </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">RANDOM</span><span style="color:#9ECBFF;">}@chacuo.net&quot;</span><span style="color:#E1E4E8;"> --server zerossl --force --insecure &amp;&amp; </span><span style="color:#B392F0;">~/.acme.sh/acme.sh</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--issue</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">你的域名</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--standalone</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-k</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ec-256</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--force</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--insecure</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zerossl</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#安装证书：</span></span>
<span class="line"><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">/.acme.sh/acme.sh --install-cert -d 你的域名 --ecc --key-file /etc/x-ui/server.key --fullchain-file /etc/x-ui/server.crt</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#安装证书工具：</span></span>
<span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://get.acme.sh</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sh</span><span style="color:#24292E;">; </span><span style="color:#6F42C1;">apt</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">socat</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">yum</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">socat</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;">; </span><span style="color:#6F42C1;">~/.acme.sh/acme.sh</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--set-default-ca</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">letsencrypt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#三种方式任选其中一种，申请失败则更换方式</span></span>
<span class="line"><span style="color:#6A737D;">#申请证书方式1： </span></span>
<span class="line"><span style="color:#D73A49;">~</span><span style="color:#24292E;">/.acme.sh/acme.sh  --issue -d 你的域名 --standalone -k ec-256 --force --insecure</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#申请证书方式2： </span></span>
<span class="line"><span style="color:#D73A49;">~</span><span style="color:#24292E;">/.acme.sh/acme.sh --register-account -m </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">RANDOM</span><span style="color:#032F62;">}@chacuo.net&quot;</span><span style="color:#24292E;"> --server buypass --force --insecure &amp;&amp; </span><span style="color:#6F42C1;">~/.acme.sh/acme.sh</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">--issue</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">你的域名</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--standalone</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-k</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ec-256</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--force</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--insecure</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">buypass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#申请证书方式3： </span></span>
<span class="line"><span style="color:#D73A49;">~</span><span style="color:#24292E;">/.acme.sh/acme.sh --register-account -m </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">RANDOM</span><span style="color:#032F62;">}@chacuo.net&quot;</span><span style="color:#24292E;"> --server zerossl --force --insecure &amp;&amp; </span><span style="color:#6F42C1;">~/.acme.sh/acme.sh</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">--issue</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">你的域名</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--standalone</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-k</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ec-256</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--force</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--insecure</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zerossl</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#安装证书：</span></span>
<span class="line"><span style="color:#D73A49;">~</span><span style="color:#24292E;">/.acme.sh/acme.sh --install-cert -d 你的域名 --ecc --key-file /etc/x-ui/server.key --fullchain-file /etc/x-ui/server.crt</span></span></code></pre></div><ul><li>添加vision协议</li></ul><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101416812.png" alt="image-20250310141612814"></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101417385.png" alt="image-20250310141747180"></p><h2 id="_1-4-配置vless-vision-reality" tabindex="-1">1.4 配置vless+vision+Reality <a class="header-anchor" href="#_1-4-配置vless-vision-reality" aria-label="Permalink to &quot;1.4 配置vless+vision+Reality&quot;">​</a></h2><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101423888.png" alt="image-20250310142328102"></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/202503101425928.png" alt="image-20250310142503803"></p><p>由于reality采用tcp进行传输，所以建议开启BBR</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">echo &quot;net.core.default_qdisc=fq&quot; &gt;&gt; /etc/sysctl.conf</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">echo &quot;net.ipv4.tcp_congestion_control=bbr&quot; &gt;&gt; /etc/sysctl.conf</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">sysctl -p</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">#验证</span></span>
<span class="line"><span style="color:#e1e4e8;">lsmod | grep bbr</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">echo &quot;net.core.default_qdisc=fq&quot; &gt;&gt; /etc/sysctl.conf</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">echo &quot;net.ipv4.tcp_congestion_control=bbr&quot; &gt;&gt; /etc/sysctl.conf</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">sysctl -p</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">#验证</span></span>
<span class="line"><span style="color:#24292e;">lsmod | grep bbr</span></span></code></pre></div><h3 id="reality伪装" tabindex="-1">Reality伪装 <a class="header-anchor" href="#reality伪装" aria-label="Permalink to &quot;Reality伪装&quot;">​</a></h3><p>Reality 伪装的网站必须是<code>tls1.3，带有黄色证书的不行</code></p><p><img src="https://nnaigos.oss-cn-hangzhou.aliyuncs.com/imgs/20250506174832253.png" alt="image-20250506174822205"></p><p>查询ASN：<a href="https://tools.ipip.net/as.php" target="_blank" rel="noreferrer">https://tools.ipip.net/as.php</a></p><p>寻找目标：<a href="https://fofa.info" target="_blank" rel="noreferrer">https://fofa.info</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">asn</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">=&quot;45102&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; country</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">=&quot;US&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; port</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">=&quot;443&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">cert!</span><span style="color:#E1E4E8;">=</span><span style="color:#B392F0;">&quot;Let&#39;s Encrypt&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">cert.issuer!</span><span style="color:#E1E4E8;">=</span><span style="color:#B392F0;">&quot;ZeroSSL&quot;</span><span style="color:#E1E4E8;"> &amp;&amp; status_code</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;200&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">asn</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">=&quot;45102&quot;</span><span style="color:#24292E;"> &amp;&amp; country</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">=&quot;US&quot;</span><span style="color:#24292E;"> &amp;&amp; port</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">=&quot;443&quot;</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">cert!</span><span style="color:#24292E;">=</span><span style="color:#6F42C1;">&quot;Let&#39;s Encrypt&quot;</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">cert.issuer!</span><span style="color:#24292E;">=</span><span style="color:#6F42C1;">&quot;ZeroSSL&quot;</span><span style="color:#24292E;"> &amp;&amp; status_code</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;200&quot;</span></span></code></pre></div><blockquote><p>更换asn 和 us</p></blockquote><p>修改目标网站和可选域名即可</p><h3 id="检查端口是否被封" tabindex="-1">检查端口是否被封 <a class="header-anchor" href="#检查端口是否被封" aria-label="Permalink to &quot;检查端口是否被封&quot;">​</a></h3><p><a href="https://tcp.ping.pe/ip:port" target="_blank" rel="noreferrer">https://tcp.ping.pe/ip:port</a></p><blockquote><p>将ip:port 替换成你自己的</p></blockquote><h1 id="_2-客户端" tabindex="-1">2. 客户端 <a class="header-anchor" href="#_2-客户端" aria-label="Permalink to &quot;2. 客户端&quot;">​</a></h1><h2 id="_2-1-win" tabindex="-1">2.1 win <a class="header-anchor" href="#_2-1-win" aria-label="Permalink to &quot;2.1 win&quot;">​</a></h2><p>Windows（v2rayN）：<a href="https://github.com/2dust/v2rayN/releases/tag/6.23" target="_blank" rel="noreferrer">https://github.com/2dust/v2rayN/releases/tag/6.23</a></p><h2 id="_2-2-android" tabindex="-1">2.2 Android <a class="header-anchor" href="#_2-2-android" aria-label="Permalink to &quot;2.2 Android&quot;">​</a></h2><p>Android（v2rayNG）：<a href="https://github.com/2dust/v2rayNG/releases/tag/1.9.39" target="_blank" rel="noreferrer">https://github.com/2dust/v2rayNG/releases/tag/1.9.39</a></p><h2 id="_2-3-ios-手机端" tabindex="-1">2.3 IOS-手机端 <a class="header-anchor" href="#_2-3-ios-手机端" aria-label="Permalink to &quot;2.3 IOS-手机端&quot;">​</a></h2><p>IOS（shadowrocket）：<a href="https://apps.apple.com/app/shadowrocket/id932747118" target="_blank" rel="noreferrer">https://apps.apple.com/app/shadowrocket/id932747118</a></p>`,49),e=[o];function t(c,r,i,y,E,h){return a(),n("div",null,e)}const d=s(l,[["render",t]]);export{m as __pageData,d as default};
