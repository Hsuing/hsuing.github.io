import{_ as e,o as t,c as o,R as a}from"./chunks/framework.zUbWieqp.js";const b=JSON.parse('{"title":"1.Kubernetes 集群频繁出现节点 NotReady","description":"","frontmatter":{},"headers":[],"relativePath":"guide/container/k8s/troubleshooting/10-Kubernetes集群频繁出现节点NotReady.md","filePath":"guide/container/k8s/troubleshooting/10-Kubernetes集群频繁出现节点NotReady.md","lastUpdated":1713263180000}'),r={name:"guide/container/k8s/troubleshooting/10-Kubernetes集群频繁出现节点NotReady.md"},n=a('<h1 id="_1-kubernetes-集群频繁出现节点-notready" tabindex="-1">1.<strong>Kubernetes 集群频繁出现节点 NotReady</strong> <a class="header-anchor" href="#_1-kubernetes-集群频繁出现节点-notready" aria-label="Permalink to &quot;1.**Kubernetes 集群频繁出现节点 NotReady**&quot;">​</a></h1><h2 id="_1-1-问题" tabindex="-1">1.1 问题 <a class="header-anchor" href="#_1-1-问题" aria-label="Permalink to &quot;1.1 问题&quot;">​</a></h2><p>Kubernetes 集群中的节点频繁出现 <code>NotReady</code> 状态，即使自动恢复后不久又再次变为 <code>NotReady</code></p><p><strong>影响范围：</strong></p><ul><li>直接影响：节点上运行的 Pod 可能被驱逐，导致服务中断、数据丢失或处理延迟。</li><li>间接影响：频繁的节点状态变化可能导致调度压力增大、资源利用率降低，影响集群整体稳定性和性能</li></ul><h2 id="_1-2-排查方案" tabindex="-1">1.2 排查方案 <a class="header-anchor" href="#_1-2-排查方案" aria-label="Permalink to &quot;1.2 排查方案&quot;">​</a></h2><ol><li><strong>监控节点资源使用</strong>：使用 <code>kubectl top nodes</code> 和第三方监控工具（如 Prometheus + Grafana）持续监控节点的 CPU、内存、磁盘、网络等资源使用情况，查找是否有资源耗尽的迹象。</li><li><strong>检查节点日志与系统状态</strong>：登录到问题节点，检查系统日志（如 <code>/var/log/messages</code>、<code>/var/log/syslog</code> 等）、Docker（或 Containerd）日志、kubelet 日志，查找与节点状态变化相关的错误或警告。</li><li><strong>排查硬件故障或网络问题</strong>：检查节点的硬件状态（如 CPU、内存、磁盘健康状况），以及网络设备（如网卡、交换机）的状态和日志，看是否存在硬件故障或网络问题。</li><li><strong>检查节点配置与污点</strong>：使用 <code>kubectl describe node &lt;node-name&gt;</code> 查看节点详细信息，确认节点配置（如标签、Taints）是否合理，是否被正确调度。</li><li><strong>排查系统级软件问题</strong>：检查节点的操作系统、内核、kubelet、Docker（或 Containerd）、CNI 插件等软件版本和配置，确认无已知问题或冲突。必要时，升级到稳定版本或重新安装</li></ol>',7),s=[n];function d(i,l,c,_,u,g){return t(),o("div",null,s)}const p=e(r,[["render",d]]);export{b as __pageData,p as default};
