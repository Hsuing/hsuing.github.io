import{_ as s,o as a,c as n,R as p}from"./chunks/framework.zUbWieqp.js";const d=JSON.parse('{"title":"1、查看uuid","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Linux/cmd/1-parted.md","filePath":"guide/Linux/cmd/1-parted.md","lastUpdated":1708505351000}'),l={name:"guide/Linux/cmd/1-parted.md"},o=p(`<blockquote><p>#介绍</p></blockquote><p>parted命令为大于2T硬盘分区 一般来说我们对磁盘分区都是用fdisk命令，但是对于硬盘容量大于2T时，这个命令就不管用了，因为MBR分区表只支持2T磁盘；所以大于2T的磁盘必须使用GPT分区表，这时我们就需要用到parted命令。</p><p>#一、分区</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># parted /dev/sdb     #使用parted来对GPT磁盘操作，进入交互式模式</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) mklabel gpt   </span><span style="color:#6A737D;"># 将MBR磁盘格式化为GPT</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) mkpart primary xfs 0% 100%    将所有容量分为一个主分区</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) p    </span><span style="color:#6A737D;">#打印当前分区</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) q    </span><span style="color:#6A737D;">#退出</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># parted /dev/sdb     #使用parted来对GPT磁盘操作，进入交互式模式</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) mklabel gpt   </span><span style="color:#6A737D;"># 将MBR磁盘格式化为GPT</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) mkpart primary xfs 0% 100%    将所有容量分为一个主分区</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) p    </span><span style="color:#6A737D;">#打印当前分区</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) q    </span><span style="color:#6A737D;">#退出</span></span></code></pre></div><ul><li>或者</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#创建分区</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mklabel gpt&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 2048s 12%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 12% 24%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 24% 36%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 36% 48%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 48% 60%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 60% 72%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 72% 84%&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ansible</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ceph</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-m</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;parted /dev/sde mkpart primary 84% 100%&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#创建分区</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mklabel gpt&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 2048s 12%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 12% 24%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 24% 36%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 36% 48%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 48% 60%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 60% 72%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 72% 84%&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ansible</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ceph</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-m</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;parted /dev/sde mkpart primary 84% 100%&#39;</span></span></code></pre></div><p>#二、格式化</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># mkfs.xfs /dev/sdb1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># mkfs.xfs /dev/sdb1</span></span></code></pre></div><h1 id="_1、查看uuid" tabindex="-1">1、查看uuid <a class="header-anchor" href="#_1、查看uuid" aria-label="Permalink to &quot;1、查看uuid&quot;">​</a></h1><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">第一种：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@jenkins01 </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# blkid </span></span>
<span class="line"><span style="color:#B392F0;">/dev/vda1:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID=&quot;eb448abb-3012-4d8d-bcde-94434d586a31&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TYPE=&quot;ext4&quot;</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#B392F0;">/dev/vdb:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID=&quot;5ab28fa6-21d7-47de-9cf2-f458f2dc4add&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">TYPE=&quot;xfs&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">第二种：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@jenkins01 </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# lsblk -f</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">FSTYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LABEL</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">UUID</span><span style="color:#E1E4E8;">                                 </span><span style="color:#9ECBFF;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#B392F0;">vda</span><span style="color:#E1E4E8;">                                                      </span></span>
<span class="line"><span style="color:#B392F0;">└─vda1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">eb448abb-3012-4d8d-bcde-94434d586a31</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span></span>
<span class="line"><span style="color:#B392F0;">vdb</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">xfs</span><span style="color:#E1E4E8;">          </span><span style="color:#79B8FF;">5</span><span style="color:#9ECBFF;">ab28fa6-21d7-47de-9cf2-f458f2dc4add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">第三种：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[root@localhost </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# ll /dev/disk/by-uuid/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">第一种：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@jenkins01 </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# blkid </span></span>
<span class="line"><span style="color:#6F42C1;">/dev/vda1:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID=&quot;eb448abb-3012-4d8d-bcde-94434d586a31&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TYPE=&quot;ext4&quot;</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6F42C1;">/dev/vdb:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID=&quot;5ab28fa6-21d7-47de-9cf2-f458f2dc4add&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">TYPE=&quot;xfs&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">第二种：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@jenkins01 </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# lsblk -f</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">   </span><span style="color:#032F62;">FSTYPE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LABEL</span><span style="color:#24292E;"> </span><span style="color:#032F62;">UUID</span><span style="color:#24292E;">                                 </span><span style="color:#032F62;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#6F42C1;">vda</span><span style="color:#24292E;">                                                      </span></span>
<span class="line"><span style="color:#6F42C1;">└─vda1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;">         </span><span style="color:#032F62;">eb448abb-3012-4d8d-bcde-94434d586a31</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span></span>
<span class="line"><span style="color:#6F42C1;">vdb</span><span style="color:#24292E;">    </span><span style="color:#032F62;">xfs</span><span style="color:#24292E;">          </span><span style="color:#005CC5;">5</span><span style="color:#032F62;">ab28fa6-21d7-47de-9cf2-f458f2dc4add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">第三种：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[root@localhost </span><span style="color:#D73A49;">~</span><span style="color:#24292E;">]# ll /dev/disk/by-uuid/</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D;">#2016-11-10</span></span>
<span class="line"><span style="color:#6A737D;">#Author</span></span>
<span class="line"><span style="color:#E1E4E8;">disk</span><span style="color:#F97583;">=</span><span style="color:#FFAB70;">$1</span></span>
<span class="line"><span style="color:#E1E4E8;">swap</span><span style="color:#F97583;">=</span><span style="color:#FFAB70;">$2</span></span>
<span class="line"><span style="color:#E1E4E8;">dir_path</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/data</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> [ </span><span style="color:#79B8FF;">$#</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-ne</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> ];</span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Usage:</span><span style="color:#79B8FF;">$0</span><span style="color:#9ECBFF;"> Disk SwapSize&quot;</span></span>
<span class="line"><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;正在创建磁盘分区请稍等&quot;</span></span>
<span class="line"><span style="color:#B392F0;">/sbin/fdisk</span><span style="color:#E1E4E8;"> $disk </span><span style="color:#F97583;">&gt;&amp;</span><span style="color:#9ECBFF;">/dev/null</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">End</span></span>
<span class="line"><span style="color:#9ECBFF;">n</span></span>
<span class="line"><span style="color:#9ECBFF;">p</span></span>
<span class="line"><span style="color:#9ECBFF;">1</span></span>
<span class="line"><span style="color:#9ECBFF;">+</span><span style="color:#79B8FF;">$2</span></span>
<span class="line"><span style="color:#9ECBFF;">n</span></span>
<span class="line"><span style="color:#9ECBFF;">p</span></span>
<span class="line"><span style="color:#9ECBFF;">2</span></span>
<span class="line"><span style="color:#9ECBFF;">        </span></span>
<span class="line"><span style="color:#9ECBFF;">        </span></span>
<span class="line"><span style="color:#9ECBFF;">t</span></span>
<span class="line"><span style="color:#9ECBFF;">1</span></span>
<span class="line"><span style="color:#9ECBFF;">82</span></span>
<span class="line"><span style="color:#9ECBFF;">w</span></span>
<span class="line"><span style="color:#9ECBFF;">End</span></span>
<span class="line"><span style="color:#B392F0;">mkswap</span><span style="color:#E1E4E8;"> \${disk}</span><span style="color:#9ECBFF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/null</span></span>
<span class="line"><span style="color:#B392F0;">sleep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span></span>
<span class="line"><span style="color:#B392F0;">swapon</span><span style="color:#E1E4E8;"> \${disk}</span><span style="color:#9ECBFF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/null</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">disk</span><span style="color:#9ECBFF;">}1 \\t\\tswap \\t\\t\\t swap \\t defaults \\t 0 0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;&gt;</span><span style="color:#9ECBFF;">/etc/fstab</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> [ </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">$dir_path</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> ];</span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> $dir_path</span></span>
<span class="line"><span style="color:#F97583;">fi</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#B392F0;">mkfs</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;"> \${disk}</span><span style="color:#9ECBFF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/null</span></span>
<span class="line"><span style="color:#B392F0;">sleep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span></span>
<span class="line"><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;"> \${disk}</span><span style="color:#9ECBFF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;&amp;</span><span style="color:#9ECBFF;">/dev/null</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">disk</span><span style="color:#9ECBFF;">}2 \\t\\t /data \\t\\t\\t ext4 \\tdefaults \\t 0 0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;&gt;</span><span style="color:#9ECBFF;">/etc/fstab</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;磁盘分区创建已完成！&quot;</span></span>
<span class="line"><span style="color:#F97583;">fi</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D;">#2016-11-10</span></span>
<span class="line"><span style="color:#6A737D;">#Author</span></span>
<span class="line"><span style="color:#24292E;">disk</span><span style="color:#D73A49;">=</span><span style="color:#E36209;">$1</span></span>
<span class="line"><span style="color:#24292E;">swap</span><span style="color:#D73A49;">=</span><span style="color:#E36209;">$2</span></span>
<span class="line"><span style="color:#24292E;">dir_path</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/data</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> [ </span><span style="color:#005CC5;">$#</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-ne</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;"> ];</span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Usage:</span><span style="color:#005CC5;">$0</span><span style="color:#032F62;"> Disk SwapSize&quot;</span></span>
<span class="line"><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;正在创建磁盘分区请稍等&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">/sbin/fdisk</span><span style="color:#24292E;"> $disk </span><span style="color:#D73A49;">&gt;&amp;</span><span style="color:#032F62;">/dev/null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">End</span></span>
<span class="line"><span style="color:#032F62;">n</span></span>
<span class="line"><span style="color:#032F62;">p</span></span>
<span class="line"><span style="color:#032F62;">1</span></span>
<span class="line"><span style="color:#032F62;">+</span><span style="color:#005CC5;">$2</span></span>
<span class="line"><span style="color:#032F62;">n</span></span>
<span class="line"><span style="color:#032F62;">p</span></span>
<span class="line"><span style="color:#032F62;">2</span></span>
<span class="line"><span style="color:#032F62;">        </span></span>
<span class="line"><span style="color:#032F62;">        </span></span>
<span class="line"><span style="color:#032F62;">t</span></span>
<span class="line"><span style="color:#032F62;">1</span></span>
<span class="line"><span style="color:#032F62;">82</span></span>
<span class="line"><span style="color:#032F62;">w</span></span>
<span class="line"><span style="color:#032F62;">End</span></span>
<span class="line"><span style="color:#6F42C1;">mkswap</span><span style="color:#24292E;"> \${disk}</span><span style="color:#032F62;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;&amp;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/null</span></span>
<span class="line"><span style="color:#6F42C1;">sleep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span></span>
<span class="line"><span style="color:#6F42C1;">swapon</span><span style="color:#24292E;"> \${disk}</span><span style="color:#032F62;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;&amp;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/null</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">disk</span><span style="color:#032F62;">}1 \\t\\tswap \\t\\t\\t swap \\t defaults \\t 0 0&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#032F62;">/etc/fstab</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> [ </span><span style="color:#D73A49;">!</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">$dir_path</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;"> ];</span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> $dir_path</span></span>
<span class="line"><span style="color:#D73A49;">fi</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6F42C1;">mkfs</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-t</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;"> \${disk}</span><span style="color:#032F62;">2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;&amp;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/null</span></span>
<span class="line"><span style="color:#6F42C1;">sleep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span></span>
<span class="line"><span style="color:#6F42C1;">mount</span><span style="color:#24292E;"> \${disk}</span><span style="color:#032F62;">2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;&amp;</span><span style="color:#032F62;">/dev/null</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">disk</span><span style="color:#032F62;">}2 \\t\\t /data \\t\\t\\t ext4 \\tdefaults \\t 0 0&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#032F62;">/etc/fstab</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;磁盘分区创建已完成！&quot;</span></span>
<span class="line"><span style="color:#D73A49;">fi</span></span></code></pre></div><h1 id="_2-分区扩容" tabindex="-1">2.分区扩容 <a class="header-anchor" href="#_2-分区扩容" aria-label="Permalink to &quot;2.分区扩容&quot;">​</a></h1><p>1.首先查看一下当前分区状态</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">root@localserver:~#</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">df</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-Th</span></span>
<span class="line"><span style="color:#B392F0;">Filesystem</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">Type</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Used</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Avail</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Use%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Mounted</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span></span>
<span class="line"><span style="color:#B392F0;">udev</span><span style="color:#E1E4E8;">           </span><span style="color:#9ECBFF;">devtmpfs</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">1.8</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">1.8</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev</span></span>
<span class="line"><span style="color:#B392F0;">tmpfs</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">tmpfs</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">394</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">6.6</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">387</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/run</span></span>
<span class="line"><span style="color:#B392F0;">/dev/mmcblk0p2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">59</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">20</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">40</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">33</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span></span>
<span class="line"><span style="color:#B392F0;">tmpfs</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">tmpfs</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">2.0</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">2.0</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/shm</span></span>
<span class="line"><span style="color:#B392F0;">tmpfs</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">tmpfs</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">5.0</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">5.0</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/run/lock</span></span>
<span class="line"><span style="color:#B392F0;">tmpfs</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">tmpfs</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">2.0</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">20</span><span style="color:#9ECBFF;">K</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">2.0</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/tmp</span></span>
<span class="line"><span style="color:#B392F0;">/dev/mmcblk1p1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">223</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">79</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">140</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">37</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/boot</span></span>
<span class="line"><span style="color:#B392F0;">/dev/sda1</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">125</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">82</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">37</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">69</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/root/wxedge</span></span>
<span class="line"><span style="color:#B392F0;">/dev/sda2</span><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">343</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">28</span><span style="color:#9ECBFF;">K</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">325</span><span style="color:#9ECBFF;">G</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/root/userdata0</span></span>
<span class="line"><span style="color:#B392F0;">/dev/zram1</span><span style="color:#E1E4E8;">     </span><span style="color:#9ECBFF;">ext4</span><span style="color:#E1E4E8;">       </span><span style="color:#79B8FF;">49</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">24</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">22</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">53</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/log</span></span>
<span class="line"><span style="color:#B392F0;">tmpfs</span><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">tmpfs</span><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">394</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">8.0</span><span style="color:#9ECBFF;">K</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">394</span><span style="color:#9ECBFF;">M</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">%</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/run/user/0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">root@localserver:~#</span><span style="color:#24292E;"> </span><span style="color:#032F62;">df</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-Th</span></span>
<span class="line"><span style="color:#6F42C1;">Filesystem</span><span style="color:#24292E;">     </span><span style="color:#032F62;">Type</span><span style="color:#24292E;">      </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Used</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Avail</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Use%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Mounted</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span></span>
<span class="line"><span style="color:#6F42C1;">udev</span><span style="color:#24292E;">           </span><span style="color:#032F62;">devtmpfs</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">1.8</span><span style="color:#032F62;">G</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">1.8</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev</span></span>
<span class="line"><span style="color:#6F42C1;">tmpfs</span><span style="color:#24292E;">          </span><span style="color:#032F62;">tmpfs</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">394</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">6.6</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">387</span><span style="color:#032F62;">M</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/run</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/mmcblk0p2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">59</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">20</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">40</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">33</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span></span>
<span class="line"><span style="color:#6F42C1;">tmpfs</span><span style="color:#24292E;">          </span><span style="color:#032F62;">tmpfs</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">2.0</span><span style="color:#032F62;">G</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">2.0</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/shm</span></span>
<span class="line"><span style="color:#6F42C1;">tmpfs</span><span style="color:#24292E;">          </span><span style="color:#032F62;">tmpfs</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">5.0</span><span style="color:#032F62;">M</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">5.0</span><span style="color:#032F62;">M</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/run/lock</span></span>
<span class="line"><span style="color:#6F42C1;">tmpfs</span><span style="color:#24292E;">          </span><span style="color:#032F62;">tmpfs</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">2.0</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">20</span><span style="color:#032F62;">K</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">2.0</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/tmp</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/mmcblk1p1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">223</span><span style="color:#032F62;">M</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">79</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">140</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">37</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/boot</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/sda1</span><span style="color:#24292E;">      </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">125</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">82</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">37</span><span style="color:#032F62;">G</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">69</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/root/wxedge</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/sda2</span><span style="color:#24292E;">      </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">343</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">28</span><span style="color:#032F62;">K</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">325</span><span style="color:#032F62;">G</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/root/userdata0</span></span>
<span class="line"><span style="color:#6F42C1;">/dev/zram1</span><span style="color:#24292E;">     </span><span style="color:#032F62;">ext4</span><span style="color:#24292E;">       </span><span style="color:#005CC5;">49</span><span style="color:#032F62;">M</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">24</span><span style="color:#032F62;">M</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">22</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">53</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/log</span></span>
<span class="line"><span style="color:#6F42C1;">tmpfs</span><span style="color:#24292E;">          </span><span style="color:#032F62;">tmpfs</span><span style="color:#24292E;">     </span><span style="color:#005CC5;">394</span><span style="color:#032F62;">M</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">8.0</span><span style="color:#032F62;">K</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">394</span><span style="color:#032F62;">M</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">%</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/run/user/0</span></span></code></pre></div><p>在本次示例中，由于<code>dev/sda1</code>分区容量较小；而<code>/dev/sda2</code>业务较为不重要，因此想将<code>/dev/sda2</code>的容量转移到<code>/dev/sda1</code>中</p><p>2.停用欲扩容分区业务，卸载欲扩容分区</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">umount</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda1</span></span>
<span class="line"><span style="color:#B392F0;">umount</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda2</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">umount</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda1</span></span>
<span class="line"><span style="color:#6F42C1;">umount</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda2</span></span></code></pre></div><p>3.使用parted进入磁盘操作模式：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">parted</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda</span></span></code></pre></div><p>此时应有返回：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">root@armbian:~#</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">parted</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda</span></span>
<span class="line"><span style="color:#B392F0;">GNU</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Parted</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3.4</span></span>
<span class="line"><span style="color:#B392F0;">Using</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda</span></span>
<span class="line"><span style="color:#B392F0;">Welcome</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">GNU</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Parted!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Type</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;help&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commands.</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">root@armbian:~#</span><span style="color:#24292E;"> </span><span style="color:#032F62;">parted</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda</span></span>
<span class="line"><span style="color:#6F42C1;">GNU</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Parted</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3.4</span></span>
<span class="line"><span style="color:#6F42C1;">Using</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda</span></span>
<span class="line"><span style="color:#6F42C1;">Welcome</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">GNU</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Parted!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Type</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;help&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">view</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commands.</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">)</span></span></code></pre></div><p>4.查看当前分区表：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) p                                                                </span></span>
<span class="line"><span style="color:#B392F0;">Model:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NVME</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">USB</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3.2</span><span style="color:#E1E4E8;"> (scsi)</span></span>
<span class="line"><span style="color:#B392F0;">Disk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">512</span><span style="color:#9ECBFF;">GB</span></span>
<span class="line"><span style="color:#B392F0;">Sector</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">size</span><span style="color:#E1E4E8;"> (logical/physical): 512B/512B</span></span>
<span class="line"><span style="color:#B392F0;">Partition</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Table:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gpt</span></span>
<span class="line"><span style="color:#B392F0;">Disk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Flags:</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Number</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Start</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">End</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">File</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">system</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Name</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Flags</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">1</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">1049</span><span style="color:#9ECBFF;">kB</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">137</span><span style="color:#9ECBFF;">GB</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">137</span><span style="color:#9ECBFF;">GB</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">ext4</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">2</span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">137</span><span style="color:#9ECBFF;">GB</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">512</span><span style="color:#9ECBFF;">GB</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">375</span><span style="color:#9ECBFF;">GB</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">ext4</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) p                                                                </span></span>
<span class="line"><span style="color:#6F42C1;">Model:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NVME</span><span style="color:#24292E;"> </span><span style="color:#032F62;">USB</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3.2</span><span style="color:#24292E;"> (scsi)</span></span>
<span class="line"><span style="color:#6F42C1;">Disk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">512</span><span style="color:#032F62;">GB</span></span>
<span class="line"><span style="color:#6F42C1;">Sector</span><span style="color:#24292E;"> </span><span style="color:#032F62;">size</span><span style="color:#24292E;"> (logical/physical): 512B/512B</span></span>
<span class="line"><span style="color:#6F42C1;">Partition</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Table:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gpt</span></span>
<span class="line"><span style="color:#6F42C1;">Disk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Flags:</span><span style="color:#24292E;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Number</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Start</span><span style="color:#24292E;">   </span><span style="color:#032F62;">End</span><span style="color:#24292E;">    </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">   </span><span style="color:#032F62;">File</span><span style="color:#24292E;"> </span><span style="color:#032F62;">system</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Name</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Flags</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">1</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">1049</span><span style="color:#032F62;">kB</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">137</span><span style="color:#032F62;">GB</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">137</span><span style="color:#032F62;">GB</span><span style="color:#24292E;">  </span><span style="color:#032F62;">ext4</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">2</span><span style="color:#24292E;">      </span><span style="color:#005CC5;">137</span><span style="color:#032F62;">GB</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">512</span><span style="color:#032F62;">GB</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">375</span><span style="color:#032F62;">GB</span><span style="color:#24292E;">  </span><span style="color:#032F62;">ext4</span></span></code></pre></div><p><strong>记下当前输出的所有信息</strong>，后面会用到，最好是复制出来到另外的地方</p><p>5.删除2号分区和1号分区：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) rm 2</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) rm 1</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) p                                                                </span></span>
<span class="line"><span style="color:#B392F0;">Model:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NVME</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">USB</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3.2</span><span style="color:#E1E4E8;"> (scsi)</span></span>
<span class="line"><span style="color:#B392F0;">Disk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">512</span><span style="color:#9ECBFF;">GB</span></span>
<span class="line"><span style="color:#B392F0;">Sector</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">size</span><span style="color:#E1E4E8;"> (logical/physical): 512B/512B</span></span>
<span class="line"><span style="color:#B392F0;">Partition</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Table:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gpt</span></span>
<span class="line"><span style="color:#B392F0;">Disk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Flags:</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Number</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Start</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">End</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Size</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">File</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">system</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Name</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">Flags</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) rm 2</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) rm 1</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) p                                                                </span></span>
<span class="line"><span style="color:#6F42C1;">Model:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NVME</span><span style="color:#24292E;"> </span><span style="color:#032F62;">USB</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3.2</span><span style="color:#24292E;"> (scsi)</span></span>
<span class="line"><span style="color:#6F42C1;">Disk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">512</span><span style="color:#032F62;">GB</span></span>
<span class="line"><span style="color:#6F42C1;">Sector</span><span style="color:#24292E;"> </span><span style="color:#032F62;">size</span><span style="color:#24292E;"> (logical/physical): 512B/512B</span></span>
<span class="line"><span style="color:#6F42C1;">Partition</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Table:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gpt</span></span>
<span class="line"><span style="color:#6F42C1;">Disk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Flags:</span><span style="color:#24292E;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Number</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Start</span><span style="color:#24292E;">  </span><span style="color:#032F62;">End</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Size</span><span style="color:#24292E;">  </span><span style="color:#032F62;">File</span><span style="color:#24292E;"> </span><span style="color:#032F62;">system</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Name</span><span style="color:#24292E;">  </span><span style="color:#032F62;">Flags</span></span></code></pre></div><p>6.重建分区：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">parted</span><span style="color:#E1E4E8;">) mkpart                                                           </span></span>
<span class="line"><span style="color:#6A737D;"># 输入上面记下的1号分区的Name值，如果输出的时候就没有就直接回车</span></span>
<span class="line"><span style="color:#B392F0;">Partition</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">name?</span><span style="color:#E1E4E8;">  []</span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;">                                                      </span></span>
<span class="line"><span style="color:#6A737D;"># 输入上面记下的1号分区的分区格式值</span></span>
<span class="line"><span style="color:#B392F0;">File</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">system</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">type?</span><span style="color:#E1E4E8;">  [ext2]</span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> ext4                                           </span></span>
<span class="line"><span style="color:#6A737D;"># 输入上面记下的起始点</span></span>
<span class="line"><span style="color:#B392F0;">Start?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1049</span><span style="color:#9ECBFF;">KB</span><span style="color:#E1E4E8;">                                                             </span></span>
<span class="line"><span style="color:#6A737D;"># 输入终点，注意，这个值只能比上面记下的End值大</span></span>
<span class="line"><span style="color:#B392F0;">End?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">240</span><span style="color:#9ECBFF;">GB</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(</span><span style="color:#6F42C1;">parted</span><span style="color:#24292E;">) mkpart                                                           </span></span>
<span class="line"><span style="color:#6A737D;"># 输入上面记下的1号分区的Name值，如果输出的时候就没有就直接回车</span></span>
<span class="line"><span style="color:#6F42C1;">Partition</span><span style="color:#24292E;"> </span><span style="color:#032F62;">name?</span><span style="color:#24292E;">  []</span><span style="color:#D73A49;">?</span><span style="color:#24292E;">                                                      </span></span>
<span class="line"><span style="color:#6A737D;"># 输入上面记下的1号分区的分区格式值</span></span>
<span class="line"><span style="color:#6F42C1;">File</span><span style="color:#24292E;"> </span><span style="color:#032F62;">system</span><span style="color:#24292E;"> </span><span style="color:#032F62;">type?</span><span style="color:#24292E;">  [ext2]</span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> ext4                                           </span></span>
<span class="line"><span style="color:#6A737D;"># 输入上面记下的起始点</span></span>
<span class="line"><span style="color:#6F42C1;">Start?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1049</span><span style="color:#032F62;">KB</span><span style="color:#24292E;">                                                             </span></span>
<span class="line"><span style="color:#6A737D;"># 输入终点，注意，这个值只能比上面记下的End值大</span></span>
<span class="line"><span style="color:#6F42C1;">End?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">240</span><span style="color:#032F62;">GB</span></span></code></pre></div><p>7.退出parted，命令是<code>quit</code></p><p>8.resize一下扩容的分区</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">root@localserver:~#</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">resize2fs</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-f</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda1</span><span style="color:#E1E4E8;">                                    </span></span>
<span class="line"><span style="color:#B392F0;">resize2fs</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.46</span><span style="color:#9ECBFF;">.2</span><span style="color:#E1E4E8;"> (28-Feb-2021)</span></span>
<span class="line"><span style="color:#B392F0;">Resizing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">filesystem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">58593536</span><span style="color:#E1E4E8;"> (4k) blocks.</span></span>
<span class="line"><span style="color:#B392F0;">The</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">filesystem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/dev/sda1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">now</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">58593536</span><span style="color:#E1E4E8;"> (4k) blocks long.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">root@localserver:~#</span><span style="color:#24292E;"> </span><span style="color:#032F62;">resize2fs</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-f</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda1</span><span style="color:#24292E;">                                    </span></span>
<span class="line"><span style="color:#6F42C1;">resize2fs</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.46</span><span style="color:#032F62;">.2</span><span style="color:#24292E;"> (28-Feb-2021)</span></span>
<span class="line"><span style="color:#6F42C1;">Resizing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">filesystem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">58593536</span><span style="color:#24292E;"> (4k) blocks.</span></span>
<span class="line"><span style="color:#6F42C1;">The</span><span style="color:#24292E;"> </span><span style="color:#032F62;">filesystem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/dev/sda1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">is</span><span style="color:#24292E;"> </span><span style="color:#032F62;">now</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">58593536</span><span style="color:#24292E;"> (4k) blocks long.</span></span></code></pre></div><p>9.重新挂载分区</p>`,32),e=[o];function t(c,r,y,E,F,i){return a(),n("div",null,e)}const B=s(l,[["render",t]]);export{d as __pageData,B as default};
