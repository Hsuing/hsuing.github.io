import{_ as t,o as r,c as d,R as e}from"./chunks/framework.zUbWieqp.js";const b=JSON.parse('{"title":"1. SqlServer介绍","description":"","frontmatter":{},"headers":[],"relativePath":"guide/Database/SqlServer/index.md","filePath":"guide/Database/SqlServer/index.md","lastUpdated":1739786641000}'),i={name:"guide/Database/SqlServer/index.md"},a=e('<h1 id="_1-sqlserver介绍" tabindex="-1">1. SqlServer介绍 <a class="header-anchor" href="#_1-sqlserver介绍" aria-label="Permalink to &quot;1. SqlServer介绍&quot;">​</a></h1><p>MicrosoftSQLServer是一种关系数据库管理系统（RDBMS)。应用程序和工具连接到SQLServer实例或数据库，并使用Transact-SQL（T-SQL)进行通信。可在Windows或Linux上安装SQLServer，将其部署在Linux容器中，或者部署在Azure虚拟机或其他虚拟机平台上。</p><h1 id="_2-sqlserver版本" tabindex="-1">2. SqlServer版本 <a class="header-anchor" href="#_2-sqlserver版本" aria-label="Permalink to &quot;2. SqlServer版本&quot;">​</a></h1><table><thead><tr><th>版本</th><th>定义</th></tr></thead><tbody><tr><td>Enterprise（企业版)</td><td>作为高级产品/服务，SQLServerEnterpriseEdition提供了全面的高端数据中心功能，具有极高的性能和无限虚拟化</td></tr><tr><td>Standard（标准版）</td><td>SQLServerStandard版提供了基本数据管理和商业智能数据库，使部门和小型组织能够顺利运行其应用程序并支持将常用开发工具用于内部部署和云部署，有助于以最少的IT资源获得高效的数据库管理。</td></tr><tr><td>开发人员</td><td>SQLServerDeveloper版支持开发人员基于SQLServer构建任意类型的应用程序。它包括Enterprise版的所有功能，但有许可限制，只能用作开发和测试系统，而不能用作生产服务器。SQLServerDeveloper是构建和测试应用程序的人员的理想之选</td></tr><tr><td>Express Edition（精简版）</td><td>SQLServerExpressEdition是入门级的免费数据库，是学习和构建桌面及小型服务器数据驱动应用程序的理想选择。</td></tr></tbody></table><h1 id="_3-sqlserver限制" tabindex="-1">3. SqlServer限制 <a class="header-anchor" href="#_3-sqlserver限制" aria-label="Permalink to &quot;3. SqlServer限制&quot;">​</a></h1><table><thead><tr><th>特点</th><th>Enterprise</th><th>Standard</th><th>Express替换为高级服务</th><th>Express</th></tr></thead><tbody><tr><td>单个实例使用的最大计算能力（SQLServer数据库引擎1）</td><td>操作系统支持的最大值</td><td>限制为4个插槽或24核，取二者中的较小值</td><td>限制为1个插槽或4核，取二者中的较小值</td><td>限制为1个插槽或4核，取二者中的较小值</td></tr><tr><td>单个实例使用的最大计算能力-Analysis Services 或Reporting Services</td><td>操作系统支持的最大值</td><td>限制为4个插槽或24核，取二者中的较小值</td><td>限制为1个插槽或4核，取二者中的较小值</td><td>限制为1个插槽或4核，取二者中的较小值</td></tr><tr><td>每个SQLServer数据库引擎实例的缓冲池的最大内存</td><td>操作系统支持的最大值</td><td>128 GB</td><td>1410 MB</td><td>1410 MB</td></tr><tr><td>每个SQLServer数据库引擎实例的列存储段缓存的最大内存</td><td>不受限制的内存</td><td>32 GB</td><td>352 MB</td><td>352 MB</td></tr><tr><td>SQLServer数据库引擎中每个数据库的最大内存优化数据大小</td><td>不受限制的内存</td><td>32 GB</td><td>352 MB</td><td>352 MB</td></tr><tr><td>每个AnalysisServices实例利用的最大内存</td><td>操作系统支持的最大值</td><td>16GB 2 64GB 3</td><td>不可用</td><td>不适用</td></tr><tr><td>每个ReportingServices实例利用的最大内存</td><td>操作系统支持的最大值</td><td>64 GB</td><td>4 GB</td><td>不适用</td></tr><tr><td>最大关系数据库大小</td><td>524 PB</td><td>524 PB</td><td>10GB</td><td>10GB</td></tr></tbody></table><h1 id="_4-sqlserver的组件" tabindex="-1">4. SqlServer的组件 <a class="header-anchor" href="#_4-sqlserver的组件" aria-label="Permalink to &quot;4. SqlServer的组件&quot;">​</a></h1><table><thead><tr><th>SqlServer数据引擎</th><th>SQLServer数据库引擎包括数据库引擎（用于存储、处理和保护数据的核心服务）、复制、全文搜索、管理关系数据和XML数据的工具（以数据分析集成和用于访问Hadoop与其他异类数据源的Polybase集成的方式）以及使用关系数据运行Python和R脚本的机器学习服务。</th></tr></thead><tbody><tr><td>AnalysiServices</td><td>AnalysisServices包括一些工具，可用于创建和管理联机分析处理（OLAP)以及数据挖掘应用程序</td></tr><tr><td>Reporting Services</td><td>ReportingServices包括用于创建、管理和部署表格报表、矩阵报表、图形报表以及自由格式报表的服务器和客户端组件。Reporting Services还是一个可用于开发报表应用程序的可扩展平台</td></tr><tr><td>Integration Services</td><td>IntegrationServices是一组图形工具和可编程对象，用于移动、复制和转换数据。它还包括用于IntegrationServices的&quot;数据质量服务(DQS)&quot;组件</td></tr><tr><td>Master Data Services</td><td>MasterDataServices（MDS)是针对主数据管理的SQLServer解决方案。可以配置MDS来管理任何领域（产品、客户、帐户）；MDS中可包括层次结构、各种级别的安全性、事务、数据版本控制和业务规则，以及可用于管理数据的用于Excel的外接程序。</td></tr><tr><td>机器学习服务（数据库内)</td><td>机器学习服务（数据库内）支持使用企业数据源的分布式、可缩放的机器学习解决方案。在SQLServer2016中，支持R语言。SQLServer2019(15.x)支持R和Python。</td></tr><tr><td>机器学习服务器（独立)</td><td>机器学习服务器（独立）支持在多个平台上部署分布式、可缩放机器学习解决方案，并可使用多个企业数据源，包括Linux和Hadoop在SQLServer2016中，支持R语言。SQLServer2019（15.x)支持R和Python。</td></tr></tbody></table><h1 id="_5-sqlserver-2019-硬件和软件要求" tabindex="-1">5. SqlServer（2019）硬件和软件要求 <a class="header-anchor" href="#_5-sqlserver-2019-硬件和软件要求" aria-label="Permalink to &quot;5. SqlServer（2019）硬件和软件要求&quot;">​</a></h1><h2 id="_5-1-硬件要求" tabindex="-1">5.1 硬件要求 <a class="header-anchor" href="#_5-1-硬件要求" aria-label="Permalink to &quot;5.1 硬件要求&quot;">​</a></h2><table><thead><tr><th>组件</th><th>要求</th></tr></thead><tbody><tr><td>硬盘</td><td>SQLServer要求最少6GB的可用硬盘空间。磁盘空间要求将随所安装的SQLServer组件不同而发生变化</td></tr><tr><td>监视</td><td>SQLServer要求有Super-VGA（800x600)或更高分辨率的显示器</td></tr><tr><td>Internet</td><td>使用Internet功能需要连接Internet（可能需要付费</td></tr><tr><td>内存</td><td>最低要求：ExpressEdition：512MB所有其他版本：1GB推荐：ExpressEdition：1GB所有其他版本：至少4GB，并且应随着数据库大小的增加而增加来确保最佳性能。</td></tr><tr><td>处理器速度</td><td>最低要求：x64处理器：1.4GHz推荐：2.0GHz或更快</td></tr><tr><td>处理器类型</td><td>x64处理器：AMDOpteron、AMDAthlon64、支持Intel EM64T的IntelXeon，以及支持EM64T的Intel Pentium IV</td></tr></tbody></table><h2 id="_5-2-软件要求" tabindex="-1">5.2 软件要求 <a class="header-anchor" href="#_5-2-软件要求" aria-label="Permalink to &quot;5.2 软件要求&quot;">​</a></h2><table><thead><tr><th>组件</th><th>要求</th></tr></thead><tbody><tr><td>操作系统</td><td>Windows10TH11507或更高版本WindowsServer2016或更高版本</td></tr><tr><td>.NET Framework</td><td>最低版本操作系统包括最低版本.NETFramework。</td></tr><tr><td>网络软件</td><td>SQLSerVer支持的操作系统具有内置网络软件。独立安装项的命名实例和默认实例支持以下网络协议：共享内存、命名管道和TCP/IP</td></tr></tbody></table><h2 id="_5-3-操作系统支持" tabindex="-1">5.3 操作系统支持 <a class="header-anchor" href="#_5-3-操作系统支持" aria-label="Permalink to &quot;5.3 操作系统支持&quot;">​</a></h2><p><a href="https://learn.microsoft.com/zh-cn/sql/sql-server/install/hardware-and-software-requirements-for-installing-sql-server-2019?view=sql-server-ver16" target="_blank" rel="noreferrer">官当2019</a></p><p><a href="https://learn.microsoft.com/zh-cn/sql/sql-server/install/hardware-and-software-requirements-for-installing-sql-server?view=sql-server-ver16" target="_blank" rel="noreferrer">官当2017</a></p><p>下表显示了哪些版本的SQLServer2019（15.x)与哪些版本的Windows兼容</p><table><thead><tr><th>SQLServer版本</th><th>Enterprise</th><th>开发人员</th><th>Standard</th><th>Web</th><th>Express</th></tr></thead><tbody><tr><td>Windows Server 2022 Datacenter</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2022 Datacenter: Azure Edition</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2022Standard</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2022 Essentials</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2019 Datacenter</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2019 Standard</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2019 Essentials</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2016 Datacenter</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2016 Standard</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows Server 2016 Essentials</td><td>是</td><td>是</td><td>是</td><td>是</td><td>是</td></tr><tr><td>Windows 11 loT企业版</td><td>否</td><td>是</td><td>是</td><td>否</td><td>是</td></tr><tr><td>Windows 11企业版</td><td>否</td><td>是</td><td>是</td><td>否</td><td>是</td></tr><tr><td>Windows 11专业版</td><td>否</td><td>是</td><td>是</td><td>否</td><td>是</td></tr><tr><td>Windows 11家庭版</td><td>否</td><td>是</td><td>是</td><td>否</td><td>是</td></tr></tbody></table><p><a href="https://www.bilibili.com/video/BV1qF411u7iu?spm_id_from=333.337.search-card.all.click" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1qF411u7iu?spm_id_from=333.337.search-card.all.click</a></p><p><a href="https://www.bilibili.com/video/BV1h4411f7Ps?p=15" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1h4411f7Ps?p=15</a></p><p><a href="https://www.bilibili.com/video/BV1Kb411Y7zo?spm_id_from=333.337.search-card.all.click" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1Kb411Y7zo?spm_id_from=333.337.search-card.all.click</a></p><p>文档，<a href="https://academy.sqlbak.com/checkpoint/" target="_blank" rel="noreferrer">https://academy.sqlbak.com/checkpoint/</a></p><p><a href="https://learn.microsoft.com/zh-cn/troubleshoot/sql/database-engine/install/windows/issues-install-sql-server" target="_blank" rel="noreferrer">https://learn.microsoft.com/zh-cn/troubleshoot/sql/database-engine/install/windows/issues-install-sql-server</a></p><hr><p>一般地，作为一个DBA，至少应该做好以下12项任务：</p><ul><li>任务一：安装和配置;</li><li>任务二：容量规划;</li><li>任务三：应用架构设计;</li><li>任务四：管理数据库对象;</li><li>任务五：存储空间管理;</li><li>任务六：安全管理;</li><li>任务七：备份和恢复;</li><li>任务八：性能监视和调优;</li><li>任务九：调度作业;</li><li>任务十：网络管理;</li><li>任务十一：高可用性和高可伸缩性管理;</li><li>任务十二：故障解决;</li></ul><p>任务一：安装和配置。</p><p>DBA的第一项任务是安装和配置Microsoft SQL Server 2008软件系统，为顺利使用Microsoft SQL Server 2008软件创建良好的环境。无论是安装还是配置，都应该根据实际需要来进行，使得系统满足用户的实际需求。需要注意的是，系统配置不是一劳永逸的，应该 随时根据需求的变化和环境的需要，进行监视和适当地调整。</p><p>任务二：容量规划。</p><p>容量规划是对整个Microsoft SQL Server 2008系统进行一个总体的规划。规划的重点应该放在解决瓶颈问题上。可以从内容和期限两个方面考虑系统的容量规划。</p><p>从内容上来看，应该考虑的主要内容包括：硬件容量规划、软件规划、网络规划。硬件容量规划包括磁盘空间、CPU、I/O等规划。软件规划包括操作系统的 安装和配置规划、数据库规划、数据库对象内容和数量规划等。网络规划包括网络硬件、网络软件和协议、网络客户数量流量和分布、网络拓扑结构等规划。</p><p>从期限上来看，应该考虑短期、中期和长期规划。短期规划的目的是满足当前日常业务的需要。中期规划主要是满足业务发展和扩大的需要。长期规划主要是满足 业务极限需要等。例如，如果预测某个系统的当前并发用户数量是1000，3年后的用户可能达到1000万，那么这时既不能按照1000用户的需求来设计， 也不能一下子按照1000万用户的需求来设计，一定要采取一个折中的形式。</p><p>任务三：应用架构设计。</p><p>应用架构设计包括数据库设计、应用程序设计和相应的技术架构设计。</p><p>数据库设计应该考虑数据库的逻辑需求、数据库的创建方式和数量、数据库数据文件和日志文件的物理位置等。一般情况下，可以在Microsoft SQL Server 2008系统成功安装之后，根据规划的目标，手工创建数据库。</p><p>应用设计应该考虑开发工具的选择、API技术、内部资源和外部资源的结合、应用架构的分布等。需要强调是在应用设计时，DBA应该与开发人员共同工作，确保他们编写出优化的代码，尽可能地使用服务器的资源。</p><p>技术架构设计主要包括表示层、逻辑层和数据层的分布。这些分布不应该考虑到硬件资源和用户需求。既不能片面地追求过高的硬件资源，也不能仅仅局限于当前的环境，一定要按照可扩展的观点来综合考虑。</p><p>任务四：管理数据库对象。</p><p>管理数据库对象是使用数据库的最基本、最重要的工作。这些对象包括表、索引、视图、存储过程、函数、触发器、同义词等。为了完成管理数据库对象的工作，DBA应该能够很好地回答诸如下面的这些问题。</p><ul><li>系统应该包括哪些数据?</li><li>应该怎样存储这些数据?</li><li>应该在系统中创建哪些表?</li><li>应该在这些表中创建哪些索引，以便加速检索?</li><li>是否应该创建视图?为什么要创建这些视图?</li><li>应该创建哪些存储过程、函数、CLR对象?</li><li>应该在哪些表上创建触发器?应该针对哪些操作创建触发器?</li><li>是否应该创建同义词?</li></ul><p>任务五：存储空间管理。</p><p>存储空间管理任务就是怎样为数据分配空间、怎样保持空间可以满足数据的不断增长。随着业务量的继续和扩大，数据库中的数据也会逐渐地增加，事务日志也不断地增加。存储空间管理任务主要围绕下面几个问题。</p><ul><li>当前的数据库由那些数据文件组成?</li><li>事务日志的大小应该如何设置?</li><li>数据的增长速度是多大?</li><li>如何配置数据文件和日志文件的增长方式?</li><li>数据库中的数据何时可以清除或转移到其他地方?</li></ul><p>任务六：安全管理。</p><p>安全性是DBA重要的日常工作之一。安全管理的主要内容包括账户管理和权限管理。账户管理就是在数据库中应该增加哪些账户、这些账户应该组合成哪些角色等等。权限管理是对象权限和语句权限的管理，应该回答下面这些问题：</p><ul><li>这些账户或角色应该使用哪些对象?</li><li>这些账户或角色应该对这些对象执行哪些操作?</li><li>这些账户或角色应该在数据库中执行哪些操作?</li><li>如何设置架构?如何建立架构和对象、架构和用户的关系?</li></ul><p>任务七：备份和恢复。</p><p>无论系统运行如何，系统的灾难性管理是不可缺少的。天灾、人祸、系统缺陷都有可能造成系统的瘫痪、失败。怎样解决这些灾难性问题呢?办法就是制订和实行 备份和恢复策略。备份就是制作数据的副本，恢复就是将数据的副本复原到系统中。备份和恢复工作是DBA的一项持续性的重要工作，其执行频率根据数据的重要 程度和系统的稳定程度来确定。</p><p>任务八：性能监视和调优。</p><p>根据企业的经营效益评价企业的管理水平，根据学生的考试成绩 评价学生的学习好坏。作为一个大型软件系统，Microsoft SQL Server 2008系统的运行好坏必须得到正确地监视、评价和相应的调整。这是DBA的一项高级工作。借助一些工具和运行性能指标，DBA应该能够监视系统的运行。 如果某些运行指标出现了问题，DBA应该及时地采取补救措施，使得系统始终保持高效运行状态。</p><p>任务九：调度作业。</p><p>DBA不可能一天24小时不停地盯住系统的运行，及时地执行某些指定的操作。Microsoft SQL Server 2008系统提供了许多工具，DBA应该充分利用这些工具和机制，解决下面一些问题。</p><ul><li>调度哪些作业应该由系统执行?</li><li>这些作业应该在何时执行?</li><li>如何确保这些作业可以正确地执行?</li><li>如果自动执行的作业执行失败时，应该如何处理?</li><li>如何使得系统可以均衡地执行相应的操作?</li></ul><p>任务十：网络管理。</p><p>作为一种分布式的网络数据库，网络管理的任务更加的重要。Microsoft SQL Server 2008系统提供了网络管理工具和服务，DBA应该借助这些工具进行服务规划和管理网络操作。</p><p>任务十一：高可用性和高可伸缩性管理。</p><p>作为一个DBA，必须保持系统具有高可用性和高可伸缩性。可用性是一项度量计算机系统正常运行时间的指标。可伸缩性描述应用程序可以接受的并发用户访问 的数量问题。影响系统可用性的主要因素包括：网络可靠性、硬件故障、应用程序失败、操作系统崩溃、自然灾害等。无论是数据库系统管理员，还是应用程序设计 人员，都应该最小化系统破坏的几率，最大化系统的可用性。在设计系统的可用性时，应该确定采取什么样的可用性策略来满足可用性的需求。</p><p>可用性的需求可以通过3个方面描述，即运行的时间、连接性需求和数据的紧密和松散要求。在确定可用性的需求时，首先考虑系统的运行时间。一般地，数据库应 用程序有两种运行时间，即在工作时间是可用的和在任何时间都是可用的。如果只是要求在工作时间是可用的，那么可以把系统的维护等工作安排在周末进行。但 是，有许多应用程序要求每天运行24小时、每周运行7天，例如，在线超市等，这时必须采取措施保证系统总是运行的。不同的应用程序有不同的连接性要求。大 多数的应用程序和电子商务解决方案要求采用可靠的网络连接。这时，要求永久性的在线连接，必须最小化各种异常现象的发生。有些应用程序允许用户离线使用。 这时，系统的可用性要求降低了。大多数应用程序要求数据是同步使用的。用户对数据的请求，系统必须立即做出回应。这是紧密型的数据要求，这种情况必须保证 系统的高可用性。有些应用程序不需要数据是同步的，对用户的请求可以延迟回应。这种要求是数据松散型的要求，这时系统的可用性需求比较低。</p><p>任务十二：故障解决。</p><p>虽然不希望Microsoft SQL Server 2008系统出现故障，但是故障可能是无法避免的。这些故障可能每天都会发生。有些故障是人为不小心造成的，有些故障可能是系统中的缺陷形成的，有些故障 可能是莫名其妙的。作为一个DBA，在系统中的其他用户心目中是Microsoft SQL Server系统的权威。无论是大事还是小事，DBA都应该做到迅速诊断、准确判断、快速修复。从这个意义上来说，DBA是一个数据库系统的专业医生。</p><hr><hr>',62),l=[a];function s(o,n,S,h,p,c){return r(),d("div",null,l)}const q=t(i,[["render",s]]);export{b as __pageData,q as default};
